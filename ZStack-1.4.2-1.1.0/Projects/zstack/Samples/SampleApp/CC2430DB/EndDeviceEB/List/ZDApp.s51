//////////////////////////////////////////////////////////////////////////////
//                                                                           /
// IAR 8051 C/C++ Compiler V7.20H/W32                  17/Oct/2013  21:52:35 /
// Copyright 2004-2006 IAR Systems. All rights reserved.                     /
//                                                                           /
//    Core               =  plain                                            /
//    Code model         =  banked                                           /
//    Data model         =  large                                            /
//    Calling convention =  xdata reentrant                                  /
//    Constant location  =  data                                             /
//    Dptr setup         =  1,16                                             /
//    Source file        =  D:\Texas Instruments\ZStack-1.4.2-1.1.0\Componen /
//                          ts\stack\zdo\ZDApp.c                             /
//    Command line       =  -f E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì¨\CC2430´®¿ /
//                          ÚÊÕ·¢\ZStack-1.4.2-1.1.0\Projects\zstack\Samples /
//                          \SampleApp\CC2430DB\..\..\..\Tools\CC2430DB\f8wE /
//                          ndev.cfg (-DCPU32MHZ -DFORCE_MAC_NEAR            /
//                          -DROOT=__near_func -DMAC_OPT_FFD=0 -DBLINK_LEDS  /
//                          "-DCONST=const __code" -DGENERIC=__generic) -f   /
//                          E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì¨\CC2430´®¿ÚÊÕ /
//                          ·¢\ZStack-1.4.2-1.1.0\Projects\zstack\Samples\Sa /
//                          mpleApp\CC2430DB\..\..\..\Tools\CC2430DB\f8wConf /
//                          ig.cfg (-DSECURE=0 -DDEFAULT_CHANLIST=0x00000800 /
//                           -DZDAPP_CONFIG_PAN_ID=0xFFFF                    /
//                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_ /
//                          MASK=0x007F -DBEACON_REQUEST_DELAY=100           /
//                          -DBEACON_REQ_DELAY_MASK=0x00FF                   /
//                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_ /
//                          POLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7         /
//                          -DMAX_RREQ_ENTRIES=10 -DAPSC_MAX_FRAME_RETRIES=3 /
//                           -DNWK_MAX_DATA_RETRIES=2                        /
//                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9       /
//                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=20         /
//                          -DNWK_MAX_BINDING_ENTRIES=10                     /
//                          -DMAX_BINDING_CLUSTER_IDS=5                      /
//                          "-DDEFAULT_KEY={0x01, 0x03, 0x05, 0x07, 0x09,    /
//                          0x0B, 0x0D, 0x0F, 0x00, 0x02, 0x04, 0x06, 0x08,  /
//                          0x0A, 0x0C, 0x0D}" -DRFD_RCVC_ALWAYS_ON=FALSE    /
//                          -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100          /
//                          -DRESPONSE_POLL_RATE=100 -DREJOIN_POLL_RATE=440  /
//                          -DTOP_BOOT_PAGES=0) -I "D:\Program Files\IAR     /
//                          Systems\Embedded Workbench 4.05 Evaluation       /
//                          version\8051\inc\" -I "D:\Program Files\IAR      /
//                          Systems\Embedded Workbench 4.05 Evaluation       /
//                          version\8051\inc\clib\" -I                       /
//                          E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì¨\CC2430´®¿ÚÊÕ /
//                          ·¢\ZStack-1.4.2-1.1.0\Projects\zstack\Samples\Sa /
//                          mpleApp\CC2430DB\ -I E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430 /
//                          Í¨Ñ¶Æ½Ì¨\CC2430´®¿ÚÊÕ·¢\ZStack-1.4.2-1.1.0\Proje /
//                          cts\zstack\Samples\SampleApp\CC2430DB\..\Source\ /
//                           -I E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì¨\CC2430´® /
//                          ¿ÚÊÕ·¢\ZStack-1.4.2-1.1.0\Projects\zstack\Sample /
//                          s\SampleApp\CC2430DB\..\..\..\ZMain\TI2430DB\    /
//                          -I E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì¨\CC2430´®¿ /
//                          ÚÊÕ·¢\ZStack-1.4.2-1.1.0\Projects\zstack\Samples /
//                          \SampleApp\CC2430DB\..\..\..\..\..\Components\mt /
//                          \ -I E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì¨\CC2430´ /
//                          ®¿ÚÊÕ·¢\ZStack-1.4.2-1.1.0\Projects\zstack\Sampl /
//                          es\SampleApp\CC2430DB\..\..\..\..\..\Components\ /
//                          hal\include\ -I E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ /
//                          ½Ì¨\CC2430´®¿ÚÊÕ·¢\ZStack-1.4.2-1.1.0\Projects\z /
//                          stack\Samples\SampleApp\CC2430DB\..\..\..\..\..\ /
//                          Components\hal\target\CC2430EB\ -I               /
//                          E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì¨\CC2430´®¿ÚÊÕ /
//                          ·¢\ZStack-1.4.2-1.1.0\Projects\zstack\Samples\Sa /
//                          mpleApp\CC2430DB\..\..\..\..\..\Components\osal\ /
//                          mcu\ccsoc\ -I E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì /
//                          ¨\CC2430´®¿ÚÊÕ·¢\ZStack-1.4.2-1.1.0\Projects\zst /
//                          ack\Samples\SampleApp\CC2430DB\..\..\..\..\..\Co /
//                          mponents\osal\include\ -I                        /
//                          E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì¨\CC2430´®¿ÚÊÕ /
//                          ·¢\ZStack-1.4.2-1.1.0\Projects\zstack\Samples\Sa /
//                          mpleApp\CC2430DB\..\..\..\..\..\Components\stack /
//                          \af\ -I E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì¨\CC24 /
//                          30´®¿ÚÊÕ·¢\ZStack-1.4.2-1.1.0\Projects\zstack\Sa /
//                          mples\SampleApp\CC2430DB\..\..\..\..\..\Componen /
//                          ts\stack\nwk\ -I E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶ /
//                          Æ½Ì¨\CC2430´®¿ÚÊÕ·¢\ZStack-1.4.2-1.1.0\Projects\ /
//                          zstack\Samples\SampleApp\CC2430DB\..\..\..\..\.. /
//                          \Components\stack\sec\ -I                        /
//                          E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì¨\CC2430´®¿ÚÊÕ /
//                          ·¢\ZStack-1.4.2-1.1.0\Projects\zstack\Samples\Sa /
//                          mpleApp\CC2430DB\..\..\..\..\..\Components\stack /
//                          \sys\ -I E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì¨\CC2 /
//                          430´®¿ÚÊÕ·¢\ZStack-1.4.2-1.1.0\Projects\zstack\S /
//                          amples\SampleApp\CC2430DB\..\..\..\..\..\Compone /
//                          nts\stack\zdo\ -I E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ /
//                          ¶Æ½Ì¨\CC2430´®¿ÚÊÕ·¢\ZStack-1.4.2-1.1.0\Projects /
//                          \zstack\Samples\SampleApp\CC2430DB\..\..\..\..\. /
//                          .\Components\zmac\f8w\ -I                        /
//                          E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì¨\CC2430´®¿ÚÊÕ /
//                          ·¢\ZStack-1.4.2-1.1.0\Projects\zstack\Samples\Sa /
//                          mpleApp\CC2430DB\..\..\..\..\..\Components\zmac\ /
//                           -I E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì¨\CC2430´® /
//                          ¿ÚÊÕ·¢\ZStack-1.4.2-1.1.0\Projects\zstack\Sample /
//                          s\SampleApp\CC2430DB\..\..\..\..\..\Components\s /
//                          ervices\saddr\ -I E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ /
//                          ¶Æ½Ì¨\CC2430´®¿ÚÊÕ·¢\ZStack-1.4.2-1.1.0\Projects /
//                          \zstack\Samples\SampleApp\CC2430DB\..\..\..\..\. /
//                          .\Components\services\sdata\ -I                  /
//                          E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì¨\CC2430´®¿ÚÊÕ /
//                          ·¢\ZStack-1.4.2-1.1.0\Projects\zstack\Samples\Sa /
//                          mpleApp\CC2430DB\..\..\..\..\..\Components\mac\i /
//                          nclude\ -I E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì¨\C /
//                          C2430´®¿ÚÊÕ·¢\ZStack-1.4.2-1.1.0\Projects\zstack /
//                          \Samples\SampleApp\CC2430DB\..\..\..\..\..\Compo /
//                          nents\mac\high_level\ -I                         /
//                          E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì¨\CC2430´®¿ÚÊÕ /
//                          ·¢\ZStack-1.4.2-1.1.0\Projects\zstack\Samples\Sa /
//                          mpleApp\CC2430DB\..\..\..\..\..\Components\mac\l /
//                          ow_level\srf03\ -I E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨ /
//                          Ñ¶Æ½Ì¨\CC2430´®¿ÚÊÕ·¢\ZStack-1.4.2-1.1.0\Project /
//                          s\zstack\Samples\SampleApp\CC2430DB\..\..\..\..\ /
//                          ..\Components\mac\low_level\srf03\single_chip\   /
//                          -D CC2430EB -D NWK_AUTO_POLL -D ZTOOL_P1 -D      /
//                          MT_TASK -D ZG_ENDDEVICE -lC                      /
//                          E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì¨\CC2430´®¿ÚÊÕ /
//                          ·¢\ZStack-1.4.2-1.1.0\Projects\zstack\Samples\Sa /
//                          mpleApp\CC2430DB\EndDeviceEB\List\ -lA           /
//                          E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì¨\CC2430´®¿ÚÊÕ /
//                          ·¢\ZStack-1.4.2-1.1.0\Projects\zstack\Samples\Sa /
//                          mpleApp\CC2430DB\EndDeviceEB\List\               /
//                          --diag_suppress Pe001,Pa010 --diag_remark pe550  /
//                          -o E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì¨\CC2430´®¿ /
//                          ÚÊÕ·¢\ZStack-1.4.2-1.1.0\Projects\zstack\Samples /
//                          \SampleApp\CC2430DB\EndDeviceEB\Obj\ -e          /
//                          --require_prototypes -z9 --no_code_motion        /
//                          --debug --core=plain --dptr=16,1                 /
//                          --data_model=large --code_model=banked           /
//                          --calling_convention=xdata_reentrant             /
//                          --place_constants=data --nr_virtual_regs 8       /
//                          "D:\Texas Instruments\ZStack-1.4.2-1.1.0\Compone /
//                          nts\stack\zdo\ZDApp.c"                           /
//    List file          =  E:\CPESÆ½Ì¨\Ó²¼þÆ½Ì¨\CC2430Í¨Ñ¶Æ½Ì¨\CC2430´®¿ÚÊÕ /
//                          ·¢\ZStack-1.4.2-1.1.0\Projects\zstack\Samples\Sa /
//                          mpleApp\CC2430DB\EndDeviceEB\List\ZDApp.s51      /
//                                                                           /
//                                                                           /
//////////////////////////////////////////////////////////////////////////////

        NAME ZDApp

        RTMODEL "__calling_convention", "xdata_reentrant"
        RTMODEL "__code_model", "banked"
        RTMODEL "__core", "plain"
        RTMODEL "__data_model", "large"
        RTMODEL "__dptr_size", "16"
        RTMODEL "__extended_stack", "disabled"
        RTMODEL "__location_for_constants", "data"
        RTMODEL "__number_of_dptrs", "1"
        RTMODEL "__rt_version", "1"

        RSEG DOVERLAY:DATA:NOROOT(0)
        RSEG IOVERLAY:IDATA:NOROOT(0)
        RSEG ISTACK:IDATA:NOROOT(0)
        RSEG PSTACK:XDATA:NOROOT(0)
        RSEG XSTACK:XDATA:NOROOT(0)

        EXTERN ?ALLOC_XSTACK8
        EXTERN ?BANKED_ENTER_XDATA
        EXTERN ?BANKED_LEAVE_XDATA
        EXTERN ?BCALL
        EXTERN ?BRET
        EXTERN ?DEALLOC_XSTACK8
        EXTERN ?PUSH_XSTACK8_X_TWO
        EXTERN ?PUSH_XSTACK_I_ONE
        EXTERN ?PUSH_XSTACK_I_THREE
        EXTERN ?PUSH_XSTACK_I_TWO
        EXTERN ?UC_SWITCH_SPARSE
        EXTERN ?V0
        EXTERN ?XSP
        EXTERN ?XSTACK_DISP0_8
        EXTERN __INIT_XDATA_I
        EXTERN __INIT_XDATA_Z

?Subroutine11 EQU 0
        PUBLIC AddrMgrWriteNVRequest
        FUNCTION AddrMgrWriteNVRequest,021203H
        LOCFRAME XSTACK, 10, STACK
        PUBWEAK WDCTL
        PUBLIC ZDAppCheckForHoldKey
        FUNCTION ZDAppCheckForHoldKey,021203H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 1, STACK
        LOCFRAME ISTACK, 2, STACK
        PUBLIC ZDAppDetermineDeviceType
        FUNCTION ZDAppDetermineDeviceType,0203H
        PUBLIC ZDAppNwkAddr
        PUBLIC ZDAppSetupProtoVersion
        FUNCTION ZDAppSetupProtoVersion,021203H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 1, STACK
        LOCFRAME ISTACK, 3, STACK
        LOCFRAME XSTACK, 1, STACK
        PUBLIC ZDAppTaskID
        PUBLIC ZDApp_AutoFindDestinationEx
        FUNCTION ZDApp_AutoFindDestinationEx,021203H
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 32, STACK
        PUBLIC ZDApp_AutoFindMode_epDesc
        PUBLIC ZDApp_ChangeMatchDescRespPermission
        FUNCTION ZDApp_ChangeMatchDescRespPermission,021203H
        LOCFRAME ISTACK, 2, STACK
        PUBLIC ZDApp_EndDeviceAnnounceCB
        FUNCTION ZDApp_EndDeviceAnnounceCB,021203H
        ARGFRAME XSTACK, 2, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 24, STACK
        PUBLIC ZDApp_EndDeviceBindRsp
        FUNCTION ZDApp_EndDeviceBindRsp,021203H
        LOCFRAME ISTACK, 2, STACK
        PUBLIC ZDApp_InMsgCB
        FUNCTION ZDApp_InMsgCB,021203H
        ARGFRAME XSTACK, 5, STACK
        LOCFRAME XSTACK, 14, STACK
        PUBLIC ZDApp_Init
        FUNCTION ZDApp_Init,021203H
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 1, STACK
        PUBLIC ZDApp_InitUserDesc
        FUNCTION ZDApp_InitUserDesc,021203H
        LOCFRAME XSTACK, 31, STACK
        PUBLIC ZDApp_LeaveCtrl
        PUBLIC ZDApp_LeaveCtrlBypass
        FUNCTION ZDApp_LeaveCtrlBypass,0203H
        LOCFRAME ISTACK, 2, STACK
        PUBLIC ZDApp_LeaveCtrlInit
        FUNCTION ZDApp_LeaveCtrlInit,021203H
        ARGFRAME XSTACK, 12, STACK
        LOCFRAME XSTACK, 14, STACK
        PUBLIC ZDApp_LeaveCtrlSet
        FUNCTION ZDApp_LeaveCtrlSet,021203H
        ARGFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 14, STACK
        PUBLIC ZDApp_LeaveCtrlStartup
        FUNCTION ZDApp_LeaveCtrlStartup,021203H
        ARGFRAME XSTACK, 12, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 14, STACK
        PUBLIC ZDApp_LeaveReset
        FUNCTION ZDApp_LeaveReset,021203H
        ARGFRAME XSTACK, 10, STACK
        LOCFRAME ISTACK, 2, STACK
        PUBLIC ZDApp_LeaveUpdate
        FUNCTION ZDApp_LeaveUpdate,021203H
        LOCFRAME ISTACK, 2, STACK
        PUBLIC ZDApp_MatchDescRspCB
        FUNCTION ZDApp_MatchDescRspCB,021203H
        ARGFRAME XSTACK, 2, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 19, STACK
        PUBLIC ZDApp_NetworkInit
        FUNCTION ZDApp_NetworkInit,021203H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 12, STACK
        LOCFRAME ISTACK, 2, STACK
        PUBLIC ZDApp_NetworkStartEvt
        FUNCTION ZDApp_NetworkStartEvt,021203H
        LOCFRAME ISTACK, 2, STACK
        PUBLIC ZDApp_NodeProfileSync
        FUNCTION ZDApp_NodeProfileSync,021203H
        ARGFRAME XSTACK, 10, STACK
        LOCFRAME XSTACK, 10, STACK
        PUBLIC ZDApp_ProcessNetworkJoin
        FUNCTION ZDApp_ProcessNetworkJoin,021203H
        ARGFRAME XSTACK, 10, STACK
        LOCFRAME XSTACK, 12, STACK
        PUBLIC ZDApp_ProcessOSALMsg
        FUNCTION ZDApp_ProcessOSALMsg,0a1203H
        ARGFRAME XSTACK, 10, STACK
        LOCFRAME XSTACK, 11, STACK
        PUBLIC ZDApp_ReadNetworkRestoreState
        FUNCTION ZDApp_ReadNetworkRestoreState,021203H
        LOCFRAME XSTACK, 9, STACK
        PUBLIC ZDApp_RegisterForEndDeviceAnnounce
        FUNCTION ZDApp_RegisterForEndDeviceAnnounce,0203H
        LOCFRAME ISTACK, 2, STACK
        PUBLIC ZDApp_RegisterForMatchDescRsp
        FUNCTION ZDApp_RegisterForMatchDescRsp,0203H
        LOCFRAME ISTACK, 2, STACK
        PUBLIC ZDApp_ResetTimerCancel
        FUNCTION ZDApp_ResetTimerCancel,021203H
        LOCFRAME ISTACK, 2, STACK
        PUBLIC ZDApp_ResetTimerStart
        FUNCTION ZDApp_ResetTimerStart,021203H
        ARGFRAME ISTACK, 2, STACK
        LOCFRAME ISTACK, 2, STACK
        PUBLIC ZDApp_RestoreNetworkState
        FUNCTION ZDApp_RestoreNetworkState,021203H
        LOCFRAME XSTACK, 9, STACK
        PUBLIC ZDApp_SaveNetworkStateEvt
        FUNCTION ZDApp_SaveNetworkStateEvt,0203H
        PUBLIC ZDApp_SendEndDeviceBindReq
        FUNCTION ZDApp_SendEndDeviceBindReq,021203H
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 29, STACK
        PUBLIC ZDApp_SendEventMsg
        FUNCTION ZDApp_SendEventMsg,021203H
        LOCFRAME ISTACK, 2, STACK
        PUBLIC ZDApp_SendMsg
        FUNCTION ZDApp_SendMsg,021203H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 27, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 19, STACK
        PUBLIC ZDApp_SendNewDstAddr
        FUNCTION ZDApp_SendNewDstAddr,021203H
        ARGFRAME XSTACK, 19, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 21, STACK
        PUBLIC ZDApp_StartJoiningCycle
        FUNCTION ZDApp_StartJoiningCycle,021203H
        LOCFRAME ISTACK, 2, STACK
        PUBLIC ZDApp_StartUpFromApp
        FUNCTION ZDApp_StartUpFromApp,021203H
        LOCFRAME ISTACK, 2, STACK
        PUBLIC ZDApp_StopJoiningCycle
        FUNCTION ZDApp_StopJoiningCycle,0203H
        LOCFRAME ISTACK, 2, STACK
        PUBLIC ZDApp_StopStartUp
        FUNCTION ZDApp_StopStartUp,0203H
        PUBLIC ZDApp_epDesc
        PUBLIC ZDApp_event_loop
        FUNCTION ZDApp_event_loop,0a1203H
        LOCFRAME XSTACK, 10, STACK
        PUBLIC ZDOInitDevice
        FUNCTION ZDOInitDevice,021203H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 1, STACK
        LOCFRAME XSTACK, 12, STACK
        PUBLIC ZDO_JoinConfirmCB
        FUNCTION ZDO_JoinConfirmCB,021203H
        LOCFRAME ISTACK, 2, STACK
        PUBLIC ZDO_LeaveCnf
        FUNCTION ZDO_LeaveCnf,021203H
        LOCFRAME XSTACK, 9, STACK
        PUBLIC ZDO_LeaveInd
        FUNCTION ZDO_LeaveInd,021203H
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 10, STACK
        PUBLIC ZDO_NetworkDiscoveryConfirmCB
        FUNCTION ZDO_NetworkDiscoveryConfirmCB,021203H
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 27, STACK
        PUBLIC ZDO_NetworkFormationConfirmCB
        FUNCTION ZDO_NetworkFormationConfirmCB,0203H
        PUBLIC ZDO_PollConfirmCB
        FUNCTION ZDO_PollConfirmCB,0203H
        PUBLIC ZDO_SyncIndicationCB
        FUNCTION ZDO_SyncIndicationCB,021203H
        LOCFRAME ISTACK, 2, STACK
        PUBWEAK _A_IEN0
        PUBLIC _tmpRejoinState
        PUBLIC continueJoining
        PUBLIC devStartMode
        PUBLIC devState
        PUBLIC nwkStatus
        PUBLIC zdoDiscCounter
        
        CFI Names cfiNames0
        CFI StackFrame CFA_SP SP DATA
        CFI StackFrame CFA_PSP16 PSP16 XDATA
        CFI StackFrame CFA_XSP16 XSP16 XDATA
        CFI StaticOverlayFrame CFA_IOVERLAY IOVERLAY
        CFI StaticOverlayFrame CFA_DOVERLAY DOVERLAY
        CFI Resource `PSW.CY`:1, `B.BR0`:1, `B.BR1`:1, `B.BR2`:1, `B.BR3`:1
        CFI Resource `B.BR4`:1, `B.BR5`:1, `B.BR6`:1, `B.BR7`:1, `VB.BR8`:1
        CFI Resource `VB.BR9`:1, `VB.BR10`:1, `VB.BR11`:1, `VB.BR12`:1
        CFI Resource `VB.BR13`:1, `VB.BR14`:1, `VB.BR15`:1, VB:8, B:8, A:8
        CFI Resource PSW:8, DPL0:8, DPH0:8, R0:8, R1:8, R2:8, R3:8, R4:8, R5:8
        CFI Resource R6:8, R7:8, V0:8, V1:8, V2:8, V3:8, V4:8, V5:8, V6:8, V7:8
        CFI Resource SP:8, PSPH:8, PSPL:8, PSP16:16, XSPH:8, XSPL:8, XSP16:16
        CFI VirtualResource ?RET:24
        CFI Resource ?BRET_EXT:8
        CFI VirtualResource ?RET_HIGH:8, ?RET_LOW:8
        CFI ResourceParts PSP16 PSPH, PSPL
        CFI ResourceParts XSP16 XSPH, XSPL
        CFI ResourceParts ?RET ?BRET_EXT, ?RET_HIGH, ?RET_LOW
        CFI EndNames cfiNames0
        
        CFI Common cfiCommon0 Using cfiNames0
        CFI CodeAlign 1
        CFI DataAlign -1
        CFI ReturnAddress ?RET CODE
        CFI CFA_DOVERLAY Used
        CFI CFA_IOVERLAY Used
        CFI CFA_SP SP+-3
        CFI CFA_PSP16 PSP16+0
        CFI CFA_XSP16 XSP16+0
        CFI `PSW.CY` SameValue
        CFI `B.BR0` SameValue
        CFI `B.BR1` SameValue
        CFI `B.BR2` SameValue
        CFI `B.BR3` SameValue
        CFI `B.BR4` SameValue
        CFI `B.BR5` SameValue
        CFI `B.BR6` SameValue
        CFI `B.BR7` SameValue
        CFI `VB.BR8` SameValue
        CFI `VB.BR9` SameValue
        CFI `VB.BR10` SameValue
        CFI `VB.BR11` SameValue
        CFI `VB.BR12` SameValue
        CFI `VB.BR13` SameValue
        CFI `VB.BR14` SameValue
        CFI `VB.BR15` SameValue
        CFI VB SameValue
        CFI B Undefined
        CFI A Undefined
        CFI PSW SameValue
        CFI DPL0 SameValue
        CFI DPH0 SameValue
        CFI R0 Undefined
        CFI R1 Undefined
        CFI R2 Undefined
        CFI R3 Undefined
        CFI R4 Undefined
        CFI R5 Undefined
        CFI R6 SameValue
        CFI R7 SameValue
        CFI V0 SameValue
        CFI V1 SameValue
        CFI V2 SameValue
        CFI V3 SameValue
        CFI V4 SameValue
        CFI V5 SameValue
        CFI V6 SameValue
        CFI V7 SameValue
        CFI PSPH Undefined
        CFI PSPL Undefined
        CFI XSPH Undefined
        CFI XSPL Undefined
        CFI ?RET Concat
        CFI ?BRET_EXT Frame(CFA_SP, 3)
        CFI ?RET_HIGH Frame(CFA_SP, 2)
        CFI ?RET_LOW Frame(CFA_SP, 1)
        CFI EndCommon cfiCommon0
        
        
        CFI Common cfiCommon1 Using cfiNames0
        CFI CodeAlign 1
        CFI DataAlign -1
        CFI ReturnAddress ?RET CODE
        CFI CFA_DOVERLAY Used
        CFI CFA_IOVERLAY Used
        CFI CFA_SP SP+-2
        CFI CFA_PSP16 PSP16+0
        CFI CFA_XSP16 XSP16+0
        CFI `PSW.CY` SameValue
        CFI `B.BR0` SameValue
        CFI `B.BR1` SameValue
        CFI `B.BR2` SameValue
        CFI `B.BR3` SameValue
        CFI `B.BR4` SameValue
        CFI `B.BR5` SameValue
        CFI `B.BR6` SameValue
        CFI `B.BR7` SameValue
        CFI `VB.BR8` SameValue
        CFI `VB.BR9` SameValue
        CFI `VB.BR10` SameValue
        CFI `VB.BR11` SameValue
        CFI `VB.BR12` SameValue
        CFI `VB.BR13` SameValue
        CFI `VB.BR14` SameValue
        CFI `VB.BR15` SameValue
        CFI VB SameValue
        CFI B SameValue
        CFI A SameValue
        CFI PSW SameValue
        CFI DPL0 SameValue
        CFI DPH0 SameValue
        CFI R0 SameValue
        CFI R1 SameValue
        CFI R2 SameValue
        CFI R3 SameValue
        CFI R4 SameValue
        CFI R5 SameValue
        CFI R6 SameValue
        CFI R7 SameValue
        CFI V0 SameValue
        CFI V1 SameValue
        CFI V2 SameValue
        CFI V3 SameValue
        CFI V4 SameValue
        CFI V5 SameValue
        CFI V6 SameValue
        CFI V7 SameValue
        CFI PSPH Undefined
        CFI PSPL Undefined
        CFI XSPH Undefined
        CFI XSPL Undefined
        CFI ?RET Concat
        CFI ?BRET_EXT SameValue
        CFI ?RET_HIGH Frame(CFA_SP, 2)
        CFI ?RET_LOW Frame(CFA_SP, 1)
        CFI EndCommon cfiCommon1
        
        EXTERN NLME_GetExtAddr
        FUNCTION NLME_GetExtAddr,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 9, STACK
        EXTERN ZDO_Init
        FUNCTION ZDO_Init,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 1, STACK
        EXTERN afRegister
        FUNCTION afRegister,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 1, STACK
        EXTERN NLME_GetRequest
        FUNCTION NLME_GetRequest,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 1, STACK
        EXTERN NLME_SetBroadcastFilter
        FUNCTION NLME_SetBroadcastFilter,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 1, STACK
        EXTERN HalLedBlink
        FUNCTION HalLedBlink,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 1, STACK
        EXTERN ZDO_StartDevice
        FUNCTION ZDO_StartDevice,0202H
        ARGFRAME XSTACK, 10, STACK
        EXTERN osal_msg_deallocate
        FUNCTION osal_msg_deallocate,0202H
        ARGFRAME XSTACK, 10, STACK
        EXTERN osal_msg_receive
        FUNCTION osal_msg_receive,0202H
        ARGFRAME XSTACK, 10, STACK
        EXTERN ZDO_UpdateNwkStatus
        FUNCTION ZDO_UpdateNwkStatus,0202H
        ARGFRAME XSTACK, 10, STACK
        EXTERN osal_rand
        FUNCTION osal_rand,0202H
        ARGFRAME XSTACK, 12, STACK
        EXTERN zgReadStartupOptions
        FUNCTION zgReadStartupOptions,0202H
        ARGFRAME XSTACK, 9, STACK
        EXTERN osal_pwrmgr_device
        FUNCTION osal_pwrmgr_device,0202H
        ARGFRAME ISTACK, 2, STACK
        EXTERN osal_set_event
        FUNCTION osal_set_event,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 12, STACK
        EXTERN NLME_GetEnergyThreshold
        FUNCTION NLME_GetEnergyThreshold,0202H
        ARGFRAME ISTACK, 2, STACK
        EXTERN NLME_SetEnergyThreshold
        FUNCTION NLME_SetEnergyThreshold,0202H
        ARGFRAME ISTACK, 2, STACK
        EXTERN NLME_InitNV
        FUNCTION NLME_InitNV,0202H
        ARGFRAME XSTACK, 9, STACK
        EXTERN NLME_RestoreFromNV
        FUNCTION NLME_RestoreFromNV,0202H
        ARGFRAME XSTACK, 9, STACK
        EXTERN NLME_GetShortAddr
        FUNCTION NLME_GetShortAddr,0202H
        ARGFRAME XSTACK, 12, STACK
        EXTERN NLME_GetProtocolVersion
        FUNCTION NLME_GetProtocolVersion,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 27, STACK
        EXTERN NLME_SetRequest
        FUNCTION NLME_SetRequest,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 27, STACK
        EXTERN osal_memset
        FUNCTION osal_memset,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 27, STACK
        EXTERN osal_nv_item_init
        FUNCTION osal_nv_item_init,0202H
        ARGFRAME XSTACK, 29, STACK
        EXTERN osal_nv_read
        FUNCTION osal_nv_read,0202H
        ARGFRAME XSTACK, 31, STACK
        EXTERN HalKeyRead
        FUNCTION HalKeyRead,0202H
        ARGFRAME ISTACK, 2, STACK
        EXTERN ZDP_IncomingData
        FUNCTION ZDP_IncomingData,0202H
        ARGFRAME XSTACK, 10, STACK
        EXTERN NLME_JoinRequest
        FUNCTION NLME_JoinRequest,0202H
        ARGFRAME XSTACK, 11, STACK
        EXTERN NLME_ReJoinRequest
        FUNCTION NLME_ReJoinRequest,0202H
        ARGFRAME XSTACK, 10, STACK
        EXTERN NLME_SetPollRate
        FUNCTION NLME_SetPollRate,0202H
        ARGFRAME XSTACK, 12, STACK
        EXTERN NLME_SetQueuedPollRate
        FUNCTION NLME_SetQueuedPollRate,0202H
        ARGFRAME XSTACK, 12, STACK
        EXTERN NLME_SetResponseRate
        FUNCTION NLME_SetResponseRate,0202H
        ARGFRAME XSTACK, 12, STACK
        EXTERN ZMacSetReq
        FUNCTION ZMacSetReq,0202H
        ARGFRAME XSTACK, 12, STACK
        EXTERN HalLedSet
        FUNCTION HalLedSet,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 24, STACK
        EXTERN afFindSimpleDesc
        FUNCTION afFindSimpleDesc,0202H
        ARGFRAME XSTACK, 20, STACK
        EXTERN ZDP_EndDeviceBindReq
        FUNCTION ZDP_EndDeviceBindReq,0202H
        ARGFRAME XSTACK, 29, STACK
        EXTERN osal_mem_free
        FUNCTION osal_mem_free,0202H
        ARGFRAME XSTACK, 20, STACK
        EXTERN afFindEndPointDesc
        FUNCTION afFindEndPointDesc,0202H
        ARGFRAME XSTACK, 24, STACK
        EXTERN osal_mem_alloc
        FUNCTION osal_mem_alloc,0202H
        ARGFRAME XSTACK, 24, STACK
        EXTERN osal_memcpy
        FUNCTION osal_memcpy,0202H
        ARGFRAME XSTACK, 27, STACK
        EXTERN ZDP_MatchDescReq
        FUNCTION ZDP_MatchDescReq,0202H
        ARGFRAME XSTACK, 32, STACK
        EXTERN osal_start_timerEx
        FUNCTION osal_start_timerEx,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 27, STACK
        EXTERN osal_stop_timerEx
        FUNCTION osal_stop_timerEx,0202H
        ARGFRAME ISTACK, 2, STACK
        EXTERN osal_nv_write
        FUNCTION osal_nv_write,0202H
        ARGFRAME XSTACK, 14, STACK
        EXTERN NLME_RemoveChild
        FUNCTION NLME_RemoveChild,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 10, STACK
        EXTERN osal_msg_allocate
        FUNCTION osal_msg_allocate,0202H
        ARGFRAME XSTACK, 18, STACK
        EXTERN osal_msg_send
        FUNCTION osal_msg_send,0202H
        ARGFRAME XSTACK, 18, STACK
        EXTERN osal_cpyExtAddr
        FUNCTION osal_cpyExtAddr,0202H
        ARGFRAME XSTACK, 27, STACK
        EXTERN osal_ExtAddrEqual
        FUNCTION osal_ExtAddrEqual,0202H
        ARGFRAME XSTACK, 9, STACK
        EXTERN NLME_GetCoordShortAddr
        FUNCTION NLME_GetCoordShortAddr,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 10, STACK
        EXTERN osal_get_timeoutEx
        FUNCTION osal_get_timeoutEx,0202H
        ARGFRAME XSTACK, 10, STACK
        EXTERN ZDP_GenericRsp
        FUNCTION ZDP_GenericRsp,0202H
        ARGFRAME XSTACK, 14, STACK
        EXTERN afSetMatch
        FUNCTION afSetMatch,0202H
        ARGFRAME ISTACK, 2, STACK
        EXTERN nwk_getNetworkDesc
        FUNCTION nwk_getNetworkDesc,0202H
        ARGFRAME XSTACK, 10, STACK
        EXTERN ZDO_Config_Node_Descriptor
        EXTERN _NIB
        EXTERN zgConfigPANID
        EXTERN zgDefaultStartingScanDuration
        EXTERN zgStackProfile

// D:\Texas Instruments\ZStack-1.4.2-1.1.0\Components\stack\zdo\ZDApp.c
//    1 /*********************************************************************
//    2     Filename:       ZDApp.c
//    3     Revised:        $Date: 2007-05-31 15:56:04 -0700 (Thu, 31 May 2007) $
//    4     Revision:       $Revision: 14490 $
//    5 
//    6     Description:
//    7 
//    8       This file contains the interface to the Zigbee Device Application.
//    9       This is the Application part that the use can change. This also
//   10       contains the Task functions.
//   11 
//   12     Notes:
//   13 
//   14     Copyright (c) 2006 by Texas Instruments, Inc.
//   15     All Rights Reserved.  Permission to use, reproduce, copy, prepare
//   16     derivative works, modify, distribute, perform, display or sell this
//   17     software and/or its documentation for any purpose is prohibited
//   18     without the express written consent of Texas Instruments, Inc.
//   19 *********************************************************************/
//   20 
//   21 /*********************************************************************
//   22  * INCLUDES
//   23  */
//   24 #include "ZComDef.h"
//   25 #include "ZMac.h"
//   26 #include "OSAL.h"
//   27 #include "OSAL_Tasks.h"
//   28 #include "OSAL_PwrMgr.h"
//   29 #include "OSAL_Nv.h"
//   30 #include "AF.h"
//   31 #include "APSMEDE.h"
//   32 #include "NLMEDE.h"
//   33 #include "AddrMgr.h"
//   34 #include "ZDCache.h"
//   35 #include "ZDProfile.h"
//   36 #include "ZDObject.h"
//   37 #include "ZDConfig.h"
//   38 #include "ZDSecMgr.h"
//   39 #include "ZDApp.h"
//   40 #include "DebugTrace.h"
//   41 #include "nwk_util.h"
//   42 #include "OnBoard.h"

        ASEGN SFR_AN:DATA:NOROOT,0c9H
// unsigned char volatile __sfr WDCTL
WDCTL:
        DS 1
//   43 #include "ZGlobals.h"
//   44 
//   45 #if   ( SECURE != 0  )
//   46   #include "ssp.h"
//   47 #endif
//   48 
//   49 #if defined( MT_ZDO_FUNC )
//   50   #include "MT_ZDO.h"
//   51 #endif
//   52 
//   53 /* HAL */
//   54 #include "hal_led.h"
//   55 #include "hal_lcd.h"
//   56 #include "hal_key.h"
//   57 
//   58 #if defined( MT_MAC_FUNC ) || defined( MT_MAC_CB_FUNC )
//   59   #error "ERROR! MT_MAC functionalities should be disabled on ZDO devices"
//   60 #endif
//   61 /*********************************************************************
//   62  * MACROS
//   63  */
//   64 
//   65 /*********************************************************************
//   66  * CONSTANTS
//   67  */
//   68 #if !defined( NWK_START_DELAY )
//   69   #define NWK_START_DELAY             100   // in milliseconds
//   70 #endif
//   71 
//   72 #if !defined( EXTENDED_JOINING_RANDOM_MASK )
//   73   #define EXTENDED_JOINING_RANDOM_MASK 0x007F
//   74 #endif
//   75 
//   76 #if !defined( BEACON_REQUEST_DELAY )
//   77   #define BEACON_REQUEST_DELAY        100   // in milliseconds
//   78 #endif
//   79 
//   80 #if !defined( BEACON_REQ_DELAY_MASK )
//   81   #define BEACON_REQ_DELAY_MASK       0x007F
//   82 #endif
//   83 
//   84 #if defined (AUTO_SOFT_START)
//   85   #define MAX_RESUME_RETRY            3
//   86   #define NUM_DISC_ATTEMPTS           3
//   87 #else
//   88   #define MAX_RESUME_RETRY            1
//   89 #endif
//   90 
//   91 #define MAX_DEVICE_UNAUTH_TIMEOUT   5000  // 5 seconds
//   92 
//   93 // Beacon Order Settings (see NLMEDE.h)
//   94 #define DEFAULT_BEACON_ORDER        BEACON_ORDER_NO_BEACONS
//   95 #define DEFAULT_SUPERFRAME_ORDER    DEFAULT_BEACON_ORDER
//   96 
//   97 #if ( SECURE != 0 )
//   98   #if !defined( MAX_NWK_FRAMECOUNTER_CHANGES )
//   99     // The number of times the frame counter can change before
//  100     // saving to NV
//  101     #define MAX_NWK_FRAMECOUNTER_CHANGES    1000
//  102   #endif
//  103 #endif
//  104 
//  105 // Leave control bits
//  106 #define ZDAPP_LEAVE_CTRL_INIT 0
//  107 #define ZDAPP_LEAVE_CTRL_SET  1
//  108 #define ZDAPP_LEAVE_CTRL_RA   2
//  109 
//  110 // Standard time to update NWK NV data
//  111 #define ZDAPP_UPDATE_NWK_NV_TIME 100
//  112 
//  113 // Address Manager Stub Implementation
//  114 #define ZDApp_NwkWriteNVRequest AddrMgrWriteNVRequest
//  115 
//  116 /*********************************************************************
//  117  * TYPEDEFS
//  118  */
//  119 
//  120 /*********************************************************************
//  121  * GLOBAL VARIABLES
//  122  */
//  123 
//  124 #if defined( LCD_SUPPORTED )
//  125   byte MatchRsps = 0;
//  126 #endif
//  127 

        RSEG XDATA_I:XDATA:NOROOT(0)
//  128 byte zdoDiscCounter = 1;
zdoDiscCounter:
        DS 1
        REQUIRE `?<Initializer for zdoDiscCounter>`
        REQUIRE __INIT_XDATA_I
//  129 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        REQUIRE __INIT_XDATA_Z
//  130 zAddrType_t ZDAppNwkAddr;
ZDAppNwkAddr:
        DS 9
//  131 
//  132 #if defined ( ZDO_MGMT_NWKDISC_RESPONSE )
//  133   byte zdappMgmtNwkDiscRspTransSeq;
//  134   byte zdappMgmtNwkDiscReqInProgress = FALSE;
//  135   zAddrType_t zdappMgmtNwkDiscRspAddr;
//  136   byte zdappMgmtNwkDiscStartIndex;
//  137   byte zdappMgmtSavedNwkState;
//  138 #endif
//  139 
//  140 #if ( SECURE != 0 )
//  141   uint16 nwkFrameCounterChanges = 0;
//  142 #endif
//  143 
//  144 #if defined ( SOFT_START )
//  145   static uint8 softStartAllowCoord = TRUE;
//  146 #endif
//  147 

        RSEG XDATA_I:XDATA:NOROOT(0)
//  148 uint8 continueJoining = TRUE;
continueJoining:
        DS 1
        REQUIRE `?<Initializer for continueJoining>`
        REQUIRE __INIT_XDATA_I
//  149 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        REQUIRE __INIT_XDATA_Z
//  150 byte  _tmpRejoinState;
_tmpRejoinState:
        DS 1
//  151 
//  152 /*********************************************************************
//  153  * EXTERNAL VARIABLES
//  154  */
//  155 
//  156 /*********************************************************************
//  157  * EXTERNAL FUNCTIONS
//  158  */
//  159 
//  160 /*********************************************************************
//  161  * LOCAL FUNCTIONS
//  162  */
//  163 
//  164 void ZDApp_NetworkStartEvt( void );
//  165 void ZDApp_DeviceAuthEvt( void );
//  166 void ZDApp_SaveNetworkStateEvt( void );
//  167 
//  168 uint8 ZDApp_ReadNetworkRestoreState( void );
//  169 uint8 ZDApp_RestoreNetworkState( void );
//  170 void ZDAppDetermineDeviceType( void );
//  171 void ZDAppSetupProtoVersion( void );
//  172 void ZDApp_InitUserDesc( void );
//  173 void ZDAppCheckForHoldKey( void );
//  174 void ZDApp_ProcessOSALMsg( osal_event_hdr_t *msgPtr );
//  175 void ZDApp_ProcessNetworkJoin( void );
//  176 void ZDApp_SetCoordAddress( byte endPoint, byte dstEP );
//  177 void ZDApp_SendNewDstAddr( byte dstEP, zAddrType_t *dstAddr,
//  178                cId_t clusterID, byte removeFlag, byte task_id, byte endpoint );
//  179 
//  180 #if ( SECURE != 0 )
//  181   void ZDApp_SaveNwkKey( void );
//  182   byte ZDApp_RestoreNwkKey( void );
//  183 #endif
//  184 
//  185 void ZDApp_SendMsg( byte taskID, byte cmd, byte len, byte *buf );
//  186 
//  187 #if defined ( ZDO_BIND_UNBIND_RESPONSE ) && !defined ( REFLECTOR )
//  188   extern void ZDApp_AppBindReq( byte TransSeq, zAddrType_t *SrcAddr, byte *SrcAddress,
//  189                       byte SrcEndPoint, cId_t ClusterID, byte *DstAddress,
//  190                       byte DstEndPoint, byte SecurityUse, uint8 Type );
//  191 #endif
//  192 
//  193 void ZDApp_ResetTimerStart( uint16 delay );
//  194 void ZDApp_ResetTimerCancel( void );
//  195 void ZDApp_LeaveCtrlInit( void );
//  196 void ZDApp_LeaveCtrlSet( uint8 ra );
//  197 uint8 ZDApp_LeaveCtrlBypass( void );
//  198 void ZDApp_LeaveCtrlStartup( devStates_t* state, uint16* startDelay );
//  199 void ZDApp_LeaveReset( uint8 ra );
//  200 void ZDApp_LeaveUpdate( uint16 nwkAddr, uint8* extAddr,
//  201                         uint8 removeChildren );
//  202 void ZDApp_NodeProfileSync( ZDO_NetworkDiscoveryCfm_t* cfm );
//  203 
//  204 /*********************************************************************
//  205  * LOCAL VARIABLES
//  206  */
//  207 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        REQUIRE __INIT_XDATA_Z
//  208 byte ZDAppTaskID;
ZDAppTaskID:
        DS 1

        RSEG XDATA_Z:XDATA:NOROOT(0)
        REQUIRE __INIT_XDATA_Z
//  209 byte nwkStatus;
nwkStatus:
        DS 1

        RSEG XDATA_Z:XDATA:NOROOT(0)
        REQUIRE __INIT_XDATA_Z
//  210 endPointDesc_t *ZDApp_AutoFindMode_epDesc = (endPointDesc_t *)NULL;
ZDApp_AutoFindMode_epDesc:
        DS 2

        RSEG XDATA_Z:XDATA:NOROOT(0)
        REQUIRE __INIT_XDATA_Z
//  211 uint8 ZDApp_LeaveCtrl;
ZDApp_LeaveCtrl:
        DS 1
//  212 
//  213 #if defined( HOLD_AUTO_START )
//  214   devStates_t devState = DEV_HOLD;
//  215 #else

        RSEG XDATA_I:XDATA:NOROOT(0)
//  216   devStates_t devState = DEV_INIT;
devState:
        DS 1
        REQUIRE `?<Initializer for devState>`
        REQUIRE __INIT_XDATA_I
//  217 #endif
//  218 
//  219 #if defined( ZDO_COORDINATOR ) && !defined( SOFT_START )
//  220   // Set the default to coodinator
//  221   devStartModes_t devStartMode = MODE_HARD;
//  222 #else

        RSEG XDATA_Z:XDATA:NOROOT(0)
        REQUIRE __INIT_XDATA_Z
//  223   devStartModes_t devStartMode = MODE_JOIN;     // Assume joining
devStartMode:
        DS 1
//  224   //devStartModes_t devStartMode = MODE_RESUME; // if already "directly joined"
//  225                         // to parent. Set to make the device do an Orphan scan.
//  226 #endif
//  227 
//  228 #if defined ( ZDO_IEEEADDR_REQUEST )
//  229   static byte ZDApp_IEEEAddrRsp_TaskID = 0;  // Initialized to NO TASK
//  230 #endif
//  231 
//  232 #if defined ( ZDO_NWKADDR_REQUEST )
//  233   static byte ZDApp_NwkAddrRsp_TaskID = 0;  // Initialized to NO TASK
//  234 #endif
//  235 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        REQUIRE __INIT_XDATA_Z
//  236 static byte ZDApp_MatchDescRsp_TaskID = 0;  // Initialized to NO TASK
??ZDApp_MatchDescRsp_TaskID:
        DS 1

        RSEG XDATA_Z:XDATA:NOROOT(0)
        REQUIRE __INIT_XDATA_Z
//  237 static byte ZDApp_EndDeviceAnnounce_TaskID = 0;  // Initialized to NO TASK
??ZDApp_EndDeviceAnnounce_TaskID:
        DS 1
//  238 
//  239 #if defined ( ZDO_BIND_UNBIND_REQUEST )
//  240   static byte ZDApp_BindUnbindRsp_TaskID = TASK_NO_TASK;
//  241 #endif
//  242 
//  243 #if defined ( ZDO_BIND_UNBIND_RESPONSE ) && !defined ( REFLECTOR )
//  244   static byte ZDApp_BindReq_TaskID = 0;  // Initialized to NO TASK
//  245 #endif
//  246 
//  247 #if defined ( ZDO_MGMT_BIND_RESPONSE ) && !defined ( REFLECTOR )
//  248   static byte ZDApp_MgmtBindReq_TaskID = 0;  // Initialized to NO TASK
//  249 #endif
//  250 
//  251 #if !defined( ZDO_COORDINATOR ) || defined( SOFT_START )

        RSEG XDATA_Z:XDATA:NOROOT(0)
        REQUIRE __INIT_XDATA_Z
//  252   static uint8 retryCnt;
??retryCnt:
        DS 1
//  253 #endif
//  254 
//  255 // a little awkward -- this is will hold the list of versions that are legal given other
//  256 // constraints such as NV value, macro values etc. list used in ZDO_NetworkDiscoveryConfirmCB()
//  257 // when a joining device is deciding which network to join.

        RSEG XDATA_I:XDATA:NOROOT(0)
//  258 static byte sPVerList[] = {ZB_PROT_V1_1, ZB_PROT_V1_0};
??sPVerList:
        DS 2
        REQUIRE `?<Initializer for sPVerList>`
        REQUIRE __INIT_XDATA_I
//  259 

        RSEG XDATA_I:XDATA:NOROOT(0)
//  260 endPointDesc_t ZDApp_epDesc =
ZDApp_epDesc:
        DS 6
        REQUIRE `?<Initializer for ZDApp_epDesc>`
        REQUIRE __INIT_XDATA_I
//  261 {
//  262   ZDO_EP,
//  263   &ZDAppTaskID,
//  264   (SimpleDescriptionFormat_t *)NULL,  // No Simple description for ZDO
//  265   (afNetworkLatencyReq_t)0            // No Network Latency req
//  266 };
//  267 
//  268 /*********************************************************************
//  269  * @fn      ZDApp_Init
//  270  *
//  271  * @brief   ZDApp Initialization function.
//  272  *
//  273  * @param   task_id - ZDApp Task ID
//  274  *
//  275  * @return  None
//  276  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  277 void ZDApp_Init( byte task_id )
ZDApp_Init:
        CFI Block cfiBlock0 Using cfiCommon0
        CFI Function ZDApp_Init
//  278 {
        FUNCALL ZDApp_Init, NLME_GetExtAddr
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 1, STACK
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 1, STACK
        FUNCALL ZDApp_Init, ZDAppCheckForHoldKey
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 1, STACK
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 1, STACK
        FUNCALL ZDApp_Init, ZDO_Init
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 1, STACK
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 1, STACK
        FUNCALL ZDApp_Init, afRegister
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 1, STACK
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 1, STACK
        FUNCALL ZDApp_Init, ZDAppSetupProtoVersion
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 1, STACK
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 1, STACK
        FUNCALL ZDApp_Init, NLME_GetRequest
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 1, STACK
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 1, STACK
        FUNCALL ZDApp_Init, NLME_SetBroadcastFilter
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 1, STACK
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 1, STACK
        FUNCALL ZDApp_Init, ZDOInitDevice
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 1, STACK
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 1, STACK
        FUNCALL ZDApp_Init, HalLedBlink
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 1, STACK
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 1, STACK
        PUSH	DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH	DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 1
        MOV	A,#-0x1
        LCALL	?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 1)
//  279   uint8 capabilities;
//  280 
//  281   // Save the task ID
//  282   ZDAppTaskID = task_id;
        MOV	A,R1
        MOV	DPTR,#ZDAppTaskID
        MOVX	@DPTR,A
//  283 
//  284   // Initialize the ZDO global device short address storage
//  285   ZDAppNwkAddr.addrMode = Addr16Bit;
        MOV	A,#0x2
        MOV	DPTR,#(ZDAppNwkAddr + 8)
        MOVX	@DPTR,A
//  286   ZDAppNwkAddr.addr.shortAddr = INVALID_NODE_ADDR;
        MOV	DPTR,#ZDAppNwkAddr
        MOV	A,#-0x2
        MOVX	@DPTR,A
        INC	DPTR
        MOV	A,#-0x1
        MOVX	@DPTR,A
//  287   (void)NLME_GetExtAddr();  // Load the saveExtAddr pointer.
        ; Setup parameters for call to function NLME_GetExtAddr
        MOV	DPTR,#(NLME_GetExtAddr & 0xffff)
        MOV	A,#((NLME_GetExtAddr >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
//  288 
//  289   // Check for manual "Hold Auto Start"
//  290   ZDAppCheckForHoldKey();
        ; Setup parameters for call to function ZDAppCheckForHoldKey
        MOV	DPTR,#(ZDAppCheckForHoldKey & 0xffff)
        MOV	A,#((ZDAppCheckForHoldKey >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
//  291 
//  292   // Initialize ZDO items and setup the device - type of device to create.
//  293   ZDO_Init();
        ; Setup parameters for call to function ZDO_Init
        MOV	DPTR,#(ZDO_Init & 0xffff)
        MOV	A,#((ZDO_Init >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
//  294 
//  295   // Register the endpoint description with the AF
//  296   // This task doesn't have a Simple description, but we still need
//  297   // to register the endpoint.
//  298   afRegister( (endPointDesc_t *)&ZDApp_epDesc );
        ; Setup parameters for call to function afRegister
        MOV	R2,#(ZDApp_epDesc & 0xff)
        MOV	R3,#((ZDApp_epDesc >> 8) & 0xff)
        MOV	DPTR,#(afRegister & 0xffff)
        MOV	A,#((afRegister >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
//  299 
//  300 #if defined( ZDO_USERDESC_RESPONSE )
//  301   ZDApp_InitUserDesc();
//  302 #endif // ZDO_USERDESC_RESPONSE
//  303 
//  304 #if defined( ZDO_CACHE )
//  305   ZDCacheInit();
//  306 #endif
//  307 
//  308   // Setup the Zigbee Network Protocol Version
//  309   ZDAppSetupProtoVersion();
        ; Setup parameters for call to function ZDAppSetupProtoVersion
        MOV	DPTR,#(ZDAppSetupProtoVersion & 0xffff)
        MOV	A,#((ZDAppSetupProtoVersion >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
//  310 
//  311   // set broadcast address mask to support broadcast filtering
//  312   NLME_GetRequest(nwkCapabilityInfo, 0, &capabilities);
        ; Setup parameters for call to function NLME_GetRequest
        MOV	DPL,?XSP + 0
        MOV	DPH,?XSP + 1
        MOV	R4,DPL
        MOV	R5,DPH
        MOV	R2,#0x0
        MOV	R3,#0x0
        MOV	R1,#-0x71
        MOV	DPTR,#(NLME_GetRequest & 0xffff)
        MOV	A,#((NLME_GetRequest >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
//  313   NLME_SetBroadcastFilter( capabilities );
        ; Setup parameters for call to function NLME_SetBroadcastFilter
        MOV	DPL,?XSP + 0
        MOV	DPH,?XSP + 1
        MOVX	A,@DPTR
        MOV	R1,A
        MOV	DPTR,#(NLME_SetBroadcastFilter & 0xffff)
        MOV	A,#((NLME_SetBroadcastFilter >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
//  314 
//  315   // Start the device?
//  316   if ( devState != DEV_HOLD )
        MOV	DPTR,#devState
        MOVX	A,@DPTR
        JZ	??ZDApp_Init_0
//  317   {
//  318     ZDOInitDevice( 0 );
        ; Setup parameters for call to function ZDOInitDevice
        MOV	R2,#0x0
        MOV	R3,#0x0
        MOV	DPTR,#(ZDOInitDevice & 0xffff)
        MOV	A,#((ZDOInitDevice >> 16) & 0xff)
        SJMP	??ZDApp_Init_1
//  319   }
//  320   else
//  321   {
//  322     // Blink LED to indicate HOLD_START
//  323     HalLedBlink ( HAL_LED_4, 0, 50, 500 );
??ZDApp_Init_0:
        ; Setup parameters for call to function HalLedBlink
        MOV	R4,#-0xc
        MOV	R5,#0x1
        MOV	R3,#0x32
        MOV	R2,#0x0
        MOV	R1,#0x8
        MOV	DPTR,#(HalLedBlink & 0xffff)
        MOV	A,#((HalLedBlink >> 16) & 0xff)
??ZDApp_Init_1:
        LJMP	?Subroutine23 & 0xFFFF
        CFI EndBlock cfiBlock0
//  324   }
//  325 } /* ZDO_Init() */
//  326 
//  327 /*********************************************************************
//  328  * @fn      ZDApp_event_loop()
//  329  *
//  330  * @brief   Main event loop for Zigbee device objects task. This function
//  331  *          should be called at periodic intervals.
//  332  *
//  333  * @param   task_id - Task ID
//  334  * @param   events  - Bitmap of events
//  335  *
//  336  * @return  none
//  337  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  338 UINT16 ZDApp_event_loop( byte task_id, UINT16 events )
ZDApp_event_loop:
        CFI Block cfiBlock1 Using cfiCommon0
        CFI Function ZDApp_event_loop
//  339 {
        FUNCALL ZDApp_event_loop, ZDO_StartDevice
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL ZDApp_event_loop, ZDApp_ProcessOSALMsg
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL ZDApp_event_loop, osal_msg_deallocate
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL ZDApp_event_loop, osal_msg_receive
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL ZDApp_event_loop, ZDO_UpdateNwkStatus
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        MOV	A,#-0xa
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 0
        MOV	A,R2
        MOV	R6,A
        MOV	A,R3
        MOV	R7,A
//  340   uint8 *msg_ptr;
//  341 
//  342   if ( events & SYS_EVENT_MSG )
        MOV	A,#-0x80
        ANL	A,R7
        MOV	R1,A
        CLR	A
        JNZ	??ZDApp_event_loop_0
        MOV	A,R1
??ZDApp_event_loop_0:
        JNZ	??ZDApp_event_loop_1
//  343   {
//  344     while ( (msg_ptr = osal_msg_receive( ZDAppTaskID )) )
//  345     {
//  346       ZDApp_ProcessOSALMsg( (osal_event_hdr_t *)msg_ptr );
//  347 
//  348       // Release the memory
//  349       osal_msg_deallocate( msg_ptr );
//  350     }
//  351 
//  352     // Return unprocessed events
//  353     return (events ^ SYS_EVENT_MSG);
//  354   }
//  355 
//  356   if ( events & ZDO_NETWORK_INIT )
        MOV	A,R6
        MOV	C,0xE0 /* A   */.0
        JNC	??ZDApp_event_loop_2
//  357   {
//  358     // Initialize apps and start the network
//  359     devState = DEV_INIT;
        MOV	A,#0x1
        MOV	DPTR,#devState
        MOVX	@DPTR,A
//  360     ZDO_StartDevice( (uint8)ZDO_Config_Node_Descriptor.LogicalType, devStartMode,
//  361                      DEFAULT_BEACON_ORDER, DEFAULT_SUPERFRAME_ORDER );
        ; Setup parameters for call to function ZDO_StartDevice
        MOV	R4,#0xf
        MOV	R3,#0xf
        MOV	DPTR,#devStartMode
        MOVX	A,@DPTR
        MOV	R2,A
        MOV	DPTR,#ZDO_Config_Node_Descriptor
        MOVX	A,@DPTR
        ANL	A,#0x7
        MOV	R1,A
        MOV	DPTR,#(ZDO_StartDevice & 0xffff)
        MOV	A,#((ZDO_StartDevice >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
//  362 
//  363     // Return unprocessed events
//  364     return (events ^ ZDO_NETWORK_INIT);
        MOV	A,#0x1
??ZDApp_event_loop_3:
        XRL	A,R6
        MOV	R2,A
        MOV	A,R7
??ZDApp_event_loop_4:
        MOV	R3,A
        SJMP	??ZDApp_event_loop_5
//  365   }
??ZDApp_event_loop_6:
        ; Setup parameters for call to function ZDApp_ProcessOSALMsg
        MOV	DPTR,#(ZDApp_ProcessOSALMsg & 0xffff)
        MOV	A,#((ZDApp_ProcessOSALMsg >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        ; Setup parameters for call to function osal_msg_deallocate
        MOV	R2,?V0 + 0
        MOV	R3,?V0 + 1
        MOV	DPTR,#(osal_msg_deallocate & 0xffff)
        MOV	A,#((osal_msg_deallocate >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
??ZDApp_event_loop_1:
        ; Setup parameters for call to function osal_msg_receive
        MOV	DPTR,#ZDAppTaskID
        MOVX	A,@DPTR
        MOV	R1,A
        MOV	DPTR,#(osal_msg_receive & 0xffff)
        MOV	A,#((osal_msg_receive >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	?V0 + 0,R2
        MOV	?V0 + 1,R3
        MOV	A,R2
        JNZ	??ZDApp_event_loop_7
        MOV	A,R3
??ZDApp_event_loop_7:
        JNZ	??ZDApp_event_loop_6
        MOV	A,R6
        MOV	R2,A
        MOV	A,#-0x80
??ZDApp_event_loop_8:
        XRL	A,R7
        SJMP	??ZDApp_event_loop_4
//  366 
//  367 #if defined (RTR_NWK)
//  368   if ( events & ZDO_NETWORK_START )
//  369   {
//  370     ZDApp_NetworkStartEvt();
//  371 
//  372     // Return unprocessed events
//  373     return (events ^ ZDO_NETWORK_START);
//  374   }
//  375 #endif  //RTR_NWK
//  376 
//  377 #if defined ( RTR_NWK )
//  378   if ( events & ZDO_ROUTER_START )
//  379   {
//  380     if ( nwkStatus == ZSuccess )
//  381     {
//  382       if ( devState == DEV_END_DEVICE )
//  383         devState = DEV_ROUTER;
//  384 
//  385       osal_pwrmgr_device( PWRMGR_ALWAYS_ON );
//  386     }
//  387     else
//  388     {
//  389       // remain as end device!!
//  390     }
//  391     osal_set_event( ZDAppTaskID, ZDO_STATE_CHANGE_EVT );
//  392 
//  393     // Return unprocessed events
//  394     return (events ^ ZDO_ROUTER_START);
//  395   }
//  396 #endif  // RTR
//  397 
//  398   if ( events & ZDO_STATE_CHANGE_EVT )
??ZDApp_event_loop_2:
        ANL	A,#0x10
        JZ	??ZDApp_event_loop_9
//  399   {
//  400     ZDO_UpdateNwkStatus( devState );
        ; Setup parameters for call to function ZDO_UpdateNwkStatus
        MOV	DPTR,#devState
        MOVX	A,@DPTR
        MOV	R1,A
        MOV	DPTR,#(ZDO_UpdateNwkStatus & 0xffff)
        MOV	A,#((ZDO_UpdateNwkStatus >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
//  401 
//  402     // Return unprocessed events
//  403     return (events ^ ZDO_STATE_CHANGE_EVT);
        MOV	A,#0x10
        SJMP	??ZDApp_event_loop_3
//  404   }
//  405 
//  406   if ( events & ZDO_COMMAND_CNF )
??ZDApp_event_loop_9:
        MOV	A,R6
        ANL	A,#0x8
        JZ	??ZDApp_event_loop_10
//  407   {
//  408     // User defined logic
//  409 
//  410     // Return unprocessed events
//  411     return (events ^ ZDO_COMMAND_CNF);
        MOV	A,#0x8
        XRL	A,R6
        MOV	R2,A
        SJMP	??ZDApp_event_loop_5
//  412   }
//  413 
//  414 #if defined( ZDSECMGR_SECURE ) && defined( RTR_NWK )
//  415   if ( events & ZDO_NEW_DEVICE )
//  416   {
//  417     // process the new device event
//  418     if ( ZDSecMgrNewDeviceEvent() == TRUE )
//  419     {
//  420       osal_start_timerEx( ZDAppTaskID, ZDO_NEW_DEVICE, 1000 );
//  421     }
//  422 
//  423     // Return unprocessed events
//  424     return (events ^ ZDO_NEW_DEVICE);
//  425   }
//  426 #endif  // ZDSECMGR_SECURE && RTR
//  427 
//  428 #if defined ( ZDSECMGR_COMMERCIAL )
//  429   if ( events & ZDO_SECMGR_EVENT )
//  430   {
//  431     ZDSecMgrEvent();
//  432 
//  433     // Return unprocessed events
//  434     return (events ^ ZDO_SECMGR_EVENT);
//  435   }
//  436 #endif // defined( ZDSECMGR_COMMERCIAL )
//  437 
//  438 #if   ( SECURE != 0  )
//  439   if ( events & ZDO_DEVICE_AUTH )
//  440   {
//  441     ZDApp_DeviceAuthEvt();
//  442 
//  443     // Return unprocessed events
//  444     return (events ^ ZDO_DEVICE_AUTH);
//  445   }
//  446 #endif  // SECURE
//  447 
//  448   if ( events & ZDO_NWK_UPDATE_NV )
??ZDApp_event_loop_10:
        MOV	A,#0x2
        ANL	A,R7
        MOV	R1,A
        CLR	A
        JNZ	??ZDApp_event_loop_11
        MOV	A,R1
??ZDApp_event_loop_11:
        JZ	??ZDApp_event_loop_12
//  449   {
//  450     ZDApp_SaveNetworkStateEvt();
//  451 
//  452     // Return unprocessed events
//  453     return (events ^ ZDO_NWK_UPDATE_NV);
        MOV	A,#0x2
        SJMP	??ZDApp_event_loop_8
//  454   }
//  455 
//  456 #if ( SECURE != 0  )
//  457   if ( events & ZDO_FRAMECOUNTER_CHANGE )
//  458   {
//  459     if ( nwkFrameCounterChanges++ > MAX_NWK_FRAMECOUNTER_CHANGES )
//  460       ZDApp_SaveNwkKey();
//  461 
//  462     // Return unprocessed events
//  463     return (events ^ ZDO_FRAMECOUNTER_CHANGE);
//  464   }
//  465 #endif
//  466 
//  467   if ( events & ZDO_DEVICE_RESET )
??ZDApp_event_loop_12:
        MOV	A,R6
        ANL	A,#0x4
        JZ	??ZDApp_event_loop_13
//  468   {
//  469     // The device has been in the UNAUTH state, so reset
//  470     // Note: there will be no return from this call
//  471     SystemReset();
        CLR	0xa8.7
        MOV	0xc9,#-0x55
        MOV	0xc9,#0x5b
??ZDApp_event_loop_14:
        NOP
        SJMP	??ZDApp_event_loop_14
//  472   }
//  473 
//  474   // Discard or make more handlers
//  475   return 0;
??ZDApp_event_loop_13:
        MOV	R2,#0x0
        MOV	R3,#0x0
??ZDApp_event_loop_5:
        LJMP	??Subroutine24_1 & 0xFFFF
        CFI EndBlock cfiBlock1
//  476 }
//  477 
//  478 /*********************************************************************
//  479  * Application Functions
//  480  */
//  481 
//  482 /*********************************************************************
//  483  * @fn      ZDOInitDevice
//  484  *
//  485  * @brief   Start the device in the network.  This function will read
//  486  *   ZCD_NV_STARTUP_OPTION (NV item) to determine whether or not to
//  487  *   restore the network state of the device.
//  488  *
//  489  * @param   startDelay - timeDelay to start device (in milliseconds).
//  490  *      There is a jitter added to this delay:
//  491  *              ((NWK_START_DELAY + startDelay)
//  492  *              + (osal_rand() & EXTENDED_JOINING_RANDOM_MASK))
//  493  *
//  494  * NOTE:    If the application would like to force a "new" join, the
//  495  *          application should set the ZCD_STARTOPT_DEFAULT_NETWORK_STATE
//  496  *          bit in the ZCD_NV_STARTUP_OPTION NV item before calling
//  497  *          this function. "new" join means to not restore the network
//  498  *          state of the device. Use zgWriteStartupOptions() to set these
//  499  *          options.
//  500  *
//  501  * @return
//  502  *    ZDO_INITDEV_RESTORED_NETWORK_STATE  - The device's network state was
//  503  *          restored.
//  504  *    ZDO_INITDEV_NEW_NETWORK_STATE - The network state was initialized.
//  505  *          This could mean that ZCD_NV_STARTUP_OPTION said to not restore, or
//  506  *          it could mean that there was no network state to restore.
//  507  *    ZDO_INITDEV_LEAVE_NOT_STARTED - Before the reset, a network leave was issued
//  508  *          with the rejoin option set to TRUE.  So, the device was not
//  509  *          started in the network (one time only).  The next time this
//  510  *          function is called it will start.
//  511  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  512 uint8 ZDOInitDevice( uint16 startDelay )
ZDOInitDevice:
        CFI Block cfiBlock2 Using cfiCommon0
        CFI Function ZDOInitDevice
//  513 {
        FUNCALL ZDOInitDevice, ZDApp_LeaveCtrlInit
        LOCFRAME XSTACK, 12, STACK
        ARGFRAME XSTACK, 12, STACK
        FUNCALL ZDOInitDevice, ZDApp_LeaveCtrlStartup
        LOCFRAME XSTACK, 12, STACK
        ARGFRAME XSTACK, 12, STACK
        FUNCALL ZDOInitDevice, osal_rand
        LOCFRAME XSTACK, 12, STACK
        ARGFRAME XSTACK, 12, STACK
        FUNCALL ZDOInitDevice, ZDApp_NetworkInit
        LOCFRAME XSTACK, 12, STACK
        ARGFRAME XSTACK, 12, STACK
        MOV	A,#-0xa
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 2
        MOV	A,#-0x2
        LCALL	?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 12)
        MOV	DPL,?XSP + 0
        MOV	DPH,?XSP + 1
        MOV	A,R2
        MOVX	@DPTR,A
        INC	DPTR
        MOV	A,R3
        MOVX	@DPTR,A
//  514   uint8 networkStateNV = ZDO_INITDEV_NEW_NETWORK_STATE;
//  515   uint16 extendedDelay = 0;
//  516 
//  517   devState = DEV_INIT;    // Remove the Hold state
        MOV	A,#0x1
        MOV	DPTR,#devState
        MOVX	@DPTR,A
//  518 
//  519   // Initialize leave control logic
//  520   ZDApp_LeaveCtrlInit();
        ; Setup parameters for call to function ZDApp_LeaveCtrlInit
        MOV	DPTR,#(ZDApp_LeaveCtrlInit & 0xffff)
        MOV	A,#((ZDApp_LeaveCtrlInit >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
//  521 
//  522   // Check leave control reset settings
//  523   ZDApp_LeaveCtrlStartup( &devState, &startDelay );
        ; Setup parameters for call to function ZDApp_LeaveCtrlStartup
        MOV	DPL,?XSP + 0
        MOV	DPH,?XSP + 1
        MOV	R4,DPL
        MOV	R5,DPH
        MOV	R2,#(devState & 0xff)
        MOV	R3,#((devState >> 8) & 0xff)
        MOV	DPTR,#(ZDApp_LeaveCtrlStartup & 0xffff)
        MOV	A,#((ZDApp_LeaveCtrlStartup >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
//  524 
//  525   // Leave may make the hold state come back
//  526   if ( devState == DEV_HOLD )
        MOV	DPTR,#devState
        MOVX	A,@DPTR
        JNZ	??ZDOInitDevice_0
//  527     return ( ZDO_INITDEV_LEAVE_NOT_STARTED );   // Don't join - (one time).
        MOV	R1,#0x2
        SJMP	??ZDOInitDevice_1
//  528 
//  529 #if defined ( NV_RESTORE )
//  530   // Get Keypad directly to see if a reset nv is needed.
//  531   // Hold down the SW_BYPASS_NV key (defined in OnBoard.h)
//  532   // while booting to skip past NV Restore.
//  533   if ( HalKeyRead() == SW_BYPASS_NV )
//  534     networkStateNV = ZDO_INITDEV_NEW_NETWORK_STATE;
//  535   else
//  536   {
//  537     // Determine if NV should be restored
//  538     networkStateNV = ZDApp_ReadNetworkRestoreState();
//  539   }
//  540 
//  541   if ( networkStateNV == ZDO_INITDEV_RESTORED_NETWORK_STATE )
//  542   {
//  543     networkStateNV = ZDApp_RestoreNetworkState();
//  544   }
//  545   else
//  546   {
//  547     // Wipe out the network state in NV
//  548     NLME_InitNV();
//  549     NLME_SetDefaultNV();
//  550     ZDAppSetupProtoVersion();
//  551   }
//  552 #endif
//  553 
//  554   if ( networkStateNV == ZDO_INITDEV_NEW_NETWORK_STATE )
//  555   {
//  556     ZDAppDetermineDeviceType();
//  557 
//  558     // Only delay if joining network - not restoring network state
//  559     extendedDelay = (uint16)((NWK_START_DELAY + startDelay)
//  560               + (osal_rand() & EXTENDED_JOINING_RANDOM_MASK));
??ZDOInitDevice_0:
        ; Setup parameters for call to function osal_rand
        MOV	DPTR,#(osal_rand & 0xffff)
        MOV	A,#((osal_rand >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	?V0 + 0,R2
        MOV	R0,?V0 + 0
        MOV	DPL,?XSP + 0
        MOV	DPH,?XSP + 1
        MOV	A,#0x7f
        ANL	A,R0
        MOV	R0,A
        MOVX	A,@DPTR
        ADD	A,R0
        MOV	R0,A
        INC	DPTR
        MOVX	A,@DPTR
        ADDC	A,#0x0
        MOV	R1,A
        MOV	A,#0x64
        ADD	A,R0
        MOV	R2,A
        CLR	A
        ADDC	A,R1
        MOV	R3,A
//  561   }
//  562 
//  563   // Trigger the network start
//  564   ZDApp_NetworkInit( extendedDelay );
        ; Setup parameters for call to function ZDApp_NetworkInit
        MOV	DPTR,#(ZDApp_NetworkInit & 0xffff)
        MOV	A,#((ZDApp_NetworkInit >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
//  565 
//  566   return ( networkStateNV );
        MOV	R1,#0x1
??ZDOInitDevice_1:
        LJMP	?Subroutine24 & 0xFFFF
        CFI EndBlock cfiBlock2
//  567 }
//  568 
//  569 /*********************************************************************
//  570  * @fn      ZDApp_ReadNetworkRestoreState
//  571  *
//  572  * @brief   Read the ZCD_NV_STARTUP_OPTION NV Item to state whether
//  573  *          or not to restore the network state.
//  574  *          If the read value has the ZCD_STARTOPT_DEFAULT_NETWORK_STATE
//  575  *          bit set return the ZDO_INITDEV_NEW_NETWORK_STATE.
//  576  *
//  577  * @param   none
//  578  *
//  579  * @return  ZDO_INITDEV_NEW_NETWORK_STATE
//  580  *          or ZDO_INITDEV_RESTORED_NETWORK_STATE based on whether or
//  581  *          not ZCD_STARTOPT_DEFAULT_NETWORK_STATE bit is set in
//  582  *          ZCD_NV_STARTUP_OPTION
//  583  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  584 uint8 ZDApp_ReadNetworkRestoreState( void )
ZDApp_ReadNetworkRestoreState:
        CFI Block cfiBlock3 Using cfiCommon0
        CFI Function ZDApp_ReadNetworkRestoreState
//  585 {
        FUNCALL ZDApp_ReadNetworkRestoreState, zgReadStartupOptions
        LOCFRAME XSTACK, 9, STACK
        ARGFRAME XSTACK, 9, STACK
        MOV	A,#-0x9
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
//  586   uint8 networkStateNV = ZDO_INITDEV_RESTORED_NETWORK_STATE;
        MOV	R6,#0x0
//  587 
//  588   // Look for the New Network State option.
//  589   if ( zgReadStartupOptions() & ZCD_STARTOPT_DEFAULT_NETWORK_STATE )
        ; Setup parameters for call to function zgReadStartupOptions
        MOV	DPTR,#(zgReadStartupOptions & 0xffff)
        MOV	A,#((zgReadStartupOptions >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,R1
        MOV	C,0xE0 /* A   */.1
        JNC	??ZDApp_ReadNetworkRestoreState_0
//  590   {
//  591     networkStateNV = ZDO_INITDEV_NEW_NETWORK_STATE;
        INC	R6
//  592   }
//  593 
//  594   return ( networkStateNV );
??ZDApp_ReadNetworkRestoreState_0:
        MOV	A,R6
        MOV	R1,A
        SJMP	??Subroutine25_0
        CFI EndBlock cfiBlock3
//  595 }

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine25:
        CFI Block cfiBlock4 Using cfiCommon0
        CFI NoFunction
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 24)
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI Invalid
        LCALL	?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 9)
        CFI Valid
??Subroutine25_0:
        MOV	R7,#0x1
        LJMP	?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock4
//  596 
//  597 /*********************************************************************
//  598  * @fn      ZDAppDetermineDeviceType()
//  599  *
//  600  * @brief   Determines the type of device to start.  Right now
//  601  *          this only works with the SOFT_START feature.  So it doesn't
//  602  *          support the end device type.
//  603  *
//  604  *          Looks at zgDeviceLogicalType and determines what type of
//  605  *          device to start.  The types are:
//  606  *            ZG_DEVICETYPE_COORDINATOR
//  607  *            ZG_DEVICETYPE_ROUTER
//  608  *            ZG_DEVICETYPE_ENDDEVICE - not supported yet.
//  609  *            ZG_DEVICETYPE_SOFT - looks for coordinator, if one doesn't
//  610  *               exist, becomes one.  This option is should only be used
//  611  *               if the system is manually configured and you are insured
//  612  *               that the first device is started before all the other
//  613  *               devices are started.
//  614  *
//  615  * @param   none
//  616  *
//  617  * @return  none
//  618  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  619 void ZDAppDetermineDeviceType( void )
ZDAppDetermineDeviceType:
        CFI Block cfiBlock5 Using cfiCommon0
        CFI Function ZDAppDetermineDeviceType
//  620 {
        ; Saved register size: 0
        ; Auto size: 0
//  621   if ( zgDeviceLogicalType == ZG_DEVICETYPE_ENDDEVICE )
        LJMP	?BRET
        CFI EndBlock cfiBlock5
//  622     return;
//  623 
//  624 #if defined ( SOFT_START )
//  625   if ( zgDeviceLogicalType == ZG_DEVICETYPE_COORDINATOR )
//  626   {
//  627     devStartMode = MODE_HARD;     // Start as a coordinator
//  628     ZDO_Config_Node_Descriptor.LogicalType = NODETYPE_COORDINATOR;
//  629   }
//  630   else
//  631   {
//  632     if ( zgDeviceLogicalType == ZG_DEVICETYPE_ROUTER )
//  633     {
//  634       softStartAllowCoord = FALSE;  // Don't allow coord to start
//  635       continueJoining = TRUE;
//  636     }
//  637     devStartMode = MODE_JOIN;     // Assume joining
//  638   }
//  639 #endif // SOFT_START
//  640 }
//  641 
//  642 /*********************************************************************
//  643  * @fn      ZDApp_NetworkStartEvt()
//  644  *
//  645  * @brief   Process the Network Start Event
//  646  *
//  647  * @param   none
//  648  *
//  649  * @return  none
//  650  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  651 void ZDApp_NetworkStartEvt( void )
ZDApp_NetworkStartEvt:
        CFI Block cfiBlock6 Using cfiCommon0
        CFI Function ZDApp_NetworkStartEvt
//  652 {
        FUNCALL ZDApp_NetworkStartEvt, osal_pwrmgr_device
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        FUNCALL ZDApp_NetworkStartEvt, osal_set_event
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        FUNCALL ZDApp_NetworkStartEvt, NLME_GetEnergyThreshold
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        FUNCALL ZDApp_NetworkStartEvt, NLME_GetEnergyThreshold
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        FUNCALL ZDApp_NetworkStartEvt, NLME_SetEnergyThreshold
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        FUNCALL ZDApp_NetworkStartEvt, osal_set_event
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        FUNCALL ZDApp_NetworkStartEvt, osal_set_event
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        PUSH	DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH	DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  653   if ( nwkStatus == ZSuccess )
        MOV	DPTR,#nwkStatus
        MOVX	A,@DPTR
        JNZ	??ZDApp_NetworkStartEvt_0
//  654   {
//  655     // Successfully started a ZigBee network
//  656     if ( devState == DEV_COORD_STARTING )
        MOV	DPTR,#devState
        MOVX	A,@DPTR
        XRL	A,#0x8
        JNZ	??ZDApp_NetworkStartEvt_1
//  657     {
//  658       devState = DEV_ZB_COORD;
        MOV	A,#0x9
        MOVX	@DPTR,A
//  659 
//  660 #if ( SECURE != 0 )
//  661       // Initialize keys
//  662       SSP_UpdateNwkKey( (byte*)zgPreConfigKey, 0 );
//  663       SSP_SwitchNwkKey( 0 );
//  664 #endif
//  665     }
//  666 
//  667     osal_pwrmgr_device( PWRMGR_ALWAYS_ON );
??ZDApp_NetworkStartEvt_1:
        ; Setup parameters for call to function osal_pwrmgr_device
        MOV	R1,#0x0
        MOV	DPTR,#(osal_pwrmgr_device & 0xffff)
        MOV	A,#((osal_pwrmgr_device >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
//  668     osal_set_event( ZDAppTaskID, ZDO_STATE_CHANGE_EVT );
        ; Setup parameters for call to function osal_set_event
        SJMP	??ZDApp_NetworkStartEvt_2
//  669   }
//  670   else
//  671   {
//  672     // Try again with a higher energy threshold !!
//  673     if ( ( NLME_GetEnergyThreshold() + ENERGY_SCAN_INCREMENT ) < 0xff )
??ZDApp_NetworkStartEvt_0:
        ; Setup parameters for call to function NLME_GetEnergyThreshold
        MOV	DPTR,#(NLME_GetEnergyThreshold & 0xffff)
        MOV	A,#((NLME_GetEnergyThreshold >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,R1
        MOV	R0,A
        MOV	A,#0x10
        ADD	A,R0
        MOV	R0,A
        CLR	A
        ADDC	A,#0x0
        MOV	R1,A
        MOV	A,R0
        SUBB	A,#-0x1
        MOV	A,R1
        SUBB	A,#0x0
        CLR	C
        XRL	A,PSW
        RLC	A
        JNC	??ZDApp_NetworkStartEvt_3
//  674     {
//  675       NLME_SetEnergyThreshold( (uint8)(NLME_GetEnergyThreshold() + ENERGY_SCAN_INCREMENT) );
        ; Setup parameters for call to function NLME_SetEnergyThreshold
        ; Setup parameters for call to function NLME_GetEnergyThreshold
        MOV	A,#((NLME_GetEnergyThreshold >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,R1
        ADD	A,#0x10
        MOV	R1,A
        MOV	DPTR,#(NLME_SetEnergyThreshold & 0xffff)
        MOV	A,#((NLME_SetEnergyThreshold >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
//  676       osal_set_event( ZDAppTaskID, ZDO_NETWORK_INIT );
        ; Setup parameters for call to function osal_set_event
        MOV	R2,#0x1
        SJMP	??ZDApp_NetworkStartEvt_4
//  677     }
//  678     else
//  679     {
//  680       // Failed to start network. Enter a dormant state (until user intervenes)
//  681       devState = DEV_INIT;
??ZDApp_NetworkStartEvt_3:
        MOV	A,#0x1
        MOV	DPTR,#devState
        MOVX	@DPTR,A
//  682       osal_set_event( ZDAppTaskID, ZDO_STATE_CHANGE_EVT );
        ; Setup parameters for call to function osal_set_event
??ZDApp_NetworkStartEvt_2:
        MOV	R2,#0x10
??ZDApp_NetworkStartEvt_4:
        LCALL	?Subroutine26 & 0xFFFF
??CrossCallReturnLabel_54:
        LJMP	??Subroutine29_0 & 0xFFFF
        CFI EndBlock cfiBlock6
//  683     }
//  684   }
//  685 }
//  686 
//  687 #if ( SECURE != 0 )
//  688 /*********************************************************************
//  689  * @fn      ZDApp_DeviceAuthEvt()
//  690  *
//  691  * @brief   Process the Device Authentic Event
//  692  *
//  693  * @param   none
//  694  *
//  695  * @return  none
//  696  */
//  697 void ZDApp_DeviceAuthEvt( void )
//  698 {
//  699   // received authentication from trust center
//  700   if ( devState == DEV_END_DEVICE_UNAUTH )
//  701   {
//  702     // Stop the reset timer so it doesn't reset
//  703     ZDApp_ResetTimerCancel();
//  704 
//  705     devState = DEV_END_DEVICE;
//  706     osal_set_event( ZDAppTaskID, ZDO_STATE_CHANGE_EVT );
//  707 
//  708     // Set the Power Manager Device
//  709 #if defined ( POWER_SAVING )
//  710     osal_pwrmgr_device( PWRMGR_BATTERY );
//  711 #endif
//  712 
//  713 #if defined ( RTR_NWK )
//  714     if ( ZDO_Config_Node_Descriptor.LogicalType != NODETYPE_DEVICE )
//  715     {
//  716       // NOTE: first two parameters are not used, see NLMEDE.h for details
//  717       NLME_StartRouterRequest( 0, 0, false );
//  718     }
//  719 #endif  // RTR
//  720 
//  721       // Notify to save info into NV
//  722     osal_start_timerEx( ZDAppTaskID, ZDO_NWK_UPDATE_NV, 100 );
//  723 
//  724     // Save off the security
//  725     ZDApp_SaveNwkKey();
//  726 
//  727 #if defined ( ZDO_ENDDEVICE_ANNCE_GENERATE )
//  728     ZDP_EndDeviceAnnce( ZDAppNwkAddr.addr.shortAddr, saveExtAddr,
//  729                        ZDO_Config_Node_Descriptor.CapabilityFlags, 0 );
//  730 #endif
//  731   }
//  732   else
//  733   {
//  734     osal_start_timerEx( ZDAppTaskID, ZDO_NWK_UPDATE_NV, 250 );
//  735   }
//  736 }
//  737 #endif
//  738 
//  739 /*********************************************************************
//  740  * @fn      ZDApp_SaveNetworkStateEvt()
//  741  *
//  742  * @brief   Process the Save the Network State Event
//  743  *
//  744  * @param   none
//  745  *
//  746  * @return  none
//  747  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  748 void ZDApp_SaveNetworkStateEvt( void )
ZDApp_SaveNetworkStateEvt:
        CFI Block cfiBlock7 Using cfiCommon0
        CFI Function ZDApp_SaveNetworkStateEvt
//  749 {
        ; Saved register size: 0
        ; Auto size: 0
//  750 #if defined ( NV_RESTORE )
//  751  #if defined ( NV_TURN_OFF_RADIO )
//  752   // Turn off the radio's receiver during an NV update
//  753   byte RxOnIdle;
//  754   byte x = false;
//  755   ZMacGetReq( ZMacRxOnIdle, &RxOnIdle );
//  756   ZMacSetReq( ZMacRxOnIdle, &x );
//  757  #endif
//  758 
//  759   // Update the Network State in NV
//  760   NLME_UpdateNV( NWK_NV_NIB_ENABLE        |
//  761                  NWK_NV_DEVICELIST_ENABLE |
//  762                  NWK_NV_BINDING_ENABLE    |
//  763                  NWK_NV_ADDRMGR_ENABLE );
//  764 
//  765   // Reset the NV startup option to resume from NV by
//  766   // clearing the "New" join option.
//  767   zgWriteStartupOptions( FALSE, ZCD_STARTOPT_DEFAULT_NETWORK_STATE );
//  768 
//  769  #if defined ( NV_TURN_OFF_RADIO )
//  770   ZMacSetReq( ZMacRxOnIdle, &RxOnIdle );
//  771  #endif
//  772 #endif  // NV_RESTORE
//  773 }
        LJMP	?BRET
        CFI EndBlock cfiBlock7
//  774 
//  775 /*********************************************************************
//  776  * @fn      ZDApp_RestoreNetworkState()
//  777  *
//  778  * @brief   This function will restore the network state of the
//  779  *          device if the network state is stored in NV.
//  780  *
//  781  * @param   none
//  782  *
//  783  * @return
//  784  *    ZDO_INITDEV_RESTORED_NETWORK_STATE  - The device's network state was
//  785  *          restored.
//  786  *    ZDO_INITDEV_NEW_NETWORK_STATE - The network state was not used.
//  787  *          This could mean that zgStartupOption said to not restore, or
//  788  *          it could mean that there was no network state to restore.
//  789  *
//  790  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  791 uint8 ZDApp_RestoreNetworkState( void )
ZDApp_RestoreNetworkState:
        CFI Block cfiBlock8 Using cfiCommon0
        CFI Function ZDApp_RestoreNetworkState
//  792 {
        FUNCALL ZDApp_RestoreNetworkState, NLME_InitNV
        LOCFRAME XSTACK, 9, STACK
        ARGFRAME XSTACK, 9, STACK
        FUNCALL ZDApp_RestoreNetworkState, NLME_RestoreFromNV
        LOCFRAME XSTACK, 9, STACK
        ARGFRAME XSTACK, 9, STACK
        FUNCALL ZDApp_RestoreNetworkState, NLME_GetShortAddr
        LOCFRAME XSTACK, 9, STACK
        ARGFRAME XSTACK, 9, STACK
        MOV	A,#-0x9
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
//  793   byte nvStat;
//  794 #if ( SECURE != 0 )
//  795   nwkActiveKeyItems keyItems;
//  796 #endif
//  797 
//  798   // Initialize NWK NV items
//  799   nvStat = NLME_InitNV();
        ; Setup parameters for call to function NLME_InitNV
        MOV	DPTR,#(NLME_InitNV & 0xffff)
        MOV	A,#((NLME_InitNV >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,R1
        MOV	R6,A
//  800 
//  801   if ( nvStat != NV_OPER_FAILED )
        MOV	A,#0x10
        XRL	A,R6
        JZ	??ZDApp_RestoreNetworkState_0
//  802   {
//  803     if ( NLME_RestoreFromNV() )
        ; Setup parameters for call to function NLME_RestoreFromNV
        MOV	DPTR,#(NLME_RestoreFromNV & 0xffff)
        MOV	A,#((NLME_RestoreFromNV >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,R1
        JZ	??ZDApp_RestoreNetworkState_1
//  804     {
//  805       // Are we a coordinator
//  806       ZDAppNwkAddr.addr.shortAddr = NLME_GetShortAddr();
        ; Setup parameters for call to function NLME_GetShortAddr
        MOV	DPTR,#(NLME_GetShortAddr & 0xffff)
        MOV	A,#((NLME_GetShortAddr >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	DPTR,#ZDAppNwkAddr
        MOV	A,R2
        MOVX	@DPTR,A
        INC	DPTR
        MOV	A,R3
        MOVX	@DPTR,A
//  807       if ( ZDAppNwkAddr.addr.shortAddr == 0 )
        MOV	DPTR,#ZDAppNwkAddr
        MOVX	A,@DPTR
        JNZ	??ZDApp_RestoreNetworkState_2
        INC	DPTR
        MOVX	A,@DPTR
??ZDApp_RestoreNetworkState_2:
        JNZ	??ZDApp_RestoreNetworkState_3
//  808       {
//  809         ZDO_Config_Node_Descriptor.LogicalType = NODETYPE_COORDINATOR;
        MOV	DPTR,#ZDO_Config_Node_Descriptor
        MOVX	A,@DPTR
        ANL	A,#0xf8
        MOVX	@DPTR,A
//  810       }
//  811       devStartMode = MODE_RESUME;
??ZDApp_RestoreNetworkState_3:
        MOV	A,#0x1
        MOV	DPTR,#devStartMode
        MOVX	@DPTR,A
//  812     }
//  813     else
//  814       nvStat = NV_ITEM_UNINIT;
//  815 
//  816 #if   ( SECURE != 0  )
//  817     nwkFrameCounterChanges = 0;
//  818     osal_memset( &keyItems, 0, sizeof( nwkActiveKeyItems ) );
//  819     osal_nv_item_init( ZCD_NV_NWKKEY, sizeof(nwkActiveKeyItems), (void *)&keyItems );
//  820 
//  821   #if defined ( ZDO_COORDINATOR )
//  822     ZDApp_RestoreNwkKey();
//  823   #endif // ZDO_COORDINATOR
//  824 #endif // SECURE
//  825 
//  826     // The default for RxOnWhenIdle is true for RTR_NWK and false for end devices
//  827     // [setup in the NLME_RestoreFromNV()].  Change it here if you want something
//  828     // other than default.
//  829   }
//  830 
//  831   if ( nvStat == ZSUCCESS )
??ZDApp_RestoreNetworkState_0:
        MOV	A,R6
        JNZ	??ZDApp_RestoreNetworkState_1
//  832     return ( ZDO_INITDEV_RESTORED_NETWORK_STATE );
        MOV	R1,#0x0
        SJMP	??ZDApp_RestoreNetworkState_4
//  833   else
//  834     return ( ZDO_INITDEV_NEW_NETWORK_STATE );
??ZDApp_RestoreNetworkState_1:
        MOV	R1,#0x1
??ZDApp_RestoreNetworkState_4:
        LJMP	??Subroutine25_0 & 0xFFFF
        CFI EndBlock cfiBlock8
//  835 }
//  836 
//  837 /*********************************************************************
//  838  * @fn      ZDAppSetupProtoVersion()
//  839  *
//  840  * @brief   Setup the Network Protocol version
//  841  *
//  842  * NOTES:
//  843  *   Take care of setting initial protocol value if we're possibly a
//  844  *   Coordinator.
//  845  *
//  846  *   If DEF_PROTO_VERS macro is not defined get version
//  847  *   from NV. if the NV version isn't valid default to Version 1.1.
//  848  *
//  849  *   if DEF_PROTO_VERS macro is defined respect it.
//  850  *
//  851  *   This initialization section works for End Devices as well.
//  852  *
//  853  *   There are two chores: make sure that if we're the Coordinator we start
//  854  *   the correct network version, and set things up so that if we're a
//  855  *   joining device we join the correct network. In both cases this init
//  856  *   function runs so take care of both cases here.
//  857  *
//  858  * @param   none
//  859  *
//  860  * @return  none
//  861  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  862 void ZDAppSetupProtoVersion( void )
ZDAppSetupProtoVersion:
        CFI Block cfiBlock9 Using cfiCommon0
        CFI Function ZDAppSetupProtoVersion
//  863 {
        FUNCALL ZDAppSetupProtoVersion, NLME_GetProtocolVersion
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 1, STACK
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 1, STACK
        FUNCALL ZDAppSetupProtoVersion, NLME_SetRequest
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 1, STACK
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 1, STACK
        FUNCALL ZDAppSetupProtoVersion, osal_memset
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 1, STACK
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 1, STACK
        PUSH	DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH	DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 1
        MOV	A,#-0x1
        LCALL	?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 1)
//  864   uint8 restore = 1;  // update NV or not: could save a flash erase cycle
//  865 
//  866 #if !defined ( DEF_PROTO_VERS )
//  867   uint8 protoVer = NLME_GetProtocolVersion(); // get  protocol version from NV
        ; Setup parameters for call to function NLME_GetProtocolVersion
        MOV	DPTR,#(NLME_GetProtocolVersion & 0xffff)
        MOV	A,#((NLME_GetProtocolVersion >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,R1
        MOV	DPL,?XSP + 0
        MOV	DPH,?XSP + 1
        MOVX	@DPTR,A
//  868 
//  869   // it is possible that it is uninitialized.
//  870   if ((protoVer != ZB_PROT_V1_0) && (protoVer != ZB_PROT_V1_1))
        XRL	A,#0x1
        JZ	??ZDAppSetupProtoVersion_0
        MOVX	A,@DPTR
        XRL	A,#0x2
        JZ	??ZDAppSetupProtoVersion_0
//  871   {
//  872     // NV value not valid. 'protoVer' must be set.
//  873 
//  874     // For Coordinator behavior
//  875     // CUSTOMER NOTE: change the following to default the started network
//  876     // to a protocol version other than 1.1
//  877     protoVer = ZB_PROT_V1_1;
        MOV	A,#0x2
        MOVX	@DPTR,A
//  878   }
//  879   else
//  880   {
//  881     // NV valid. 'protoVer' is valid.
//  882     restore = 0;  // no need to update NV
//  883 
//  884     // For joining device behavior. Respect the NV version by making
//  885     // all entries in the version array the same as the NV value.
//  886     osal_memset(sPVerList, protoVer, sizeof(sPVerList));
//  887   }
//  888 #else
//  889   // macro defined. respect it.
//  890 
//  891   // don't compile if defined to an illegal value.
//  892   #if (DEF_PROTO_VERS != ZB_PROT_V1_0) && (DEF_PROTO_VERS != ZB_PROT_V1_1)
//  893     #error  No legal value for default protocol version
//  894   #endif
//  895   uint8 protoVer = DEF_PROTO_VERS;
//  896 
//  897   // For joining device behavior. respect the NV version by making
//  898   // all entries in the version array the same as the macro value.
//  899   osal_memset(sPVerList, protoVer, sizeof(sPVerList));
//  900 #endif   // DEF_PROTO_VERS
//  901 
//  902   // if we are or can be the Coordinator then we must update
//  903   // it here. if we're going to be a joining device setting will be done in the
//  904   // confirm callback if necessary.
//  905   if (restore)
//  906   {
//  907     // we need to set NV to a (possibly) new value
//  908     NLME_SetRequest(nwkProtocolVersion, 0, &protoVer);
        ; Setup parameters for call to function NLME_SetRequest
        MOV	R4,DPL
        MOV	R5,DPH
        MOV	R2,#0x0
        MOV	R3,#0x0
        MOV	R1,#-0x68
        MOV	DPTR,#(NLME_SetRequest & 0xffff)
        MOV	A,#((NLME_SetRequest >> 16) & 0xff)
        SJMP	??ZDAppSetupProtoVersion_1
//  909   }
??ZDAppSetupProtoVersion_0:
        ; Setup parameters for call to function osal_memset
        MOV	R4,#0x2
        MOV	R5,#0x0
        MOV	R2,#(??sPVerList & 0xff)
        MOV	R3,#((??sPVerList >> 8) & 0xff)
        MOV	DPTR,#(osal_memset & 0xffff)
        MOV	A,#((osal_memset >> 16) & 0xff)
??ZDAppSetupProtoVersion_1:
        LJMP	?Subroutine23 & 0xFFFF
        CFI EndBlock cfiBlock9
//  910 }
//  911 
//  912 /*********************************************************************
//  913  * @fn      ZDApp_InitUserDesc()
//  914  *
//  915  * @brief   Initialize the User Descriptor, the descriptor is read from NV
//  916  *          when needed.  If you want to initialize the User descriptor to
//  917  *          something other than all zero, do it here.
//  918  *
//  919  * @param   none
//  920  *
//  921  * @return  none
//  922  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  923 void ZDApp_InitUserDesc( void )
ZDApp_InitUserDesc:
        CFI Block cfiBlock10 Using cfiCommon0
        CFI Function ZDApp_InitUserDesc
//  924 {
        FUNCALL ZDApp_InitUserDesc, osal_memset
        LOCFRAME XSTACK, 27, STACK
        ARGFRAME XSTACK, 27, STACK
        FUNCALL ZDApp_InitUserDesc, osal_nv_item_init
        LOCFRAME XSTACK, 29, STACK
        ARGFRAME XSTACK, 29, STACK
        FUNCALL ZDApp_InitUserDesc, osal_nv_read
        LOCFRAME XSTACK, 31, STACK
        ARGFRAME XSTACK, 31, STACK
        MOV	A,#-0xa
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 17
        MOV	A,#-0x11
        LCALL	?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 27)
//  925   UserDescriptorFormat_t ZDO_DefaultUserDescriptor;
//  926 
//  927   // Initialize the User Descriptor, the descriptor is read from NV
//  928   // when needed.  If you want to initialize the User descriptor to something
//  929   // other than all zero, do it here.
//  930   osal_memset( &ZDO_DefaultUserDescriptor, 0, sizeof( UserDescriptorFormat_t ) );
        ; Setup parameters for call to function osal_memset
        MOV	R4,#0x11
        MOV	R5,#0x0
        MOV	R1,#0x0
        MOV	DPL,?XSP + 0
        MOV	DPH,?XSP + 1
        MOV	R2,DPL
        MOV	R3,DPH
        MOV	DPTR,#(osal_memset & 0xffff)
        MOV	A,#((osal_memset >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
//  931   if ( ZSUCCESS == osal_nv_item_init( ZCD_NV_USERDESC,
//  932          sizeof(UserDescriptorFormat_t), (void*)&ZDO_DefaultUserDescriptor ) )
        ; Setup parameters for call to function osal_nv_item_init
        MOV	DPL,?XSP + 0
        MOV	DPH,?XSP + 1
        MOV	?V0 + 0,DPL
        MOV	?V0 + 1,DPH
        MOV	R0,#?V0 + 0
        LCALL	?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 29)
        MOV	R4,#0x11
        MOV	R5,#0x0
        MOV	R2,#-0x7f
        MOV	R3,#0x0
        MOV	DPTR,#(osal_nv_item_init & 0xffff)
        MOV	A,#((osal_nv_item_init >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,#0x2
        LCALL	?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 27)
        MOV	A,R1
        JNZ	??ZDApp_InitUserDesc_0
//  933   {
//  934     if ( ZSUCCESS == osal_nv_read( ZCD_NV_USERDESC, 0,
//  935          sizeof(UserDescriptorFormat_t), (void*)&ZDO_DefaultUserDescriptor ) )
        ; Setup parameters for call to function osal_nv_read
        MOV	R0,#?V0 + 0
        LCALL	?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 29)
        MOV	?V0 + 0,#0x11
        MOV	?V0 + 1,#0x0
        MOV	R0,#?V0 + 0
        LCALL	?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 31)
        MOV	R4,#0x0
        MOV	R5,#0x0
        MOV	R2,#-0x7f
        MOV	R3,#0x0
        MOV	DPTR,#(osal_nv_read & 0xffff)
        MOV	A,#((osal_nv_read >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,#0x4
        LCALL	?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 27)
        MOV	A,R1
        JNZ	??ZDApp_InitUserDesc_0
//  936     {
//  937       if ( ZDO_DefaultUserDescriptor.len != 0 )
        MOV	DPL,?XSP + 0
        MOV	DPH,?XSP + 1
        MOVX	A,@DPTR
        JZ	??ZDApp_InitUserDesc_0
//  938       {
//  939         ZDO_Config_Node_Descriptor.UserDescAvail = TRUE;
        MOV	DPTR,#ZDO_Config_Node_Descriptor
        MOVX	A,@DPTR
        SETB	0xE0 /* A   */.4
        MOVX	@DPTR,A
//  940       }
//  941     }
//  942   }
//  943 }
??ZDApp_InitUserDesc_0:
        MOV	A,#0x11
        LJMP	??Subroutine24_0 & 0xFFFF
        CFI EndBlock cfiBlock10
//  944 
//  945 /*********************************************************************
//  946  * @fn      ZDAppCheckForHoldKey()
//  947  *
//  948  * @brief   Check for key to set the device into Hold Auto Start
//  949  *
//  950  * @param   none
//  951  *
//  952  * @return  none
//  953  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  954 void ZDAppCheckForHoldKey( void )
ZDAppCheckForHoldKey:
        CFI Block cfiBlock11 Using cfiCommon0
        CFI Function ZDAppCheckForHoldKey
//  955 {
        FUNCALL ZDAppCheckForHoldKey, HalKeyRead
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        PUSH	DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH	DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  956 #if (defined HAL_KEY) && (HAL_KEY == TRUE)
//  957   // Get Keypad directly to see if a HOLD_START is needed.
//  958   // Hold down the SW_BYPASS_START key (see OnBoard.h)
//  959   // while booting to avoid starting up the device.
//  960   if ( HalKeyRead () == SW_BYPASS_START)
        ; Setup parameters for call to function HalKeyRead
        MOV	DPTR,#(HalKeyRead & 0xffff)
        MOV	A,#((HalKeyRead >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,R1
        XRL	A,#0x1
        JNZ	??ZDAppCheckForHoldKey_0
//  961   {
//  962     // Change the device state to HOLD on start up
//  963     devState = DEV_HOLD;
        CLR	A
        MOV	DPTR,#devState
        MOVX	@DPTR,A
//  964   }
//  965 #endif // HAL_KEY
//  966 }
??ZDAppCheckForHoldKey_0:
        LJMP	??Subroutine23_0 & 0xFFFF
        CFI EndBlock cfiBlock11
//  967 
//  968 /*********************************************************************
//  969  * @fn      ZDApp_ProcessOSALMsg()
//  970  *
//  971  * @brief   Process the incoming task message.
//  972  *
//  973  * @param   msgPtr - message to process
//  974  *
//  975  * @return  none
//  976  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
//  977 void ZDApp_ProcessOSALMsg( osal_event_hdr_t *msgPtr )
ZDApp_ProcessOSALMsg:
        CFI Block cfiBlock12 Using cfiCommon0
        CFI Function ZDApp_ProcessOSALMsg
//  978 {
        FUNCALL ZDApp_ProcessOSALMsg, ZDP_IncomingData
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL ZDApp_ProcessOSALMsg, ZDApp_NodeProfileSync
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL ZDApp_ProcessOSALMsg, NLME_JoinRequest
        LOCFRAME XSTACK, 11, STACK
        ARGFRAME XSTACK, 11, STACK
        FUNCALL ZDApp_ProcessOSALMsg, osal_rand
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL ZDApp_ProcessOSALMsg, ZDApp_NetworkInit
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL ZDApp_ProcessOSALMsg, NLME_ReJoinRequest
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL ZDApp_ProcessOSALMsg, osal_rand
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL ZDApp_ProcessOSALMsg, ZDApp_NetworkInit
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL ZDApp_ProcessOSALMsg, NLME_SetPollRate
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL ZDApp_ProcessOSALMsg, NLME_SetQueuedPollRate
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL ZDApp_ProcessOSALMsg, NLME_SetResponseRate
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL ZDApp_ProcessOSALMsg, osal_rand
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL ZDApp_ProcessOSALMsg, ZDApp_NetworkInit
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL ZDApp_ProcessOSALMsg, ZDApp_ProcessNetworkJoin
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL ZDApp_ProcessOSALMsg, ZDApp_NetworkInit
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL ZDApp_ProcessOSALMsg, osal_set_event
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        MOV	A,#-0xa
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 0
        MOV	A,R2
        MOV	R6,A
        MOV	A,R3
        MOV	R7,A
//  979   // Data Confirmation message fields
//  980   byte sentEP;       // This should always be 0
//  981   byte sentStatus;
//  982   afDataConfirm_t *afDataConfirm;
//  983 
//  984   switch ( msgPtr->event )
        MOV	DPL,R6
        MOV	DPH,R7
        MOVX	A,@DPTR
        LCALL	?UC_SWITCH_SPARSE
`?<Jumptable for ZDApp_ProcessOSALMsg>_0`:
        DB        0
        DB        4
        DB        1
        DW        ??ZDApp_ProcessOSALMsg_0
        DB        2
        DW        ??ZDApp_ProcessOSALMsg_1
        DB        3
        DW        ??ZDApp_ProcessOSALMsg_2
        DB        26
        DW        ??ZDApp_ProcessOSALMsg_3
        DW        ??ZDApp_ProcessOSALMsg_4
//  985   {
//  986     // Incoming ZDO Message
//  987     case AF_INCOMING_MSG_CMD:
//  988       ZDP_IncomingData( (afIncomingMSGPacket_t *)msgPtr );
??ZDApp_ProcessOSALMsg_3:
        ; Setup parameters for call to function ZDP_IncomingData
        MOV	DPTR,#(ZDP_IncomingData & 0xffff)
        MOV	A,#((ZDP_IncomingData >> 16) & 0xff)
        LJMP	??CrossCallReturnLabel_52 & 0xFFFF
//  989       break;
//  990 
//  991     case AF_DATA_CONFIRM_CMD:
//  992       // This message is received as a confirmation of a data packet sent.
//  993       // The status is of ZStatus_t type [defined in NLMEDE.h]
//  994       // The message fields are defined in AF.h
//  995       afDataConfirm = (afDataConfirm_t *)msgPtr;
//  996       sentEP = afDataConfirm->endpoint;
//  997       sentStatus = afDataConfirm->hdr.status;
//  998 
//  999       // Action taken when confirmation is received.
// 1000       /* Put code here */
// 1001 #if !defined ( RTR_NWK )
// 1002       if ( sentStatus == ZMacNoACK )
// 1003       {
// 1004         //ZDApp_SendMsg( ZDAppTaskID, ZDO_NWK_JOIN_REQ, sizeof(osal_event_hdr_t), NULL );
// 1005       }
// 1006 #else
// 1007      (void)sentStatus;
// 1008 #endif
// 1009       break;
// 1010 
// 1011     case ZDO_NWK_DISC_CNF:
// 1012       if (devState != DEV_NWK_DISC)
??ZDApp_ProcessOSALMsg_0:
        MOV	DPTR,#devState
        MOVX	A,@DPTR
        XRL	A,#0x2
        JZ	$+5
        LJMP	??ZDApp_ProcessOSALMsg_4 & 0xFFFF
// 1013       {
// 1014       }
// 1015 #if !defined ( ZDO_COORDINATOR ) || defined ( SOFT_START )
// 1016   #if defined ( MANAGED_SCAN )
// 1017       else if ( (((ZDO_NetworkDiscoveryCfm_t *)msgPtr)->hdr.status == ZDO_SUCCESS) && (zdoDiscCounter > NUM_DISC_ATTEMPTS) )
// 1018   #else
// 1019       else if ( (((ZDO_NetworkDiscoveryCfm_t *)msgPtr)->hdr.status == ZDO_SUCCESS) && (zdoDiscCounter++ > NUM_DISC_ATTEMPTS) )
        MOV	DPL,R6
        MOV	DPH,R7
        INC	DPTR
        MOVX	A,@DPTR
        JZ	$+5
        LJMP	??ZDApp_ProcessOSALMsg_5 & 0xFFFF
        MOV	DPTR,#zdoDiscCounter
        MOVX	A,@DPTR
        MOV	R2,A
        MOV	A,#0x1
        ADD	A,R2
        MOVX	@DPTR,A
        MOV	A,R2
        CLR	C
        SUBB	A,#0x3
        JNC	$+5
        LJMP	??ZDApp_ProcessOSALMsg_5 & 0xFFFF
// 1020   #endif
// 1021       {
// 1022         if ( devStartMode == MODE_JOIN )
        MOV	DPTR,#devStartMode
        MOVX	A,@DPTR
        JNZ	??ZDApp_ProcessOSALMsg_6
// 1023         {
// 1024           devState = DEV_NWK_JOINING;
        MOV	A,#0x3
        MOV	DPTR,#devState
        MOVX	@DPTR,A
// 1025 
// 1026           ZDApp_NodeProfileSync((ZDO_NetworkDiscoveryCfm_t *)msgPtr);
        ; Setup parameters for call to function ZDApp_NodeProfileSync
        MOV	A,R6
        MOV	R2,A
        MOV	DPTR,#(ZDApp_NodeProfileSync & 0xffff)
        MOV	A,#((ZDApp_NodeProfileSync >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
// 1027 
// 1028           if ( NLME_JoinRequest( ((ZDO_NetworkDiscoveryCfm_t *)msgPtr)->extendedPANID,
// 1029                BUILD_UINT16( ((ZDO_NetworkDiscoveryCfm_t *)msgPtr)->panIdLSB, ((ZDO_NetworkDiscoveryCfm_t *)msgPtr)->panIdMSB ),
// 1030                ((ZDO_NetworkDiscoveryCfm_t *)msgPtr)->logicalChannel,
// 1031                ZDO_Config_Node_Descriptor.CapabilityFlags ) != ZSuccess )
        ; Setup parameters for call to function NLME_JoinRequest
        MOV	DPTR,#(ZDO_Config_Node_Descriptor + 2)
        LCALL	??Subroutine10_0 & 0xFFFF
??CrossCallReturnLabel_21:
        LCALL	?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 11)
        MOV	DPL,R6
        MOV	DPH,R7
        INC	DPTR
        INC	DPTR
        INC	DPTR
        LCALL	?Subroutine12 & 0xFFFF
??CrossCallReturnLabel_27:
        MOVX	A,@DPTR
        MOV	R4,A
        MOV	DPL,R6
        MOV	DPH,R7
        INC	DPTR
        INC	DPTR
        INC	DPTR
        MOVX	A,@DPTR
        MOV	R3,A
        CLR	A
        ADD	A,R4
        MOV	A,R3
        ADDC	A,#0x0
        MOV	R5,A
        MOV	A,R6
        ADD	A,#0x6
        MOV	R2,A
        MOV	A,R7
        ADDC	A,#0x0
        MOV	R3,A
        MOV	DPTR,#(NLME_JoinRequest & 0xffff)
        MOV	A,#((NLME_JoinRequest >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,#0x1
        LCALL	?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 10)
        SJMP	??ZDApp_ProcessOSALMsg_7
// 1032           {
// 1033             ZDApp_NetworkInit( (uint16)(NWK_START_DELAY
// 1034                 + ((uint16)(osal_rand()& EXTENDED_JOINING_RANDOM_MASK))) );
// 1035           }
// 1036         }
// 1037         else if ( devStartMode == MODE_REJOIN )
??ZDApp_ProcessOSALMsg_6:
        XRL	A,#0x3
        JNZ	??ZDApp_ProcessOSALMsg_8
// 1038         {
// 1039           devState = DEV_NWK_REJOIN;
        MOV	A,#0x4
        MOV	DPTR,#devState
        MOVX	@DPTR,A
// 1040           if ( NLME_ReJoinRequest() != ZSuccess )
        ; Setup parameters for call to function NLME_ReJoinRequest
        MOV	DPTR,#(NLME_ReJoinRequest & 0xffff)
        MOV	A,#((NLME_ReJoinRequest >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
??ZDApp_ProcessOSALMsg_7:
        MOV	A,R1
        JZ	??ZDApp_ProcessOSALMsg_8
// 1041           {
// 1042             ZDApp_NetworkInit( (uint16)(NWK_START_DELAY
// 1043                 + ((uint16)(osal_rand()& EXTENDED_JOINING_RANDOM_MASK))) );
        ; Setup parameters for call to function ZDApp_NetworkInit
        ; Setup parameters for call to function osal_rand
        MOV	DPTR,#(osal_rand & 0xffff)
        MOV	A,#((osal_rand >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        LCALL	?Subroutine13 & 0xFFFF
??CrossCallReturnLabel_59:
        LCALL	?BCALL               ; Banked call to: DPTR()
// 1044           }
// 1045         }
// 1046 
// 1047         if ( ZDO_Config_Node_Descriptor.CapabilityFlags & CAPINFO_RCVR_ON_IDLE )
??ZDApp_ProcessOSALMsg_8:
        MOV	DPTR,#(ZDO_Config_Node_Descriptor + 2)
        MOVX	A,@DPTR
        MOV	C,0xE0 /* A   */.3
        JNC	??ZDApp_ProcessOSALMsg_4
// 1048         {
// 1049           // The receiver is on, turn network layer polling off.
// 1050           NLME_SetPollRate( 0 );
        ; Setup parameters for call to function NLME_SetPollRate
        MOV	R2,#0x0
        MOV	R3,#0x0
        MOV	DPTR,#(NLME_SetPollRate & 0xffff)
        MOV	A,#((NLME_SetPollRate >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
// 1051           NLME_SetQueuedPollRate( 0 );
        ; Setup parameters for call to function NLME_SetQueuedPollRate
        MOV	R2,#0x0
        MOV	R3,#0x0
        MOV	DPTR,#(NLME_SetQueuedPollRate & 0xffff)
        MOV	A,#((NLME_SetQueuedPollRate >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
// 1052           NLME_SetResponseRate( 0 );
        ; Setup parameters for call to function NLME_SetResponseRate
        MOV	R2,#0x0
        MOV	R3,#0x0
        MOV	DPTR,#(NLME_SetResponseRate & 0xffff)
        MOV	A,#((NLME_SetResponseRate >> 16) & 0xff)
        SJMP	??CrossCallReturnLabel_52
// 1053         }
// 1054       }
// 1055       else
// 1056       {
// 1057 #if defined ( SOFT_START ) && !defined ( VIRTKEY_SOFT_START )
// 1058   #if defined ( MANAGED_SCAN )
// 1059         if ( (softStartAllowCoord)
// 1060             && (((ZDO_NetworkDiscoveryCfm_t *)msgPtr)->hdr.status != ZDO_SUCCESS )
// 1061               && (zdoDiscCounter > NUM_DISC_ATTEMPTS) )
// 1062   #else
// 1063         if ( (softStartAllowCoord)
// 1064             && (((ZDO_NetworkDiscoveryCfm_t *)msgPtr)->hdr.status != ZDO_SUCCESS )
// 1065               && (zdoDiscCounter++ > NUM_DISC_ATTEMPTS) )
// 1066   #endif
// 1067         {
// 1068           ZDO_Config_Node_Descriptor.LogicalType = NODETYPE_COORDINATOR;
// 1069           devStartMode = MODE_HARD;
// 1070         }
// 1071         else if ( continueJoining == FALSE )
// 1072         {
// 1073           devState = DEV_HOLD;
// 1074           osal_stop_timerEx( ZDAppTaskID, ZDO_NETWORK_INIT );
// 1075           break;    // Don't init
// 1076         }
// 1077 #endif
// 1078   #if defined ( MANAGED_SCAN )
// 1079         ZDApp_NetworkInit( MANAGEDSCAN_DELAY_BETWEEN_SCANS );
// 1080   #else
// 1081         if ( continueJoining )
??ZDApp_ProcessOSALMsg_5:
        MOV	DPTR,#continueJoining
        MOVX	A,@DPTR
        JZ	??ZDApp_ProcessOSALMsg_4
// 1082         {
// 1083           ZDApp_NetworkInit( (uint16)(BEACON_REQUEST_DELAY
// 1084               + ((uint16)(osal_rand()& BEACON_REQ_DELAY_MASK))) );
        ; Setup parameters for call to function ZDApp_NetworkInit
        ; Setup parameters for call to function osal_rand
        MOV	DPTR,#(osal_rand & 0xffff)
        MOV	A,#((osal_rand >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	?V0 + 0,R2
        MOV	A,#-0x1
        ANL	A,?V0 + 0
        MOV	R0,A
        MOV	A,#0x64
        ADD	A,R0
        MOV	R2,A
        CLR	A
        ADDC	A,#0x0
        MOV	R3,A
        MOV	DPTR,#(ZDApp_NetworkInit & 0xffff)
        MOV	A,#((ZDApp_NetworkInit >> 16) & 0xff)
        SJMP	??CrossCallReturnLabel_52
// 1085         }
// 1086   #endif
// 1087       }
// 1088 #endif  // !ZDO_COORDINATOR
// 1089       break;
// 1090 
// 1091 #if !defined( ZDO_COORDINATOR ) || defined( SOFT_START )
// 1092     case ZDO_NWK_JOIN_IND:
// 1093       ZDApp_ProcessNetworkJoin();
??ZDApp_ProcessOSALMsg_1:
        ; Setup parameters for call to function ZDApp_ProcessNetworkJoin
        MOV	DPTR,#(ZDApp_ProcessNetworkJoin & 0xffff)
        MOV	A,#((ZDApp_ProcessNetworkJoin >> 16) & 0xff)
        SJMP	??CrossCallReturnLabel_52
// 1094       break;
// 1095 
// 1096     case ZDO_NWK_JOIN_REQ:
// 1097       retryCnt = 0;
??ZDApp_ProcessOSALMsg_2:
        CLR	A
        MOV	DPTR,#??retryCnt
        MOVX	@DPTR,A
// 1098       devStartMode = MODE_RESUME;
        MOV	A,#0x1
        MOV	DPTR,#devStartMode
        MOVX	@DPTR,A
// 1099       _tmpRejoinState = true;
        MOV	DPTR,#_tmpRejoinState
        MOVX	@DPTR,A
// 1100       zgDefaultStartingScanDuration = BEACON_ORDER_60_MSEC;
        MOV	A,#0x2
        MOV	DPTR,#zgDefaultStartingScanDuration
        LCALL	?Subroutine2 & 0xFFFF
// 1101       ZDApp_NetworkInit( 0 );
??CrossCallReturnLabel_57:
        LCALL	?BCALL               ; Banked call to: DPTR()
// 1102 
// 1103       // indicate state change to apps
// 1104       devState = DEV_INIT;
        MOV	A,#0x1
        LCALL	?Subroutine0 & 0xFFFF
// 1105       osal_set_event( ZDAppTaskID, ZDO_STATE_CHANGE_EVT );
??CrossCallReturnLabel_52:
        LCALL	?BCALL               ; Banked call to: DPTR()
// 1106       break;
// 1107 #endif  // !ZDO_COORDINATOR
// 1108 
// 1109 #if defined ( ZDSECMGR_SECURE )
// 1110   #if defined ( ZDSECMGR_COMMERCIAL )
// 1111         case ZDO_ESTABLISH_KEY_CFM:
// 1112           ZDSecMgrEstablishKeyCfm
// 1113             ( (ZDO_EstablishKeyCfm_t*)msgPtr );
// 1114           break;
// 1115   #endif
// 1116 
// 1117   #if defined ( ZDSECMGR_COMMERCIAL )
// 1118     #if !defined ( ZDO_COORDINATOR ) || defined ( SOFT_START )
// 1119         case ZDO_ESTABLISH_KEY_IND:
// 1120           ZDSecMgrEstablishKeyInd
// 1121             ( (ZDO_EstablishKeyInd_t*)msgPtr );
// 1122           break;
// 1123     #endif
// 1124   #endif
// 1125 
// 1126   #if !defined ( ZDO_COORDINATOR ) || defined( SOFT_START )
// 1127         case ZDO_TRANSPORT_KEY_IND:
// 1128           ZDSecMgrTransportKeyInd
// 1129             ( (ZDO_TransportKeyInd_t*)msgPtr );
// 1130           break;
// 1131   #endif
// 1132 
// 1133   #if defined ( ZDO_COORDINATOR )
// 1134         case ZDO_UPDATE_DEVICE_IND:
// 1135           ZDSecMgrUpdateDeviceInd
// 1136             ( (ZDO_UpdateDeviceInd_t*)msgPtr );
// 1137           break;
// 1138   #endif
// 1139 
// 1140   #if defined ( RTR_NWK )
// 1141     #if !defined ( ZDO_COORDINATOR ) || defined( SOFT_START )
// 1142         case ZDO_REMOVE_DEVICE_IND:
// 1143           ZDSecMgrRemoveDeviceInd
// 1144             ( (ZDO_RemoveDeviceInd_t*)msgPtr );
// 1145           break;
// 1146     #endif
// 1147   #endif
// 1148 
// 1149   #if defined ( ZDSECMGR_COMMERCIAL )
// 1150     #if defined ( ZDO_COORDINATOR )
// 1151         case ZDO_REQUEST_KEY_IND:
// 1152           ZDSecMgrRequestKeyInd
// 1153             ( (ZDO_RequestKeyInd_t*)msgPtr );
// 1154           break;
// 1155     #endif
// 1156   #endif
// 1157 
// 1158   #if !defined ( ZDO_COORDINATOR ) || defined( SOFT_START )
// 1159         case ZDO_SWITCH_KEY_IND:
// 1160           ZDSecMgrSwitchKeyInd
// 1161             ( (ZDO_SwitchKeyInd_t*)msgPtr );
// 1162           break;
// 1163   #endif
// 1164 
// 1165 #endif // defined ( ZDSECMGR_SECURE )
// 1166 
// 1167     default:
// 1168       break;
// 1169   }
// 1170 
// 1171   (void)sentEP;
// 1172 }
??ZDApp_ProcessOSALMsg_4:
        LJMP	??Subroutine24_1 & 0xFFFF
        CFI EndBlock cfiBlock12
// 1173 
// 1174 #if !defined( ZDO_COORDINATOR ) || defined( SOFT_START )
// 1175 /*********************************************************************
// 1176  * @fn      ZDApp_ProcessNetworkJoin()
// 1177  *
// 1178  * @brief
// 1179  *
// 1180  *   Save off the Network key information.
// 1181  *
// 1182  * @param   none
// 1183  *
// 1184  * @return  none
// 1185  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1186 void ZDApp_ProcessNetworkJoin( void )
ZDApp_ProcessNetworkJoin:
        CFI Block cfiBlock13 Using cfiCommon0
        CFI Function ZDApp_ProcessNetworkJoin
// 1187 {
        FUNCALL ZDApp_ProcessNetworkJoin, osal_set_event
        LOCFRAME XSTACK, 12, STACK
        ARGFRAME XSTACK, 12, STACK
        FUNCALL ZDApp_ProcessNetworkJoin, NLME_GetShortAddr
        LOCFRAME XSTACK, 12, STACK
        ARGFRAME XSTACK, 12, STACK
        FUNCALL ZDApp_ProcessNetworkJoin, ZMacSetReq
        LOCFRAME XSTACK, 12, STACK
        ARGFRAME XSTACK, 12, STACK
        FUNCALL ZDApp_ProcessNetworkJoin, osal_rand
        LOCFRAME XSTACK, 12, STACK
        ARGFRAME XSTACK, 12, STACK
        FUNCALL ZDApp_ProcessNetworkJoin, ZDApp_NetworkInit
        LOCFRAME XSTACK, 12, STACK
        ARGFRAME XSTACK, 12, STACK
        FUNCALL ZDApp_ProcessNetworkJoin, osal_set_event
        LOCFRAME XSTACK, 12, STACK
        ARGFRAME XSTACK, 12, STACK
        FUNCALL ZDApp_ProcessNetworkJoin, NLME_SetPollRate
        LOCFRAME XSTACK, 12, STACK
        ARGFRAME XSTACK, 12, STACK
        FUNCALL ZDApp_ProcessNetworkJoin, NLME_SetQueuedPollRate
        LOCFRAME XSTACK, 12, STACK
        ARGFRAME XSTACK, 12, STACK
        FUNCALL ZDApp_ProcessNetworkJoin, NLME_SetResponseRate
        LOCFRAME XSTACK, 12, STACK
        ARGFRAME XSTACK, 12, STACK
        FUNCALL ZDApp_ProcessNetworkJoin, osal_rand
        LOCFRAME XSTACK, 12, STACK
        ARGFRAME XSTACK, 12, STACK
        FUNCALL ZDApp_ProcessNetworkJoin, ZDApp_NetworkInit
        LOCFRAME XSTACK, 12, STACK
        ARGFRAME XSTACK, 12, STACK
        MOV	A,#-0xa
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 2
        MOV	A,#-0x2
        LCALL	?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 12)
// 1188   if ( (devState == DEV_NWK_JOINING) ||
// 1189       ((devState == DEV_NWK_ORPHAN)  &&
// 1190        (ZDO_Config_Node_Descriptor.LogicalType == NODETYPE_ROUTER)) )
        MOV	DPTR,#devState
        MOVX	A,@DPTR
        XRL	A,#0x3
        JZ	??ZDApp_ProcessNetworkJoin_0
        MOVX	A,@DPTR
        XRL	A,#0xa
        JZ	$+5
        LJMP	??ZDApp_ProcessNetworkJoin_1 & 0xFFFF
        MOV	DPTR,#ZDO_Config_Node_Descriptor
        MOVX	A,@DPTR
        ANL	A,#0x7
        XRL	A,#0x1
        JZ	$+5
        LJMP	??ZDApp_ProcessNetworkJoin_2 & 0xFFFF
// 1191   {
// 1192     // Result of a Join attempt by this device.
// 1193     if ( nwkStatus == ZSuccess )
??ZDApp_ProcessNetworkJoin_0:
        MOV	DPTR,#nwkStatus
        MOVX	A,@DPTR
        JNZ	??ZDApp_ProcessNetworkJoin_3
// 1194     {
// 1195       osal_set_event( ZDAppTaskID, ZDO_STATE_CHANGE_EVT );
        ; Setup parameters for call to function osal_set_event
        MOV	R2,#0x10
        LCALL	?Subroutine26 & 0xFFFF
??CrossCallReturnLabel_55:
        LCALL	?BCALL               ; Banked call to: DPTR()
// 1196 
// 1197 #if defined ( POWER_SAVING )
// 1198       osal_pwrmgr_device( PWRMGR_BATTERY );
// 1199 #endif
// 1200 
// 1201 #if   ( SECURE != 0  )
// 1202       if ( _NIB.SecurityLevel && (ZDApp_RestoreNwkKey() == false ) )
// 1203       {
// 1204         // wait for auth from trust center!!
// 1205         devState = DEV_END_DEVICE_UNAUTH;
// 1206 
// 1207         // Start the reset timer for MAX UNAUTH time
// 1208         ZDApp_ResetTimerStart( MAX_DEVICE_UNAUTH_TIMEOUT );
// 1209       }
// 1210       else
// 1211 #endif  // SECURE
// 1212       {
// 1213 #if defined ( RTR_NWK )
// 1214         if ( devState == DEV_NWK_ORPHAN
// 1215             && ZDO_Config_Node_Descriptor.LogicalType != NODETYPE_DEVICE )
// 1216         {
// 1217           // Change NIB state to router for restore
// 1218           _NIB.nwkState = NWK_ROUTER;
// 1219         }
// 1220 #endif
// 1221         devState = DEV_END_DEVICE;
        MOV	A,#0x6
        MOV	DPTR,#devState
        MOVX	@DPTR,A
        LJMP	??ZDApp_ProcessNetworkJoin_4 & 0xFFFF
// 1222 #if defined ( RTR_NWK )
// 1223         // NOTE: first two parameters are not used, see NLMEDE.h for details
// 1224   #if !defined (AUTO_SOFT_START)
// 1225         if ( ZDO_Config_Node_Descriptor.LogicalType != NODETYPE_DEVICE )
// 1226         {
// 1227           NLME_StartRouterRequest( 0, 0, false );
// 1228         }
// 1229   #endif // AUTO_SOFT_START
// 1230 #endif  // RTR
// 1231 
// 1232 #if defined ( ZDO_ENDDEVICE_ANNCE_GENERATE )
// 1233         ZDP_EndDeviceAnnce( ZDAppNwkAddr.addr.shortAddr, saveExtAddr,
// 1234                            ZDO_Config_Node_Descriptor.CapabilityFlags, 0 );
// 1235 #endif
// 1236       }
// 1237     }
// 1238     else
// 1239     {
// 1240       if ( (devStartMode == MODE_RESUME) && (++retryCnt >= MAX_RESUME_RETRY) )
??ZDApp_ProcessNetworkJoin_3:
        MOV	DPTR,#devStartMode
        MOVX	A,@DPTR
        XRL	A,#0x1
        JNZ	??ZDApp_ProcessNetworkJoin_5
        MOV	DPTR,#??retryCnt
        MOVX	A,@DPTR
        INC	A
        MOVX	@DPTR,A
        JZ	??ZDApp_ProcessNetworkJoin_5
// 1241       {
// 1242         if ( _NIB.nwkPanId == 0xFFFF || _NIB.nwkPanId == INVALID_PAN_ID )
        MOV	DPTR,#(_NIB + 33)
        MOVX	A,@DPTR
        XRL	A,#0xff
        JNZ	??ZDApp_ProcessNetworkJoin_6
        INC	DPTR
        MOVX	A,@DPTR
        XRL	A,#0xff
??ZDApp_ProcessNetworkJoin_6:
        JZ	??ZDApp_ProcessNetworkJoin_7
        MOV	DPTR,#(_NIB + 33)
        MOVX	A,@DPTR
        XRL	A,#0xfe
        JNZ	??ZDApp_ProcessNetworkJoin_8
        INC	DPTR
        MOVX	A,@DPTR
        XRL	A,#0xff
??ZDApp_ProcessNetworkJoin_8:
        JNZ	??ZDApp_ProcessNetworkJoin_9
// 1243           devStartMode = MODE_JOIN;
??ZDApp_ProcessNetworkJoin_7:
        CLR	A
        MOV	DPTR,#devStartMode
        SJMP	??ZDApp_ProcessNetworkJoin_10
// 1244         else
// 1245         {
// 1246           devStartMode = MODE_REJOIN;
??ZDApp_ProcessNetworkJoin_9:
        MOV	A,#0x3
        MOV	DPTR,#devStartMode
        MOVX	@DPTR,A
// 1247           _tmpRejoinState = true;
        MOV	A,#0x1
        MOV	DPTR,#_tmpRejoinState
??ZDApp_ProcessNetworkJoin_10:
        MOVX	@DPTR,A
// 1248         }
// 1249       }
// 1250 
// 1251       if ( (NLME_GetShortAddr() != INVALID_NODE_ADDR) ||
// 1252            (_NIB.nwkDevAddress != INVALID_NODE_ADDR) )
??ZDApp_ProcessNetworkJoin_5:
        ; Setup parameters for call to function NLME_GetShortAddr
        MOV	DPTR,#(NLME_GetShortAddr & 0xffff)
        MOV	A,#((NLME_GetShortAddr >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	?V0 + 0,R2
        MOV	?V0 + 1,R3
        MOV	A,#-0x2
        XRL	A,?V0 + 0
        JNZ	??ZDApp_ProcessNetworkJoin_11
        MOV	A,#-0x1
        XRL	A,?V0 + 1
??ZDApp_ProcessNetworkJoin_11:
        JNZ	??ZDApp_ProcessNetworkJoin_12
        MOV	DPTR,#(_NIB + 20)
        MOVX	A,@DPTR
        XRL	A,#0xfe
        JNZ	??ZDApp_ProcessNetworkJoin_13
        INC	DPTR
        MOVX	A,@DPTR
        XRL	A,#0xff
??ZDApp_ProcessNetworkJoin_13:
        JZ	??ZDApp_ProcessNetworkJoin_14
// 1253       {
// 1254         uint16 addr = INVALID_NODE_ADDR;
??ZDApp_ProcessNetworkJoin_12:
        MOV	DPL,?XSP + 0
        MOV	DPH,?XSP + 1
        MOV	A,#-0x2
        MOVX	@DPTR,A
        INC	DPTR
        MOV	A,#-0x1
        MOVX	@DPTR,A
// 1255         // Invalidate nwk addr so end device does not use in its data reqs.
// 1256         _NIB.nwkDevAddress = INVALID_NODE_ADDR;
        MOV	DPTR,#(_NIB + 20)
        MOV	A,#-0x2
        MOVX	@DPTR,A
        INC	DPTR
        MOV	A,#-0x1
        LCALL	?Subroutine1 & 0xFFFF
// 1257         ZMacSetReq( ZMacShortAddress, (byte *)&addr );
??CrossCallReturnLabel_0:
        MOV	R2,DPL
        MOV	R3,DPH
        MOV	R1,#0x53
        LCALL	ZMacSetReq & 0xFFFF
// 1258       }
// 1259 
// 1260       zdoDiscCounter = 1;
??ZDApp_ProcessNetworkJoin_14:
        MOV	A,#0x1
        MOV	DPTR,#zdoDiscCounter
        SJMP	??ZDApp_ProcessNetworkJoin_15
        ; Setup parameters for call to function ZDApp_NetworkInit
        ; Setup parameters for call to function osal_rand
// 1261 
// 1262 //      ZDApp_NetworkInit( (uint16)
// 1263 //                         ((NWK_START_DELAY * (osal_rand() & 0x0F)) +
// 1264 //                          (NWK_START_DELAY * 5)) );
// 1265       ZDApp_NetworkInit( (uint16)(NWK_START_DELAY
// 1266            + ((uint16)(osal_rand()& EXTENDED_JOINING_RANDOM_MASK))) );
// 1267     }
// 1268   }
// 1269   else if ( devState == DEV_NWK_ORPHAN || devState == DEV_NWK_REJOIN )
??ZDApp_ProcessNetworkJoin_1:
        MOVX	A,@DPTR
        XRL	A,#0x4
        JZ	$+5
        LJMP	??ZDApp_ProcessNetworkJoin_4 & 0xFFFF
// 1270   {
// 1271     // results of an orphaning attempt by this device
// 1272     if (nwkStatus == ZSuccess)
??ZDApp_ProcessNetworkJoin_2:
        MOV	DPTR,#nwkStatus
        MOVX	A,@DPTR
        JNZ	??ZDApp_ProcessNetworkJoin_16
// 1273     {
// 1274 #if ( SECURE != 0 )
// 1275       ZDApp_RestoreNwkKey();
// 1276 #endif
// 1277       devState = DEV_END_DEVICE;
        MOV	A,#0x6
        LCALL	?Subroutine0 & 0xFFFF
// 1278       osal_set_event( ZDAppTaskID, ZDO_STATE_CHANGE_EVT );
??CrossCallReturnLabel_53:
        LCALL	?BCALL               ; Banked call to: DPTR()
// 1279       // setup Power Manager Device
// 1280 #if defined ( POWER_SAVING )
// 1281       osal_pwrmgr_device( PWRMGR_BATTERY );
// 1282 #endif
// 1283 
// 1284       if ( ZDO_Config_Node_Descriptor.CapabilityFlags & CAPINFO_RCVR_ON_IDLE )
        MOV	DPTR,#(ZDO_Config_Node_Descriptor + 2)
        MOVX	A,@DPTR
        MOV	C,0xE0 /* A   */.3
        JNC	??ZDApp_ProcessNetworkJoin_4
// 1285       {
// 1286         // The receiver is on, turn network layer polling off.
// 1287         NLME_SetPollRate( 0 );
        ; Setup parameters for call to function NLME_SetPollRate
        MOV	R2,#0x0
        MOV	R3,#0x0
        MOV	DPTR,#(NLME_SetPollRate & 0xffff)
        MOV	A,#((NLME_SetPollRate >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
// 1288         NLME_SetQueuedPollRate( 0 );
        ; Setup parameters for call to function NLME_SetQueuedPollRate
        MOV	R2,#0x0
        MOV	R3,#0x0
        MOV	DPTR,#(NLME_SetQueuedPollRate & 0xffff)
        MOV	A,#((NLME_SetQueuedPollRate >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
// 1289         NLME_SetResponseRate( 0 );
        ; Setup parameters for call to function NLME_SetResponseRate
        MOV	R2,#0x0
        MOV	R3,#0x0
        MOV	DPTR,#(NLME_SetResponseRate & 0xffff)
        MOV	A,#((NLME_SetResponseRate >> 16) & 0xff)
        SJMP	??CrossCallReturnLabel_60
// 1290       }
// 1291 
// 1292 #if defined ( ZDO_ENDDEVICE_ANNCE_GENERATE )
// 1293       ZDP_EndDeviceAnnce( ZDAppNwkAddr.addr.shortAddr, saveExtAddr,
// 1294                          ZDO_Config_Node_Descriptor.CapabilityFlags, 0 );
// 1295 #endif
// 1296 
// 1297     }
// 1298     else
// 1299     {
// 1300       if ( (devStartMode == MODE_RESUME) && (++retryCnt >= MAX_RESUME_RETRY) )
??ZDApp_ProcessNetworkJoin_16:
        MOV	DPTR,#devStartMode
        MOVX	A,@DPTR
        XRL	A,#0x1
        JNZ	??ZDApp_ProcessNetworkJoin_17
        MOV	DPTR,#??retryCnt
        MOVX	A,@DPTR
        INC	A
        MOVX	@DPTR,A
        JZ	??ZDApp_ProcessNetworkJoin_17
// 1301       {
// 1302         if ( _NIB.nwkPanId == 0xFFFF || _NIB.nwkPanId == INVALID_PAN_ID )
        MOV	DPTR,#(_NIB + 33)
        MOVX	A,@DPTR
        XRL	A,#0xff
        JNZ	??ZDApp_ProcessNetworkJoin_18
        INC	DPTR
        MOVX	A,@DPTR
        XRL	A,#0xff
??ZDApp_ProcessNetworkJoin_18:
        JZ	??ZDApp_ProcessNetworkJoin_19
        MOV	DPTR,#(_NIB + 33)
        MOVX	A,@DPTR
        XRL	A,#0xfe
        JNZ	??ZDApp_ProcessNetworkJoin_20
        INC	DPTR
        MOVX	A,@DPTR
        XRL	A,#0xff
??ZDApp_ProcessNetworkJoin_20:
        JNZ	??ZDApp_ProcessNetworkJoin_21
// 1303           devStartMode = MODE_JOIN;
??ZDApp_ProcessNetworkJoin_19:
        CLR	A
        MOV	DPTR,#devStartMode
        SJMP	??ZDApp_ProcessNetworkJoin_15
// 1304         else
// 1305         {
// 1306           devStartMode = MODE_REJOIN;
??ZDApp_ProcessNetworkJoin_21:
        MOV	A,#0x3
        MOV	DPTR,#devStartMode
        MOVX	@DPTR,A
// 1307           _tmpRejoinState = true;
        MOV	A,#0x1
        MOV	DPTR,#_tmpRejoinState
??ZDApp_ProcessNetworkJoin_15:
        MOVX	@DPTR,A
// 1308         }
// 1309       }
// 1310 
// 1311       // setup a retry for later...
// 1312       ZDApp_NetworkInit( (uint16)(NWK_START_DELAY
// 1313            + (osal_rand()& EXTENDED_JOINING_RANDOM_MASK)) );
??ZDApp_ProcessNetworkJoin_17:
        ; Setup parameters for call to function ZDApp_NetworkInit
        ; Setup parameters for call to function osal_rand
        MOV	DPTR,#(osal_rand & 0xffff)
        MOV	A,#((osal_rand >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        LCALL	?Subroutine13 & 0xFFFF
??CrossCallReturnLabel_60:
        LCALL	?BCALL               ; Banked call to: DPTR()
// 1314     }
// 1315   }
// 1316   else
// 1317   {
// 1318     // this is an error case!!
// 1319   }
// 1320 }
??ZDApp_ProcessNetworkJoin_4:
        LJMP	?Subroutine24 & 0xFFFF
        CFI EndBlock cfiBlock13

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine13:
        CFI Block cfiCond14 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_60
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 12)
        CFI Block cfiCond15 Using cfiCommon0
        CFI (cfiCond15) NoFunction
        CFI (cfiCond15) Conditional ??CrossCallReturnLabel_59
        CFI (cfiCond15) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond15) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond15) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond15) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond15) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond15) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond15) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond15) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond15) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond15) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond15) CFA_SP SP+0
        CFI (cfiCond15) CFA_XSP16 add(XSP16, 10)
        CFI Block cfiPicker16 Using cfiCommon1
        CFI (cfiPicker16) NoFunction
        CFI (cfiPicker16) Picker
        MOV	?V0 + 0,R2
        MOV	A,#0x7f
        ANL	A,?V0 + 0
        MOV	R0,A
        MOV	A,#0x64
        ADD	A,R0
        MOV	R2,A
        CFI EndBlock cfiCond14
        CFI EndBlock cfiCond15
        CFI EndBlock cfiPicker16
        REQUIRE ?Subroutine27
        ; // Fall through to label ?Subroutine27

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine27:
        CFI Block cfiCond17 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_57
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        CFI Block cfiCond18 Using cfiCommon0
        CFI (cfiCond18) NoFunction
        CFI (cfiCond18) Conditional ??CrossCallReturnLabel_60
        CFI (cfiCond18) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond18) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond18) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond18) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond18) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond18) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond18) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond18) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond18) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond18) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond18) CFA_SP SP+0
        CFI (cfiCond18) CFA_XSP16 add(XSP16, 12)
        CFI Block cfiCond19 Using cfiCommon0
        CFI (cfiCond19) NoFunction
        CFI (cfiCond19) Conditional ??CrossCallReturnLabel_59
        CFI (cfiCond19) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond19) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond19) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond19) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond19) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond19) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond19) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond19) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond19) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond19) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond19) CFA_SP SP+0
        CFI (cfiCond19) CFA_XSP16 add(XSP16, 10)
        CFI Block cfiCond20 Using cfiCommon0
        CFI (cfiCond20) NoFunction
        CFI (cfiCond20) Conditional ??CrossCallReturnLabel_58
        CFI (cfiCond20) DPL0 Frame(CFA_SP, 4)
        CFI (cfiCond20) DPH0 Frame(CFA_SP, 5)
        CFI (cfiCond20) CFA_SP SP+-5
        CFI Block cfiPicker21 Using cfiCommon1
        CFI (cfiPicker21) NoFunction
        CFI (cfiPicker21) Picker
        MOV	R3,#0x0
        MOV	DPTR,#(ZDApp_NetworkInit & 0xffff)
        MOV	A,#((ZDApp_NetworkInit >> 16) & 0xff)
        RET
        CFI EndBlock cfiCond17
        CFI EndBlock cfiCond18
        CFI EndBlock cfiCond19
        CFI EndBlock cfiCond20
        CFI EndBlock cfiPicker21

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine26:
        CFI Block cfiCond22 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_56
        CFI DPL0 Frame(CFA_SP, 4)
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        CFI Block cfiCond23 Using cfiCommon0
        CFI (cfiCond23) NoFunction
        CFI (cfiCond23) Conditional ??CrossCallReturnLabel_52
        CFI (cfiCond23) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond23) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond23) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond23) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond23) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond23) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond23) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond23) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond23) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond23) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond23) CFA_SP SP+0
        CFI (cfiCond23) CFA_XSP16 add(XSP16, 10)
        CFI Block cfiCond24 Using cfiCommon0
        CFI (cfiCond24) NoFunction
        CFI (cfiCond24) Conditional ??CrossCallReturnLabel_55
        CFI (cfiCond24) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond24) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond24) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond24) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond24) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond24) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond24) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond24) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond24) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond24) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond24) CFA_SP SP+0
        CFI (cfiCond24) CFA_XSP16 add(XSP16, 12)
        CFI Block cfiCond25 Using cfiCommon0
        CFI (cfiCond25) NoFunction
        CFI (cfiCond25) Conditional ??CrossCallReturnLabel_53
        CFI (cfiCond25) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond25) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond25) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond25) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond25) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond25) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond25) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond25) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond25) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond25) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond25) CFA_SP SP+0
        CFI (cfiCond25) CFA_XSP16 add(XSP16, 12)
        CFI Block cfiCond26 Using cfiCommon0
        CFI (cfiCond26) NoFunction
        CFI (cfiCond26) Conditional ??CrossCallReturnLabel_54
        CFI (cfiCond26) DPL0 Frame(CFA_SP, 4)
        CFI (cfiCond26) DPH0 Frame(CFA_SP, 5)
        CFI (cfiCond26) CFA_SP SP+-5
        CFI Block cfiPicker27 Using cfiCommon1
        CFI (cfiPicker27) NoFunction
        CFI (cfiPicker27) Picker
        MOV	R3,#0x0
        MOV	DPTR,#ZDAppTaskID
        MOVX	A,@DPTR
        MOV	R1,A
        MOV	DPTR,#(osal_set_event & 0xffff)
        MOV	A,#((osal_set_event >> 16) & 0xff)
        RET
        CFI EndBlock cfiCond22
        CFI EndBlock cfiCond23
        CFI EndBlock cfiCond24
        CFI EndBlock cfiCond25
        CFI EndBlock cfiCond26
        CFI EndBlock cfiPicker27

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine0:
        CFI Block cfiCond28 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_52
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        CFI Block cfiCond29 Using cfiCommon0
        CFI (cfiCond29) NoFunction
        CFI (cfiCond29) Conditional ??CrossCallReturnLabel_53
        CFI (cfiCond29) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond29) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond29) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond29) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond29) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond29) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond29) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond29) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond29) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond29) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond29) CFA_SP SP+0
        CFI (cfiCond29) CFA_XSP16 add(XSP16, 12)
        CFI Block cfiPicker30 Using cfiCommon1
        CFI (cfiPicker30) NoFunction
        CFI (cfiPicker30) Picker
        MOV	DPTR,#devState
        MOVX	@DPTR,A
        ; Setup parameters for call to function osal_set_event
        ; Setup parameters for call to function osal_set_event
        MOV	R2,#0x10
        SJMP	?Subroutine26
        CFI EndBlock cfiCond28
        CFI EndBlock cfiCond29
        CFI EndBlock cfiPicker30
// 1321 #endif // !ZDO_COORDINATOR
// 1322 
// 1323 #if ( SECURE != 0 )
// 1324 /*********************************************************************
// 1325  * @fn      ZDApp_SaveNwkKey()
// 1326  *
// 1327  * @brief   Save off the Network key information.
// 1328  *
// 1329  * @param   none
// 1330  *
// 1331  * @return  none
// 1332  */
// 1333 void ZDApp_SaveNwkKey( void )
// 1334 {
// 1335   nwkActiveKeyItems keyItems;
// 1336 
// 1337   SSP_ReadNwkActiveKey( &keyItems );
// 1338   keyItems.frameCounter++;
// 1339 
// 1340   osal_nv_write( ZCD_NV_NWKKEY, 0, sizeof( nwkActiveKeyItems ),
// 1341                 (void *)&keyItems );
// 1342 
// 1343   nwkFrameCounterChanges = 0;
// 1344 }
// 1345 
// 1346 /*********************************************************************
// 1347  * @fn      ZDApp_ResetNwkKey()
// 1348  *
// 1349  * @brief   Reset the Network key information in NV.
// 1350  *
// 1351  * @param   none
// 1352  *
// 1353  * @return  none
// 1354  */
// 1355 void ZDApp_ResetNwkKey( void )
// 1356 {
// 1357   nwkActiveKeyItems keyItems;
// 1358 
// 1359   osal_memset( &keyItems, 0, sizeof( nwkActiveKeyItems ) );
// 1360   osal_nv_write( ZCD_NV_NWKKEY, 0, sizeof( nwkActiveKeyItems ),
// 1361                 (void *)&keyItems );
// 1362 }
// 1363 #endif
// 1364 
// 1365 #if ( SECURE != 0 )
// 1366 /*********************************************************************
// 1367  * @fn      ZDApp_RestoreNwkKey()
// 1368  *
// 1369  * @brief
// 1370  *
// 1371  *   Save off the Network key information.
// 1372  *
// 1373  * @param   none
// 1374  *
// 1375  * @return  true if restored from NV, false if not
// 1376  */
// 1377 byte ZDApp_RestoreNwkKey( void )
// 1378 {
// 1379   nwkActiveKeyItems keyItems;
// 1380   byte ret = false;
// 1381 
// 1382   if ( osal_nv_read( ZCD_NV_NWKKEY, 0, sizeof(nwkActiveKeyItems), (void*)&keyItems )
// 1383       == ZSUCCESS )
// 1384   {
// 1385     if ( keyItems.frameCounter > 0 )
// 1386     {
// 1387       // Restore the key information
// 1388       keyItems.frameCounter += MAX_NWK_FRAMECOUNTER_CHANGES;
// 1389       SSP_WriteNwkActiveKey( &keyItems );
// 1390       ret = true;
// 1391     }
// 1392     nwkFrameCounterChanges = MAX_NWK_FRAMECOUNTER_CHANGES; // Force a save for the first
// 1393   }
// 1394   return ( ret );
// 1395 }
// 1396 #endif
// 1397 
// 1398 /*********************************************************************
// 1399  * @fn      ZDApp_SendEndDeviceBindReq()
// 1400  *
// 1401  * @brief
// 1402  *
// 1403  *   This function will look up the endpoint description
// 1404  *   and send an End Device Bind Request message.
// 1405  *
// 1406  * @param  endPoint - Endpoint to auto find
// 1407  *
// 1408  * @return  none
// 1409  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1410 void ZDApp_SendEndDeviceBindReq( byte endPoint )
ZDApp_SendEndDeviceBindReq:
        CFI Block cfiBlock31 Using cfiCommon0
        CFI Function ZDApp_SendEndDeviceBindReq
// 1411 {
        FUNCALL ZDApp_SendEndDeviceBindReq, HalLedSet
        LOCFRAME XSTACK, 20, STACK
        ARGFRAME XSTACK, 20, STACK
        FUNCALL ZDApp_SendEndDeviceBindReq, afFindSimpleDesc
        LOCFRAME XSTACK, 20, STACK
        ARGFRAME XSTACK, 20, STACK
        FUNCALL ZDApp_SendEndDeviceBindReq, ZDP_EndDeviceBindReq
        LOCFRAME XSTACK, 29, STACK
        ARGFRAME XSTACK, 29, STACK
        FUNCALL ZDApp_SendEndDeviceBindReq, osal_mem_free
        LOCFRAME XSTACK, 20, STACK
        ARGFRAME XSTACK, 20, STACK
        MOV	A,#-0x9
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 11
        MOV	A,#-0xb
        LCALL	?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 20)
        MOV	A,R1
        MOV	R7,A
// 1412 #if defined ( ZDO_ENDDEVICEBIND_REQUEST )
// 1413   zAddrType_t dstAddr;
// 1414   SimpleDescriptionFormat_t *sDesc;
// 1415   byte free;
// 1416 #if defined( LCD_SUPPORTED )
// 1417    afStatus_t stat;
// 1418 #endif
// 1419 
// 1420   if ( (endPoint == ZDO_EP) || (endPoint > MAX_ENDPOINTS) )
        JNZ	$+5
        LJMP	??ZDApp_SendEndDeviceBindReq_0 & 0xFFFF
        CLR	C
        SUBB	A,#-0xf
        JC	$+5
        LJMP	??ZDApp_SendEndDeviceBindReq_0 & 0xFFFF
// 1421   {
// 1422     return;   // Can't do for ZDO
// 1423   }
// 1424 
// 1425   HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF );
        ; Setup parameters for call to function HalLedSet
        MOV	R2,#0x0
        MOV	R1,#0x8
        MOV	DPTR,#(HalLedSet & 0xffff)
        MOV	A,#((HalLedSet >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
// 1426 
// 1427   free = afFindSimpleDesc( &sDesc, endPoint );
        ; Setup parameters for call to function afFindSimpleDesc
        MOV	A,R7
        MOV	R1,A
        MOV	DPL,?XSP + 0
        MOV	DPH,?XSP + 1
        MOV	R2,DPL
        MOV	R3,DPH
        MOV	DPTR,#(afFindSimpleDesc & 0xffff)
        MOV	A,#((afFindSimpleDesc >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,R1
        MOV	R6,A
// 1428   if ( sDesc != NULL )
        MOV	DPL,?XSP + 0
        MOV	DPH,?XSP + 1
        MOVX	A,@DPTR
        JNZ	??ZDApp_SendEndDeviceBindReq_1
        INC	DPTR
        MOVX	A,@DPTR
??ZDApp_SendEndDeviceBindReq_1:
        JNZ	$+5
        LJMP	??ZDApp_SendEndDeviceBindReq_0 & 0xFFFF
// 1429   {
// 1430     dstAddr.addrMode = Addr16Bit;
        MOV	A,#0xa
        LCALL	?XSTACK_DISP0_8
        MOV	A,#0x2
        MOVX	@DPTR,A
// 1431     dstAddr.addr.shortAddr = 0;   // Zigbee Coordinator
        LCALL	?XSTACK_DISP0_8
        CLR	A
        MOVX	@DPTR,A
        INC	DPTR
        MOVX	@DPTR,A
// 1432 
// 1433 #if defined( LCD_SUPPORTED )
// 1434     stat =
// 1435 #endif
// 1436     ZDP_EndDeviceBindReq( &dstAddr,
// 1437 #if defined ( REFLECTOR  )
// 1438                 // We have a reflector, so tell the coordinator to send
// 1439                 // binding messages this way
// 1440                 NLME_GetShortAddr(),
// 1441 #else
// 1442                 // tell the coordinator to store if available
// 1443                 NWK_PAN_COORD_ADDR,
// 1444 #endif
// 1445                 endPoint,sDesc->AppProfId,
// 1446                 sDesc->AppNumOutClusters, sDesc->pAppOutClusterList,
// 1447                 sDesc->AppNumInClusters, sDesc->pAppInClusterList,
// 1448                 0 );
        ; Setup parameters for call to function ZDP_EndDeviceBindReq
        MOV	?V0 + 0,A
        MOV	R0,#?V0 + 0
        LCALL	?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 21)
        MOV	A,#0x1
        LCALL	?XSTACK_DISP0_8
        LCALL	?Subroutine8 & 0xFFFF
??CrossCallReturnLabel_15:
        INC	DPTR
        LCALL	?PUSH_XSTACK8_X_TWO
        CFI CFA_XSP16 add(XSP16, 23)
        MOV	A,#0x3
        LCALL	?XSTACK_DISP0_8
        LCALL	?Subroutine8 & 0xFFFF
??CrossCallReturnLabel_16:
        LCALL	??Subroutine10_0 & 0xFFFF
??CrossCallReturnLabel_22:
        LCALL	?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 24)
        MOV	A,#0x4
        LCALL	?XSTACK_DISP0_8
        LCALL	?Subroutine7 & 0xFFFF
??CrossCallReturnLabel_13:
        INC	DPTR
        LCALL	?PUSH_XSTACK8_X_TWO
        CFI CFA_XSP16 add(XSP16, 26)
        MOV	A,#0x6
        LCALL	?XSTACK_DISP0_8
        LCALL	?Subroutine7 & 0xFFFF
??CrossCallReturnLabel_14:
        LCALL	??Subroutine10_0 & 0xFFFF
??CrossCallReturnLabel_23:
        LCALL	?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 27)
        MOV	A,#0x7
        LCALL	?XSTACK_DISP0_8
        LCALL	??Subroutine9_0 & 0xFFFF
??CrossCallReturnLabel_17:
        LCALL	?PUSH_XSTACK8_X_TWO
        CFI CFA_XSP16 add(XSP16, 29)
        MOV	A,R7
        MOV	R1,A
        MOV	R4,#0x0
        MOV	R5,#0x0
        MOV	A,#0xb
        LCALL	?XSTACK_DISP0_8
        MOV	R2,DPL
        MOV	R3,DPH
        MOV	DPTR,#(ZDP_EndDeviceBindReq & 0xffff)
        MOV	A,#((ZDP_EndDeviceBindReq >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,#0x9
        LCALL	?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 20)
// 1449 
// 1450     if ( free )
        MOV	A,R6
        JZ	??ZDApp_SendEndDeviceBindReq_0
// 1451     {
// 1452       osal_mem_free( sDesc );
        ; Setup parameters for call to function osal_mem_free
        MOV	DPL,?XSP + 0
        MOV	DPH,?XSP + 1
        MOVX	A,@DPTR
        MOV	R2,A
        INC	DPTR
        MOVX	A,@DPTR
        MOV	R3,A
        MOV	DPTR,#(osal_mem_free & 0xffff)
        MOV	A,#((osal_mem_free >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
??ZDApp_SendEndDeviceBindReq_0:
        MOV	A,#0xb
        LJMP	?Subroutine25 & 0xFFFF
        CFI EndBlock cfiBlock31
// 1453     }
// 1454 
// 1455 #if defined( LCD_SUPPORTED )
// 1456     if ( stat == ZSuccess )
// 1457     {
// 1458       HalLcdWriteScreen( "End Device Bind", "Sent" );
// 1459     }
// 1460     else
// 1461     {
// 1462       HalLcdWriteScreen( "End Device Bind", "Not Sent" );
// 1463     }
// 1464 #endif
// 1465   }
// 1466   else
// 1467   {
// 1468 #if defined( LCD_SUPPORTED )
// 1469     HalLcdWriteScreen( "End Device Bind", "EP not found" );
// 1470 #endif
// 1471   }
// 1472 #endif // ZDO_ENDDEVICEBIND_REQUEST
// 1473 }

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine8:
        CFI Block cfiCond32 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_15
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 21)
        CFI Block cfiCond33 Using cfiCommon0
        CFI (cfiCond33) NoFunction
        CFI (cfiCond33) Conditional ??CrossCallReturnLabel_16
        CFI (cfiCond33) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond33) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond33) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond33) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond33) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond33) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond33) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond33) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond33) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond33) CFA_SP SP+0
        CFI (cfiCond33) CFA_XSP16 add(XSP16, 23)
        CFI Block cfiPicker34 Using cfiCommon1
        CFI (cfiPicker34) NoFunction
        CFI (cfiPicker34) Picker
        LCALL	?Subroutine19 & 0xFFFF
??CrossCallReturnLabel_46:
        RET
        CFI EndBlock cfiCond32
        CFI EndBlock cfiCond33
        CFI EndBlock cfiPicker34

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine19:
        CFI Block cfiCond35 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_45, ??CrossCallReturnLabel_13
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 24)
        CFI Block cfiCond36 Using cfiCommon0
        CFI (cfiCond36) NoFunction
        CFI (cfiCond36) Conditional ??CrossCallReturnLabel_46, ??CrossCallReturnLabel_16
        CFI (cfiCond36) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond36) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond36) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond36) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond36) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond36) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond36) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond36) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond36) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond36) CFA_SP SP+0
        CFI (cfiCond36) CFA_XSP16 add(XSP16, 23)
        CFI Block cfiCond37 Using cfiCommon0
        CFI (cfiCond37) NoFunction
        CFI (cfiCond37) Conditional ??CrossCallReturnLabel_45, ??CrossCallReturnLabel_14
        CFI (cfiCond37) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond37) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond37) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond37) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond37) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond37) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond37) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond37) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond37) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond37) CFA_SP SP+0
        CFI (cfiCond37) CFA_XSP16 add(XSP16, 26)
        CFI Block cfiCond38 Using cfiCommon0
        CFI (cfiCond38) NoFunction
        CFI (cfiCond38) Conditional ??CrossCallReturnLabel_46, ??CrossCallReturnLabel_15
        CFI (cfiCond38) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond38) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond38) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond38) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond38) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond38) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond38) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond38) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond38) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond38) CFA_SP SP+0
        CFI (cfiCond38) CFA_XSP16 add(XSP16, 21)
        CFI Block cfiPicker39 Using cfiCommon1
        CFI (cfiPicker39) NoFunction
        CFI (cfiPicker39) Picker
        LCALL	?Subroutine22 & 0xFFFF
??CrossCallReturnLabel_50:
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        RET
        CFI EndBlock cfiCond35
        CFI EndBlock cfiCond36
        CFI EndBlock cfiCond37
        CFI EndBlock cfiCond38
        CFI EndBlock cfiPicker39

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine7:
        CFI Block cfiCond40 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_13
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 24)
        CFI Block cfiCond41 Using cfiCommon0
        CFI (cfiCond41) NoFunction
        CFI (cfiCond41) Conditional ??CrossCallReturnLabel_14
        CFI (cfiCond41) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond41) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond41) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond41) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond41) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond41) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond41) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond41) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond41) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond41) CFA_SP SP+0
        CFI (cfiCond41) CFA_XSP16 add(XSP16, 26)
        CFI Block cfiPicker42 Using cfiCommon1
        CFI (cfiPicker42) NoFunction
        CFI (cfiPicker42) Picker
        LCALL	?Subroutine19 & 0xFFFF
??CrossCallReturnLabel_45:
        INC	DPTR
        INC	DPTR
        INC	DPTR
        RET
        CFI EndBlock cfiCond40
        CFI EndBlock cfiCond41
        CFI EndBlock cfiPicker42
// 1474 
// 1475 /*********************************************************************
// 1476  * @fn      ZDApp_AutoFindDestination()
// 1477  *
// 1478  * @brief
// 1479  *
// 1480  *   This function will try to find the Input Match for this device's
// 1481  *   (endpoint passed in) outputs.
// 1482  *
// 1483  * @param  endPoint - Endpoint to auto find
// 1484  * @param  task_id  - task ID override, if NULL use endpoint desc's
// 1485  *                    task_id
// 1486  *
// 1487  * @return  none
// 1488  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1489 void ZDApp_AutoFindDestinationEx( byte endPoint, uint8 *task_id )
ZDApp_AutoFindDestinationEx:
        CFI Block cfiBlock43 Using cfiCommon0
        CFI Function ZDApp_AutoFindDestinationEx
// 1490 {
        FUNCALL ZDApp_AutoFindDestinationEx, HalLedSet
        LOCFRAME XSTACK, 24, STACK
        ARGFRAME XSTACK, 24, STACK
        FUNCALL ZDApp_AutoFindDestinationEx, afFindEndPointDesc
        LOCFRAME XSTACK, 24, STACK
        ARGFRAME XSTACK, 24, STACK
        FUNCALL ZDApp_AutoFindDestinationEx, osal_mem_alloc
        LOCFRAME XSTACK, 24, STACK
        ARGFRAME XSTACK, 24, STACK
        FUNCALL ZDApp_AutoFindDestinationEx, osal_memcpy
        LOCFRAME XSTACK, 27, STACK
        ARGFRAME XSTACK, 27, STACK
        FUNCALL ZDApp_AutoFindDestinationEx, ZDP_MatchDescReq
        LOCFRAME XSTACK, 32, STACK
        ARGFRAME XSTACK, 32, STACK
        MOV	A,#-0xf
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 15)
        ; Saved register size: 15
        ; Auto size: 9
        MOV	A,#-0x9
        LCALL	?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 24)
        MOV	A,R1
        MOV	R6,A
        MOV	?V0 + 0,R2
        MOV	?V0 + 1,R3
// 1491 #if defined ( ZDO_MATCH_REQUEST )
// 1492   zAddrType_t dstAddr;
// 1493   SimpleDescriptionFormat_t *sDesc;
// 1494   endPointDesc_t *tmpDesc;
// 1495 #if defined( LCD_SUPPORTED )
// 1496   afStatus_t stat;
// 1497 #endif
// 1498 
// 1499   if ( endPoint == ZDO_EP )
        JNZ	$+5
        LJMP	??ZDApp_AutoFindDestinationEx_0 & 0xFFFF
// 1500     return;   // Can't do for ZDO
// 1501 
// 1502   HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF );
        ; Setup parameters for call to function HalLedSet
        MOV	R2,#0x0
        MOV	R1,#0x8
        MOV	DPTR,#(HalLedSet & 0xffff)
        MOV	A,#((HalLedSet >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
// 1503 
// 1504   tmpDesc = afFindEndPointDesc( endPoint );
        ; Setup parameters for call to function afFindEndPointDesc
        MOV	A,R6
        MOV	R1,A
        MOV	DPTR,#(afFindEndPointDesc & 0xffff)
        MOV	A,#((afFindEndPointDesc >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	?V0 + 2,R2
        MOV	?V0 + 3,R3
        MOV	R6,?V0 + 2
        MOV	R7,?V0 + 3
// 1505   if ( tmpDesc )
        MOV	A,R6
        JNZ	??ZDApp_AutoFindDestinationEx_1
        MOV	A,R7
??ZDApp_AutoFindDestinationEx_1:
        JNZ	$+5
        LJMP	??ZDApp_AutoFindDestinationEx_0 & 0xFFFF
// 1506   {
// 1507     if ( ZDApp_AutoFindMode_epDesc == NULL )
        MOV	DPTR,#ZDApp_AutoFindMode_epDesc
        MOVX	A,@DPTR
        JNZ	??ZDApp_AutoFindDestinationEx_2
        INC	DPTR
        MOVX	A,@DPTR
??ZDApp_AutoFindDestinationEx_2:
        JNZ	??ZDApp_AutoFindDestinationEx_3
// 1508     {
// 1509       ZDApp_AutoFindMode_epDesc = (endPointDesc_t *)osal_mem_alloc( sizeof ( endPointDesc_t ) );
        ; Setup parameters for call to function osal_mem_alloc
        MOV	R2,#0x6
        MOV	R3,#0x0
        MOV	DPTR,#(osal_mem_alloc & 0xffff)
        MOV	A,#((osal_mem_alloc >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	DPTR,#ZDApp_AutoFindMode_epDesc
        MOV	A,R2
        MOVX	@DPTR,A
        INC	DPTR
        MOV	A,R3
        MOVX	@DPTR,A
// 1510     }
// 1511 
// 1512     if ( ZDApp_AutoFindMode_epDesc )
??ZDApp_AutoFindDestinationEx_3:
        MOV	DPTR,#ZDApp_AutoFindMode_epDesc
        MOVX	A,@DPTR
        JNZ	??ZDApp_AutoFindDestinationEx_4
        INC	DPTR
        MOVX	A,@DPTR
??ZDApp_AutoFindDestinationEx_4:
        JNZ	$+5
        LJMP	??ZDApp_AutoFindDestinationEx_0 & 0xFFFF
// 1513     {
// 1514       osal_memcpy( ZDApp_AutoFindMode_epDesc, tmpDesc, sizeof( endPointDesc_t ) );
        ; Setup parameters for call to function osal_memcpy
        MOV	?V0 + 4,R6
        MOV	?V0 + 5,R7
        MOV	?V0 + 6,#0x0
        MOV	R0,#?V0 + 4
        LCALL	?PUSH_XSTACK_I_THREE
        CFI CFA_XSP16 add(XSP16, 27)
        MOV	R4,#0x6
        MOV	R5,#0x0
        MOV	DPTR,#ZDApp_AutoFindMode_epDesc
        MOVX	A,@DPTR
        MOV	R2,A
        INC	DPTR
        MOVX	A,@DPTR
        MOV	R3,A
        MOV	DPTR,#(osal_memcpy & 0xffff)
        MOV	A,#((osal_memcpy >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,#0x3
        LCALL	?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 24)
// 1515       if ( task_id )
        MOV	A,?V0 + 0
        JNZ	??ZDApp_AutoFindDestinationEx_5
        MOV	A,?V0 + 1
??ZDApp_AutoFindDestinationEx_5:
        JZ	??ZDApp_AutoFindDestinationEx_6
// 1516       {
// 1517         // Override the Task ID, if needed.
// 1518         ZDApp_AutoFindMode_epDesc->task_id = task_id;
        LCALL	?Subroutine9 & 0xFFFF
??CrossCallReturnLabel_18:
        MOV	A,?V0 + 0
        MOVX	@DPTR,A
        INC	DPTR
        MOV	A,?V0 + 1
        MOVX	@DPTR,A
// 1519       }
// 1520 
// 1521       sDesc = ZDApp_AutoFindMode_epDesc->simpleDesc;
??ZDApp_AutoFindDestinationEx_6:
        LCALL	?Subroutine9 & 0xFFFF
??CrossCallReturnLabel_19:
        INC	DPTR
        INC	DPTR
        MOVX	A,@DPTR
        MOV	R0,A
        INC	DPTR
        MOVX	A,@DPTR
        MOV	R1,A
        MOV	A,R0
        MOV	R2,A
        MOV	A,R1
        MOV	R3,A
// 1522 
// 1523       // This message is sent to everyone
// 1524       dstAddr.addrMode = AddrBroadcast;
        MOV	A,#0x8
        LCALL	?XSTACK_DISP0_8
        MOV	A,#0xf
        LCALL	?Subroutine1 & 0xFFFF
// 1525       dstAddr.addr.shortAddr = NWK_BROADCAST_SHORTADDR;
??CrossCallReturnLabel_1:
        MOV	A,#-0x1
        MOVX	@DPTR,A
        INC	DPTR
        MOVX	@DPTR,A
// 1526 
// 1527   #if defined( LCD_SUPPORTED )
// 1528       stat =
// 1529   #endif
// 1530       ZDP_MatchDescReq( &dstAddr, NWK_BROADCAST_SHORTADDR, sDesc->AppProfId,
// 1531                         sDesc->AppNumOutClusters, sDesc->pAppOutClusterList,
// 1532                         sDesc->AppNumInClusters, sDesc->pAppInClusterList, 0 );
        ; Setup parameters for call to function ZDP_MatchDescReq
        MOV	?V0 + 0,#0x0
        MOV	R0,#?V0 + 0
        LCALL	?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 25)
        MOV	DPL,R2
        MOV	DPH,R3
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        LCALL	?PUSH_XSTACK8_X_TWO
        CFI CFA_XSP16 add(XSP16, 27)
        MOV	DPL,R2
        MOV	DPH,R3
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        LCALL	??Subroutine10_0 & 0xFFFF
??CrossCallReturnLabel_24:
        LCALL	?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 28)
        MOV	DPL,R2
        MOV	DPH,R3
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        LCALL	?PUSH_XSTACK8_X_TWO
        CFI CFA_XSP16 add(XSP16, 30)
        MOV	DPL,R2
        MOV	DPH,R3
        INC	DPTR
        LCALL	?PUSH_XSTACK8_X_TWO
        CFI CFA_XSP16 add(XSP16, 32)
        MOV	DPL,R2
        MOV	DPH,R3
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        MOVX	A,@DPTR
        MOV	R1,A
        MOV	R4,#-0x1
        MOV	R5,#-0x1
        MOV	A,#0x8
        LCALL	?XSTACK_DISP0_8
        MOV	R2,DPL
        MOV	R3,DPH
        MOV	DPTR,#(ZDP_MatchDescReq & 0xffff)
        MOV	A,#((ZDP_MatchDescReq >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,#0x8
        LCALL	?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 24)
??ZDApp_AutoFindDestinationEx_0:
        MOV	A,#0x9
        LCALL	?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 15)
        MOV	R7,#0x7
        LJMP	?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock43
// 1533 
// 1534   #if defined( LCD_SUPPORTED )
// 1535       if ( stat == ZSuccess )
// 1536       {
// 1537         HalLcdWriteScreen( "Auto Find", "Sent" );
// 1538         MatchRsps = 0;
// 1539       }
// 1540       else
// 1541       {
// 1542         HalLcdWriteScreen( "Auto Find", "Not Sent" );
// 1543       }
// 1544   #endif
// 1545     }
// 1546   }
// 1547   else
// 1548   {
// 1549 #if defined( LCD_SUPPORTED )
// 1550     HalLcdWriteScreen( "Auto Find", "EP not found" );
// 1551 #endif
// 1552   }
// 1553 #endif // ZDO_MATCH_REQUEST
// 1554 }

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine10:
        CFI Block cfiCond44 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_25
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 16)
        CFI Block cfiCond45 Using cfiCommon0
        CFI (cfiCond45) NoFunction
        CFI (cfiCond45) Conditional ??CrossCallReturnLabel_26
        CFI (cfiCond45) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI (cfiCond45) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI (cfiCond45) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI (cfiCond45) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond45) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond45) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond45) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond45) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond45) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond45) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond45) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond45) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond45) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond45) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond45) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond45) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond45) CFA_SP SP+0
        CFI (cfiCond45) CFA_XSP16 add(XSP16, 17)
        CFI Block cfiPicker46 Using cfiCommon1
        CFI (cfiPicker46) NoFunction
        CFI (cfiPicker46) Picker
        LCALL	?Subroutine20 & 0xFFFF
        CFI Block cfiCond47 Using cfiCommon0
        CFI (cfiCond47) NoFunction
        CFI (cfiCond47) Conditional ??CrossCallReturnLabel_22
        CFI (cfiCond47) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond47) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond47) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond47) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond47) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond47) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond47) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond47) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond47) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond47) CFA_SP SP+0
        CFI (cfiCond47) CFA_XSP16 add(XSP16, 23)
        CFI Block cfiCond48 Using cfiCommon0
        CFI (cfiCond48) NoFunction
        CFI (cfiCond48) Conditional ??CrossCallReturnLabel_21
        CFI (cfiCond48) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond48) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond48) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond48) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond48) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond48) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond48) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond48) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond48) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond48) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond48) CFA_SP SP+0
        CFI (cfiCond48) CFA_XSP16 add(XSP16, 10)
        CFI Block cfiCond49 Using cfiCommon0
        CFI (cfiCond49) NoFunction
        CFI (cfiCond49) Conditional ??CrossCallReturnLabel_24
        CFI (cfiCond49) R6 load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI (cfiCond49) VB load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI (cfiCond49) V0 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond49) V1 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond49) V2 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond49) V3 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond49) V4 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond49) V5 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond49) V6 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond49) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond49) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond49) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond49) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond49) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond49) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond49) CFA_SP SP+0
        CFI (cfiCond49) CFA_XSP16 add(XSP16, 27)
        CFI Block cfiCond50 Using cfiCommon0
        CFI (cfiCond50) NoFunction
        CFI (cfiCond50) Conditional ??CrossCallReturnLabel_23
        CFI (cfiCond50) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond50) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond50) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond50) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond50) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond50) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond50) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond50) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond50) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond50) CFA_SP SP+0
        CFI (cfiCond50) CFA_XSP16 add(XSP16, 26)
??Subroutine10_0:
        MOVX	A,@DPTR
        MOV	?V0 + 0,A
        MOV	R0,#?V0 + 0
        RET
        CFI EndBlock cfiCond44
        CFI EndBlock cfiCond45
        CFI EndBlock cfiPicker46
        CFI EndBlock cfiCond47
        CFI EndBlock cfiCond48
        CFI EndBlock cfiCond49
        CFI EndBlock cfiCond50

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine9:
        CFI Block cfiCond51 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_20
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 17)
        CFI Block cfiCond52 Using cfiCommon0
        CFI (cfiCond52) NoFunction
        CFI (cfiCond52) Conditional ??CrossCallReturnLabel_19
        CFI (cfiCond52) R6 load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI (cfiCond52) VB load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI (cfiCond52) V0 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond52) V1 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond52) V2 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond52) V3 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond52) V4 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond52) V5 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond52) V6 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond52) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond52) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond52) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond52) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond52) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond52) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond52) CFA_SP SP+0
        CFI (cfiCond52) CFA_XSP16 add(XSP16, 24)
        CFI Block cfiCond53 Using cfiCommon0
        CFI (cfiCond53) NoFunction
        CFI (cfiCond53) Conditional ??CrossCallReturnLabel_18
        CFI (cfiCond53) R6 load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI (cfiCond53) VB load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI (cfiCond53) V0 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond53) V1 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond53) V2 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond53) V3 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond53) V4 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond53) V5 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond53) V6 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond53) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond53) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond53) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond53) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond53) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond53) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond53) CFA_SP SP+0
        CFI (cfiCond53) CFA_XSP16 add(XSP16, 24)
        CFI Block cfiPicker54 Using cfiCommon1
        CFI (cfiPicker54) NoFunction
        CFI (cfiPicker54) Picker
        MOV	DPTR,#ZDApp_AutoFindMode_epDesc
        CFI Block cfiCond55 Using cfiCommon0
        CFI (cfiCond55) NoFunction
        CFI (cfiCond55) Conditional ??CrossCallReturnLabel_17
        CFI (cfiCond55) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond55) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond55) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond55) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond55) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond55) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond55) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond55) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond55) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond55) CFA_SP SP+0
        CFI (cfiCond55) CFA_XSP16 add(XSP16, 27)
??Subroutine9_0:
        LCALL	?Subroutine20 & 0xFFFF
??CrossCallReturnLabel_47:
        INC	DPTR
        RET
        CFI EndBlock cfiCond51
        CFI EndBlock cfiCond52
        CFI EndBlock cfiCond53
        CFI EndBlock cfiPicker54
        CFI EndBlock cfiCond55

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine20:
        CFI Block cfiCond56 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_47, ??CrossCallReturnLabel_17
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 27)
        CFI Block cfiCond57 Using cfiCommon0
        CFI (cfiCond57) NoFunction
        CFI (cfiCond57) Conditional ??Subroutine10_0, ??CrossCallReturnLabel_25
        CFI (cfiCond57) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI (cfiCond57) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI (cfiCond57) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI (cfiCond57) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond57) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond57) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond57) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond57) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond57) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond57) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond57) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond57) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond57) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond57) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond57) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond57) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond57) CFA_SP SP+0
        CFI (cfiCond57) CFA_XSP16 add(XSP16, 16)
        CFI Block cfiCond58 Using cfiCommon0
        CFI (cfiCond58) NoFunction
        CFI (cfiCond58) Conditional ??CrossCallReturnLabel_47, ??CrossCallReturnLabel_20
        CFI (cfiCond58) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI (cfiCond58) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI (cfiCond58) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI (cfiCond58) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond58) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond58) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond58) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond58) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond58) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond58) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond58) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond58) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond58) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond58) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond58) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond58) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond58) CFA_SP SP+0
        CFI (cfiCond58) CFA_XSP16 add(XSP16, 17)
        CFI Block cfiCond59 Using cfiCommon0
        CFI (cfiCond59) NoFunction
        CFI (cfiCond59) Conditional ??Subroutine10_0, ??CrossCallReturnLabel_26
        CFI (cfiCond59) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI (cfiCond59) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI (cfiCond59) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI (cfiCond59) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond59) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond59) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond59) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond59) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond59) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond59) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond59) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond59) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond59) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond59) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond59) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond59) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond59) CFA_SP SP+0
        CFI (cfiCond59) CFA_XSP16 add(XSP16, 17)
        CFI Block cfiCond60 Using cfiCommon0
        CFI (cfiCond60) NoFunction
        CFI (cfiCond60) Conditional ??CrossCallReturnLabel_47, ??CrossCallReturnLabel_19
        CFI (cfiCond60) R6 load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI (cfiCond60) VB load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI (cfiCond60) V0 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond60) V1 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond60) V2 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond60) V3 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond60) V4 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond60) V5 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond60) V6 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond60) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond60) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond60) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond60) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond60) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond60) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond60) CFA_SP SP+0
        CFI (cfiCond60) CFA_XSP16 add(XSP16, 24)
        CFI Block cfiCond61 Using cfiCommon0
        CFI (cfiCond61) NoFunction
        CFI (cfiCond61) Conditional ??CrossCallReturnLabel_47, ??CrossCallReturnLabel_18
        CFI (cfiCond61) R6 load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI (cfiCond61) VB load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI (cfiCond61) V0 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond61) V1 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond61) V2 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond61) V3 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond61) V4 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond61) V5 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond61) V6 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond61) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond61) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond61) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond61) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond61) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond61) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond61) CFA_SP SP+0
        CFI (cfiCond61) CFA_XSP16 add(XSP16, 24)
        CFI Block cfiPicker62 Using cfiCommon1
        CFI (cfiPicker62) NoFunction
        CFI (cfiPicker62) Picker
        LCALL	?Subroutine22 & 0xFFFF
??CrossCallReturnLabel_51:
        RET
        CFI EndBlock cfiCond56
        CFI EndBlock cfiCond57
        CFI EndBlock cfiCond58
        CFI EndBlock cfiCond59
        CFI EndBlock cfiCond60
        CFI EndBlock cfiCond61
        CFI EndBlock cfiPicker62

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine22:
        CFI Block cfiCond63 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_50, ??CrossCallReturnLabel_45, ??CrossCallReturnLabel_13
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 24)
        CFI Block cfiCond64 Using cfiCommon0
        CFI (cfiCond64) NoFunction
        CFI (cfiCond64) Conditional ??CrossCallReturnLabel_51, ??CrossCallReturnLabel_47, ??CrossCallReturnLabel_17
        CFI (cfiCond64) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond64) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond64) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond64) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond64) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond64) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond64) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond64) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond64) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond64) CFA_SP SP+0
        CFI (cfiCond64) CFA_XSP16 add(XSP16, 27)
        CFI Block cfiCond65 Using cfiCommon0
        CFI (cfiCond65) NoFunction
        CFI (cfiCond65) Conditional ??CrossCallReturnLabel_50, ??CrossCallReturnLabel_46, ??CrossCallReturnLabel_16
        CFI (cfiCond65) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond65) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond65) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond65) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond65) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond65) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond65) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond65) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond65) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond65) CFA_SP SP+0
        CFI (cfiCond65) CFA_XSP16 add(XSP16, 23)
        CFI Block cfiCond66 Using cfiCommon0
        CFI (cfiCond66) NoFunction
        CFI (cfiCond66) Conditional ??CrossCallReturnLabel_51, ??Subroutine10_0, ??CrossCallReturnLabel_26
        CFI (cfiCond66) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI (cfiCond66) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI (cfiCond66) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI (cfiCond66) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond66) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond66) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond66) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond66) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond66) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond66) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond66) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond66) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond66) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond66) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond66) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond66) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond66) CFA_SP SP+0
        CFI (cfiCond66) CFA_XSP16 add(XSP16, 17)
        CFI Block cfiCond67 Using cfiCommon0
        CFI (cfiCond67) NoFunction
        CFI (cfiCond67) Conditional ??CrossCallReturnLabel_51, ??CrossCallReturnLabel_47, ??CrossCallReturnLabel_19
        CFI (cfiCond67) R6 load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI (cfiCond67) VB load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI (cfiCond67) V0 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond67) V1 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond67) V2 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond67) V3 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond67) V4 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond67) V5 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond67) V6 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond67) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond67) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond67) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond67) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond67) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond67) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond67) CFA_SP SP+0
        CFI (cfiCond67) CFA_XSP16 add(XSP16, 24)
        CFI Block cfiCond68 Using cfiCommon0
        CFI (cfiCond68) NoFunction
        CFI (cfiCond68) Conditional ??CrossCallReturnLabel_51, ??CrossCallReturnLabel_47, ??CrossCallReturnLabel_18
        CFI (cfiCond68) R6 load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI (cfiCond68) VB load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI (cfiCond68) V0 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond68) V1 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond68) V2 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond68) V3 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond68) V4 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond68) V5 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond68) V6 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond68) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond68) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond68) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond68) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond68) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond68) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond68) CFA_SP SP+0
        CFI (cfiCond68) CFA_XSP16 add(XSP16, 24)
        CFI Block cfiCond69 Using cfiCommon0
        CFI (cfiCond69) NoFunction
        CFI (cfiCond69) Conditional ??CrossCallReturnLabel_51, ??CrossCallReturnLabel_47, ??CrossCallReturnLabel_20
        CFI (cfiCond69) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI (cfiCond69) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI (cfiCond69) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI (cfiCond69) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond69) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond69) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond69) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond69) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond69) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond69) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond69) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond69) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond69) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond69) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond69) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond69) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond69) CFA_SP SP+0
        CFI (cfiCond69) CFA_XSP16 add(XSP16, 17)
        CFI Block cfiCond70 Using cfiCommon0
        CFI (cfiCond70) NoFunction
        CFI (cfiCond70) Conditional ??CrossCallReturnLabel_50, ??CrossCallReturnLabel_45, ??CrossCallReturnLabel_14
        CFI (cfiCond70) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond70) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond70) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond70) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond70) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond70) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond70) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond70) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond70) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond70) CFA_SP SP+0
        CFI (cfiCond70) CFA_XSP16 add(XSP16, 26)
        CFI Block cfiCond71 Using cfiCommon0
        CFI (cfiCond71) NoFunction
        CFI (cfiCond71) Conditional ??CrossCallReturnLabel_50, ??CrossCallReturnLabel_46, ??CrossCallReturnLabel_15
        CFI (cfiCond71) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond71) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond71) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond71) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond71) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond71) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond71) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond71) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond71) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond71) CFA_SP SP+0
        CFI (cfiCond71) CFA_XSP16 add(XSP16, 21)
        CFI Block cfiCond72 Using cfiCommon0
        CFI (cfiCond72) NoFunction
        CFI (cfiCond72) Conditional ??CrossCallReturnLabel_51, ??Subroutine10_0, ??CrossCallReturnLabel_25
        CFI (cfiCond72) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI (cfiCond72) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI (cfiCond72) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI (cfiCond72) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond72) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond72) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond72) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond72) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond72) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond72) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond72) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond72) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond72) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond72) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond72) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond72) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond72) CFA_SP SP+0
        CFI (cfiCond72) CFA_XSP16 add(XSP16, 16)
        CFI Block cfiPicker73 Using cfiCommon1
        CFI (cfiPicker73) NoFunction
        CFI (cfiPicker73) Picker
        MOVX	A,@DPTR
        MOV	R0,A
        INC	DPTR
        MOVX	A,@DPTR
        MOV	DPH,A
        MOV	DPL,R0
        RET
        CFI EndBlock cfiCond63
        CFI EndBlock cfiCond64
        CFI EndBlock cfiCond65
        CFI EndBlock cfiCond66
        CFI EndBlock cfiCond67
        CFI EndBlock cfiCond68
        CFI EndBlock cfiCond69
        CFI EndBlock cfiCond70
        CFI EndBlock cfiCond71
        CFI EndBlock cfiCond72
        CFI EndBlock cfiPicker73
// 1555 
// 1556 /*********************************************************************
// 1557  * @fn      ZDApp_ResetTimerStart
// 1558  *
// 1559  * @brief   Start the reset timer.
// 1560  *
// 1561  * @param   delay - delay time(ms) before reset
// 1562  *
// 1563  * @return  none
// 1564  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1565 void ZDApp_ResetTimerStart( uint16 delay )
ZDApp_ResetTimerStart:
        CFI Block cfiBlock74 Using cfiCommon0
        CFI Function ZDApp_ResetTimerStart
// 1566 {
        FUNCALL ZDApp_ResetTimerStart, osal_start_timerEx
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        PUSH	DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH	DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 1567   // Start the rest timer
// 1568   osal_start_timerEx( ZDAppTaskID, ZDO_DEVICE_RESET, delay );
        ; Setup parameters for call to function osal_start_timerEx
        MOV	A,R2
        MOV	R4,A
        MOV	A,R3
        MOV	R5,A
        MOV	R2,#0x4
        MOV	R3,#0x0
        LCALL	??Subroutine5_1 & 0xFFFF
??CrossCallReturnLabel_11:
        LJMP	??Subroutine29_0 & 0xFFFF
        CFI EndBlock cfiBlock74
// 1569 }
// 1570 
// 1571 /*********************************************************************
// 1572  * @fn      ZDApp_ResetTimerCancel
// 1573  *
// 1574  * @brief   Cancel the reset timer.
// 1575  *
// 1576  * @param   none
// 1577  *
// 1578  * @return  none
// 1579  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1580 void ZDApp_ResetTimerCancel( void )
ZDApp_ResetTimerCancel:
        CFI Block cfiBlock75 Using cfiCommon0
        CFI Function ZDApp_ResetTimerCancel
// 1581 {
        FUNCALL ZDApp_ResetTimerCancel, osal_stop_timerEx
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        PUSH	DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH	DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 1582   // Cancel the reset timer
// 1583   osal_stop_timerEx( ZDAppTaskID, ZDO_DEVICE_RESET );
        ; Setup parameters for call to function osal_stop_timerEx
        MOV	R2,#0x4
        MOV	R3,#0x0
        MOV	DPTR,#ZDAppTaskID
        MOVX	A,@DPTR
        MOV	R1,A
        MOV	DPTR,#(osal_stop_timerEx & 0xffff)
        MOV	A,#((osal_stop_timerEx >> 16) & 0xff)
        LJMP	??Subroutine29_0 & 0xFFFF
        CFI EndBlock cfiBlock75
// 1584 }
// 1585 
// 1586 /*********************************************************************
// 1587  * @fn      ZDApp_LeaveCtrlInit
// 1588  *
// 1589  * @brief   Initialize the leave control logic.
// 1590  *
// 1591  * @param   none
// 1592  *
// 1593  * @return  none
// 1594  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1595 void ZDApp_LeaveCtrlInit( void )
ZDApp_LeaveCtrlInit:
        CFI Block cfiBlock76 Using cfiCommon0
        CFI Function ZDApp_LeaveCtrlInit
// 1596 {
        FUNCALL ZDApp_LeaveCtrlInit, osal_nv_item_init
        LOCFRAME XSTACK, 12, STACK
        ARGFRAME XSTACK, 12, STACK
        FUNCALL ZDApp_LeaveCtrlInit, osal_nv_read
        LOCFRAME XSTACK, 14, STACK
        ARGFRAME XSTACK, 14, STACK
        MOV	A,#-0xa
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 0
// 1597   uint8 status;
// 1598 
// 1599 
// 1600   // Initialize control state
// 1601   ZDApp_LeaveCtrl = ZDAPP_LEAVE_CTRL_INIT;
        LCALL	?Subroutine3 & 0xFFFF
// 1602 
// 1603   status = osal_nv_item_init( ZCD_NV_LEAVE_CTRL,
// 1604                               sizeof(ZDApp_LeaveCtrl),
// 1605                               &ZDApp_LeaveCtrl );
// 1606 
// 1607   if ( status == ZSUCCESS )
??CrossCallReturnLabel_4:
        LCALL	?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 12)
        MOV	R4,#0x1
        MOV	R5,#0x0
        MOV	R2,#-0x7b
        MOV	R3,#0x0
        MOV	DPTR,#(osal_nv_item_init & 0xffff)
        MOV	A,#((osal_nv_item_init >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,#0x2
        LCALL	?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 10)
        MOV	A,R1
        JNZ	??ZDApp_LeaveCtrlInit_0
// 1608   {
// 1609     // Read saved control
// 1610     osal_nv_read( ZCD_NV_LEAVE_CTRL,
// 1611                   0,
// 1612                   sizeof( uint8 ),
// 1613                   &ZDApp_LeaveCtrl);
        ; Setup parameters for call to function osal_nv_read
        MOV	R0,#?V0 + 0
        LCALL	?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 12)
        MOV	?V0 + 0,#0x1
        MOV	?V0 + 1,#0x0
        MOV	R0,#?V0 + 0
        LCALL	?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 14)
        MOV	R4,#0x0
        MOV	R5,#0x0
        MOV	R2,#-0x7b
        MOV	R3,#0x0
        MOV	DPTR,#(osal_nv_read & 0xffff)
        MOV	A,#((osal_nv_read >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,#0x4
        LCALL	?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 10)
// 1614   }
// 1615 }
??ZDApp_LeaveCtrlInit_0:
        SJMP	??Subroutine24_1
        CFI EndBlock cfiBlock76

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine24:
        CFI Block cfiBlock77 Using cfiCommon0
        CFI NoFunction
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 12)
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        MOV	A,#0x2
??Subroutine24_0:
        LCALL	?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 10)
??Subroutine24_1:
        MOV	R7,#0x2
        LJMP	?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock77
// 1616 
// 1617 /*********************************************************************
// 1618  * @fn      ZDApp_LeaveCtrlSet
// 1619  *
// 1620  * @brief   Set the leave control logic.
// 1621  *
// 1622  * @param   ra - reassociate flag
// 1623  *
// 1624  * @return  none
// 1625  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1626 void ZDApp_LeaveCtrlSet( uint8 ra )
ZDApp_LeaveCtrlSet:
        CFI Block cfiBlock78 Using cfiCommon0
        CFI Function ZDApp_LeaveCtrlSet
// 1627 {
        FUNCALL ZDApp_LeaveCtrlSet, osal_nv_write
        LOCFRAME XSTACK, 14, STACK
        ARGFRAME XSTACK, 14, STACK
        MOV	A,#-0xa
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 0
// 1628   ZDApp_LeaveCtrl = ZDAPP_LEAVE_CTRL_SET;
        MOV	A,#0x1
        MOV	DPTR,#ZDApp_LeaveCtrl
        MOVX	@DPTR,A
// 1629 
// 1630   if ( ra == TRUE )
        XRL	A,R1
        JNZ	??ZDApp_LeaveCtrlSet_0
// 1631   {
// 1632     ZDApp_LeaveCtrl |= ZDAPP_LEAVE_CTRL_RA;
        MOV	A,#0x3
        MOVX	@DPTR,A
// 1633   }
// 1634 
// 1635   // Write the leave control
// 1636   osal_nv_write( ZCD_NV_LEAVE_CTRL,
// 1637                  0,
// 1638                  sizeof( uint8 ),
// 1639                  &ZDApp_LeaveCtrl);
??ZDApp_LeaveCtrlSet_0:
        ; Setup parameters for call to function osal_nv_write
        MOV	?V0 + 0,#(ZDApp_LeaveCtrl & 0xff)
        MOV	?V0 + 1,#((ZDApp_LeaveCtrl >> 8) & 0xff)
        MOV	R0,#?V0 + 0
        LCALL	?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 12)
        MOV	?V0 + 0,#0x1
        MOV	?V0 + 1,#0x0
        MOV	R0,#?V0 + 0
        LCALL	?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 14)
        MOV	R4,#0x0
        MOV	R5,#0x0
        MOV	R2,#-0x7b
        MOV	R3,#0x0
        MOV	DPTR,#(osal_nv_write & 0xffff)
        MOV	A,#((osal_nv_write >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,#0x4
        SJMP	??Subroutine24_0
        CFI EndBlock cfiBlock78
// 1640 }
// 1641 
// 1642 /*********************************************************************
// 1643  * @fn      ZDApp_LeaveCtrlBypass
// 1644  *
// 1645  * @brief   Check if NV restore should be skipped during a leave reset.
// 1646  *
// 1647  * @param   none
// 1648  *
// 1649  * @return  uint8 - (TRUE bypass:FALSE do not bypass)
// 1650  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1651 uint8 ZDApp_LeaveCtrlBypass( void )
ZDApp_LeaveCtrlBypass:
        CFI Block cfiBlock79 Using cfiCommon0
        CFI Function ZDApp_LeaveCtrlBypass
// 1652 {
        PUSH	DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH	DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 1653   uint8 bypass;
// 1654 
// 1655   if ( ZDApp_LeaveCtrl & ZDAPP_LEAVE_CTRL_SET )
// 1656   {
// 1657     bypass = TRUE;
// 1658   }
// 1659   else
// 1660   {
// 1661     bypass = FALSE;
// 1662   }
// 1663 
// 1664   return bypass;
        MOV	DPTR,#ZDApp_LeaveCtrl
        MOVX	A,@DPTR
        MOV	C,0xE0 /* A   */.0
        CLR	A
        MOV	0xE0 /* A   */.0,C
        MOV	R1,A
        LJMP	??Subroutine23_0 & 0xFFFF
        CFI EndBlock cfiBlock79
// 1665 }
// 1666 
// 1667 /*********************************************************************
// 1668  * @fn      ZDApp_LeaveCtrlStartup
// 1669  *
// 1670  * @brief   Check for startup conditions during a leave reset.
// 1671  *
// 1672  * @param   state      - devState_t determined by leave control logic
// 1673  * @param   startDelay - startup delay
// 1674  *
// 1675  * @return  none
// 1676  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1677 void ZDApp_LeaveCtrlStartup( devStates_t* state, uint16* startDelay )
ZDApp_LeaveCtrlStartup:
        CFI Block cfiBlock80 Using cfiCommon0
        CFI Function ZDApp_LeaveCtrlStartup
// 1678 {
        FUNCALL ZDApp_LeaveCtrlStartup, osal_nv_write
        LOCFRAME XSTACK, 14, STACK
        ARGFRAME XSTACK, 14, STACK
        MOV	A,#-0xa
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 0
// 1679   *startDelay = 0;
        MOV	DPL,R4
        MOV	DPH,R5
        CLR	A
        MOVX	@DPTR,A
        INC	DPTR
        MOVX	@DPTR,A
// 1680 
// 1681   if ( ZDApp_LeaveCtrl & ZDAPP_LEAVE_CTRL_SET )
        MOV	DPTR,#ZDApp_LeaveCtrl
        MOVX	A,@DPTR
        MOV	C,0xE0 /* A   */.0
        JNC	??ZDApp_LeaveCtrlStartup_0
// 1682   {
// 1683     if ( ZDApp_LeaveCtrl & ZDAPP_LEAVE_CTRL_RA )
        MOV	C,0xE0 /* A   */.1
        JNC	??ZDApp_LeaveCtrlStartup_1
// 1684     {
// 1685       *startDelay = 5000;
        MOV	DPL,R4
        MOV	DPH,R5
        MOV	A,#-0x78
        MOVX	@DPTR,A
        INC	DPTR
        MOV	A,#0x13
        SJMP	??ZDApp_LeaveCtrlStartup_2
// 1686     }
// 1687     else
// 1688     {
// 1689       *state = DEV_HOLD;
??ZDApp_LeaveCtrlStartup_1:
        CLR	A
        MOV	DPL,R2
        MOV	DPH,R3
??ZDApp_LeaveCtrlStartup_2:
        MOVX	@DPTR,A
// 1690     }
// 1691 
// 1692     // Set leave control to initialized state
// 1693     ZDApp_LeaveCtrl = ZDAPP_LEAVE_CTRL_INIT;
        LCALL	?Subroutine3 & 0xFFFF
// 1694 
// 1695     // Write initialized control
// 1696     osal_nv_write( ZCD_NV_LEAVE_CTRL,
// 1697                   0,
// 1698                   sizeof( uint8 ),
// 1699                   &ZDApp_LeaveCtrl);
??CrossCallReturnLabel_5:
        LCALL	?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 12)
        MOV	?V0 + 0,#0x1
        MOV	?V0 + 1,#0x0
        MOV	R0,#?V0 + 0
        LCALL	?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 14)
        MOV	R4,#0x0
        MOV	R5,#0x0
        MOV	R2,#-0x7b
        MOV	R3,#0x0
        MOV	DPTR,#(osal_nv_write & 0xffff)
        MOV	A,#((osal_nv_write >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,#0x4
        LCALL	?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 10)
// 1700   }
// 1701 }
??ZDApp_LeaveCtrlStartup_0:
        LJMP	??Subroutine24_1 & 0xFFFF
        CFI EndBlock cfiBlock80

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine3:
        CFI Block cfiCond81 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_4
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        CFI Block cfiCond82 Using cfiCommon0
        CFI (cfiCond82) NoFunction
        CFI (cfiCond82) Conditional ??CrossCallReturnLabel_5
        CFI (cfiCond82) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond82) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond82) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond82) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond82) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond82) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond82) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond82) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond82) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond82) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond82) CFA_SP SP+0
        CFI (cfiCond82) CFA_XSP16 add(XSP16, 10)
        CFI Block cfiPicker83 Using cfiCommon1
        CFI (cfiPicker83) NoFunction
        CFI (cfiPicker83) Picker
        CLR	A
        MOV	DPTR,#ZDApp_LeaveCtrl
        MOVX	@DPTR,A
        ; Setup parameters for call to function osal_nv_item_init
        ; Setup parameters for call to function osal_nv_write
        MOV	?V0 + 0,#(ZDApp_LeaveCtrl & 0xff)
        MOV	?V0 + 1,#((ZDApp_LeaveCtrl >> 8) & 0xff)
        MOV	R0,#?V0 + 0
        RET
        CFI EndBlock cfiCond81
        CFI EndBlock cfiCond82
        CFI EndBlock cfiPicker83
// 1702 
// 1703 /*********************************************************************
// 1704  * @fn      ZDApp_LeaveReset
// 1705  *
// 1706  * @brief   Setup a device reset due to a leave indication/confirm.
// 1707  *
// 1708  * @param   ra - reassociate flag
// 1709  *
// 1710  * @return  none
// 1711  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1712 void ZDApp_LeaveReset( uint8 ra )
ZDApp_LeaveReset:
        CFI Block cfiBlock84 Using cfiCommon0
        CFI Function ZDApp_LeaveReset
// 1713 {
        FUNCALL ZDApp_LeaveReset, ZDApp_LeaveCtrlSet
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        FUNCALL ZDApp_LeaveReset, ZDApp_ResetTimerStart
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        PUSH	DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH	DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 1714   ZDApp_LeaveCtrlSet( ra );
        ; Setup parameters for call to function ZDApp_LeaveCtrlSet
        MOV	DPTR,#(ZDApp_LeaveCtrlSet & 0xffff)
        MOV	A,#((ZDApp_LeaveCtrlSet >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
// 1715 
// 1716   ZDApp_ResetTimerStart( 5000 );
        ; Setup parameters for call to function ZDApp_ResetTimerStart
        MOV	R2,#-0x78
        MOV	R3,#0x13
        MOV	DPTR,#(ZDApp_ResetTimerStart & 0xffff)
        MOV	A,#((ZDApp_ResetTimerStart >> 16) & 0xff)
        SJMP	??Subroutine29_0
        CFI EndBlock cfiBlock84
// 1717 }

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine29:
        CFI Block cfiBlock85 Using cfiCommon0
        CFI NoFunction
        CFI CFA_SP SP+-5
        CFI DPL0 Frame(CFA_SP, 4)
        CFI DPH0 Frame(CFA_SP, 5)
        LCALL	?Subroutine6 & 0xFFFF
??Subroutine29_0:
        LCALL	?BCALL               ; Banked call to: DPTR()
        LJMP	??Subroutine23_0 & 0xFFFF
        CFI EndBlock cfiBlock85
// 1718 
// 1719 /*********************************************************************
// 1720  * @fn      ZDApp_LeaveUpdate
// 1721  *
// 1722  * @brief   Update local device data related to leaving device.
// 1723  *
// 1724  * @param   nwkAddr        - NWK address of leaving device
// 1725  * @param   extAddr        - EXT address of leaving device
// 1726  * @param   removeChildren - remove children of leaving device
// 1727  *
// 1728  * @return  none
// 1729  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 1730 void ZDApp_LeaveUpdate( uint16 nwkAddr, uint8* extAddr,
ZDApp_LeaveUpdate:
        CFI Block cfiBlock86 Using cfiCommon0
        CFI Function ZDApp_LeaveUpdate
// 1731                         uint8 removeChildren )
// 1732 {
        FUNCALL ZDApp_LeaveUpdate, NLME_RemoveChild
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        PUSH	DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH	DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
        MOV	A,R4
        MOV	R2,A
        MOV	A,R5
        MOV	R3,A
// 1733   /*
// 1734   AddrMgrEntry_t entry;
// 1735   */
// 1736 
// 1737 
// 1738   // Remove if child
// 1739   NLME_RemoveChild( extAddr, removeChildren );
        ; Setup parameters for call to function NLME_RemoveChild
        MOV	DPTR,#(NLME_RemoveChild & 0xffff)
        MOV	A,#((NLME_RemoveChild >> 16) & 0xff)
        SJMP	??Subroutine29_0
        CFI EndBlock cfiBlock86
// 1740 
// 1741   /*
// 1742   // Set NWK address to invalid
// 1743   entry.user    = ADDRMGR_USER_DEFAULT;
// 1744   entry.nwkAddr = INVALID_NODE_ADDR;
// 1745   AddrMgrExtAddrSet( entry.extAddr, extAddr );
// 1746   AddrMgrEntryUpdate( &entry );
// 1747 
// 1748   // Check
// 1749   if ( removeChildren == TRUE )
// 1750   {
// 1751     // Set index to INVALID_NODE_ADDR to start search
// 1752     entry.index = INVALID_NODE_ADDR;
// 1753 
// 1754     // Get first entry
// 1755     AddrMgrEntryGetNext( &entry );
// 1756 
// 1757     // Remove all descendents
// 1758     while ( entry.index != INVALID_NODE_ADDR )
// 1759     {
// 1760       // Check NWK address allocation algorithm
// 1761       if ( RTG_ANCESTOR( entry.nwkAddr, thisAddr ) != 0 )
// 1762       {
// 1763         // Set NWK address to invalid
// 1764         entry.nwkAddr = INVALID_NODE_ADDR;
// 1765         AddrMgrEntryUpdate( &entry );
// 1766       }
// 1767 
// 1768       // Get next entry
// 1769       AddrMgrEntryGetNext( &entry );
// 1770     }
// 1771   }
// 1772   */
// 1773 }
// 1774 
// 1775 /*********************************************************************
// 1776  * CALLBACK FUNCTIONS
// 1777  */
// 1778 
// 1779 #if defined ( ZDO_COORDINATOR )
// 1780 /*********************************************************************
// 1781  * @fn      ZDApp_EndDeviceBindReqCB()
// 1782  *
// 1783  * @brief
// 1784  *
// 1785  *   Called by ZDO when an End Device Bind Request message is received.
// 1786  *
// 1787  * @param  bindReq  - binding request information
// 1788  * @param  SecurityUse - Security enable/disable
// 1789  *
// 1790  * @return  none
// 1791  */
// 1792 void ZDApp_EndDeviceBindReqCB( ZDEndDeviceBind_t *bindReq )
// 1793 {
// 1794 #if defined ( COORDINATOR_BINDING )
// 1795   if ( bindReq->localCoordinator == 0x0000 )
// 1796   {
// 1797     ZDO_DoEndDeviceBind( bindReq );
// 1798   }
// 1799   else
// 1800 #endif // COORDINATOR_BINDING
// 1801   {
// 1802     ZDO_MatchEndDeviceBind( bindReq );
// 1803   }
// 1804 #if defined( LCD_SUPPORTED )
// 1805   HalLcdWriteScreen( "End Device Bind", "Rcvd" );
// 1806 #endif
// 1807 }
// 1808 #endif // ZDO_COORDINATOR
// 1809 
// 1810 #if !defined ( REFLECTOR ) && defined ( ZDO_BIND_UNBIND_RESPONSE )
// 1811 /*********************************************************************
// 1812  * @fn      ZDApp_AppBindReq()
// 1813  *
// 1814  * @brief
// 1815  *
// 1816  *   Called to send an App Bind Request message.
// 1817  *
// 1818  * @param  SrcAddr     - Source address ( who sent the message )
// 1819  * @param  SrcAddress  - Source Address (64 bit)
// 1820  * @param  SrcEndPoint - Source endpoint
// 1821  * @param  ClusterID   - Cluster ID
// 1822  * @param  DstAddress  - Destination Address (64 bit)
// 1823  * @param  DstEndPoint - Destination endpoint
// 1824  * @param  SecurityUse - Security enable/disable
// 1825  *
// 1826  * @return  none
// 1827  */
// 1828 void ZDApp_AppBindReq( byte TransSeq, zAddrType_t *SrcAddr, byte *SrcAddress,
// 1829                       byte SrcEndPoint, cId_t ClusterID, byte *DstAddress,
// 1830                       byte DstEndPoint, byte SecurityUse, uint8 Type )
// 1831 {
// 1832   ZDO_BindReq_t *pBindReq;
// 1833 
// 1834   if ( ZDApp_BindReq_TaskID )
// 1835   {
// 1836     // Send the IEEE Address response structure to the registered task
// 1837     pBindReq = (ZDO_BindReq_t *)osal_msg_allocate( sizeof( ZDO_BindReq_t ) );
// 1838     if ( pBindReq )
// 1839     {
// 1840       pBindReq->event_hdr.event = Type;
// 1841 
// 1842       // Build the structure
// 1843       pBindReq->hdr.srcAddr = SrcAddr->addr.shortAddr;
// 1844       pBindReq->hdr.transSeq = TransSeq;
// 1845       pBindReq->hdr.SecurityUse = SecurityUse;
// 1846 
// 1847       osal_cpyExtAddr( pBindReq->srcAddr, SrcAddress );
// 1848       pBindReq->srcEP = SrcEndPoint;
// 1849       pBindReq->clusterID = ClusterID;
// 1850       osal_cpyExtAddr( pBindReq->dstAddr, DstAddress );
// 1851       pBindReq->dstEP = DstEndPoint;
// 1852 
// 1853       osal_msg_send( ZDApp_BindReq_TaskID, (uint8 *)pBindReq );
// 1854     }
// 1855   }
// 1856 }
// 1857 #endif // !REFLECTOR && ZDO_BIND_UNBIND_RESPONSE
// 1858 
// 1859 #if defined ( REFLECTOR ) || defined ( ZDO_BIND_UNBIND_RESPONSE )
// 1860 /*********************************************************************
// 1861  * @fn      ZDApp_BindReqCB()
// 1862  *
// 1863  * @brief
// 1864  *
// 1865  *   Called by ZDO when a Bind Request message is received.
// 1866  *
// 1867  * @param  SrcAddr     - Source address ( who sent the message )
// 1868  * @param  SrcAddress  - Source Address (64 bit)
// 1869  * @param  SrcEndPoint - Source endpoint
// 1870  * @param  ClusterID   - Cluster ID
// 1871  * @param  DstAddress  - Destination Address (64 bit)
// 1872  * @param  DstEndPoint - Destination endpoint
// 1873  * @param  SecurityUse - Security enable/disable
// 1874  *
// 1875  * @return  none
// 1876  */
// 1877 void ZDApp_BindReqCB( byte TransSeq, zAddrType_t *SrcAddr, byte *SrcAddress,
// 1878                       byte SrcEndPoint, cId_t ClusterID, zAddrType_t *DstAddress,
// 1879                       byte DstEndPoint, byte SecurityUse )
// 1880 {
// 1881 #if defined ( REFLECTOR )
// 1882   zAddrType_t SourceAddr;       // Binding Source addres
// 1883   byte bindStat;
// 1884 
// 1885   SourceAddr.addrMode = Addr64Bit;
// 1886   osal_cpyExtAddr( SourceAddr.addr.extAddr, SrcAddress );
// 1887 
// 1888   if ( DstAddress->addrMode != Addr64Bit &&
// 1889          DstAddress->addrMode != AddrGroup )
// 1890   {
// 1891     bindStat = ZDP_NOT_SUPPORTED;
// 1892   }
// 1893 
// 1894   else
// 1895   { // Check source endpoints
// 1896     if ( SrcEndPoint == 0 || SrcEndPoint > MAX_ENDPOINTS )
// 1897     {
// 1898       bindStat = ZDP_INVALID_EP;
// 1899     }
// 1900     // Check the destination endpoints for ext address mode
// 1901     else if ( ( DstAddress->addrMode == Addr64Bit ) &&
// 1902             ( DstEndPoint == 0 || DstEndPoint > MAX_ENDPOINTS ) )
// 1903     {
// 1904       bindStat = ZDP_INVALID_EP;
// 1905     }
// 1906 
// 1907     else
// 1908     {
// 1909 #if defined ( ZDO_NWKADDR_REQUEST )
// 1910       {
// 1911         uint16 nwkAddr;
// 1912 
// 1913         // Check for the source address
// 1914         if ( APSME_LookupNwkAddr( SrcAddress, &nwkAddr ) == FALSE )
// 1915         {
// 1916           ZDP_NwkAddrReq( SrcAddress, ZDP_ADDR_REQTYPE_SINGLE, 0, 0 );
// 1917         }
// 1918 
// 1919         // Check for the destination address
// 1920         if ( DstAddress->addrMode == Addr64Bit )
// 1921         {
// 1922           if ( APSME_LookupNwkAddr( DstAddress->addr.extAddr, &nwkAddr ) == FALSE )
// 1923           {
// 1924             ZDP_NwkAddrReq( DstAddress->addr.extAddr, ZDP_ADDR_REQTYPE_SINGLE, 0, 0 );
// 1925           }
// 1926         }
// 1927       }
// 1928 #endif
// 1929 
// 1930       if ( APSME_BindRequest( &SourceAddr, SrcEndPoint, ClusterID,
// 1931                      DstAddress, DstEndPoint ) == ZSuccess )
// 1932       {
// 1933         bindStat = ZDP_SUCCESS;
// 1934         // Notify to save info into NV
// 1935         osal_start_timerEx( ZDAppTaskID, ZDO_NWK_UPDATE_NV, 250 );
// 1936       }
// 1937       else
// 1938         bindStat = ZDP_TABLE_FULL;
// 1939     }
// 1940   }
// 1941   // Send back a response message
// 1942   ZDP_BindRsp( TransSeq, SrcAddr, bindStat, SecurityUse );
// 1943 
// 1944 #else  // must be ZDO_BIND_UNBIND_RESPONSE
// 1945 
// 1946   ZDApp_AppBindReq( TransSeq, SrcAddr, SrcAddress, SrcEndPoint, ClusterID,
// 1947                     DstAddress->addr.extAddr, DstEndPoint, SecurityUse, ZDO_BIND_REQUEST );
// 1948 
// 1949 #endif // REFLECTOR
// 1950 }
// 1951 #endif // REFLECTOR OR ZDO_BIND_UNBIND_RESPONSE
// 1952 
// 1953 #if defined ( REFLECTOR ) || defined ( ZDO_BIND_UNBIND_RESPONSE )
// 1954 /*********************************************************************
// 1955  * @fn      ZDApp_UnbindReqCB()
// 1956  *
// 1957  * @brief
// 1958  *
// 1959  *   Called by ZDO when an Unbind Request message is received.
// 1960  *
// 1961  * @param  SrcAddr  - Source address
// 1962  * @param  SrcAddress - Source Address (64 bit)
// 1963  * @param  SrcEndPoint - Source endpoint
// 1964  * @param  ClusterID - Cluster ID
// 1965  * @param  DstAddress - Destination Address (64 bit)
// 1966  * @param  DstEndPoint - Destination endpoint
// 1967  * @param  SecurityUse - Security enable/disable
// 1968  *
// 1969  * @return  none
// 1970  */
// 1971 void ZDApp_UnbindReqCB( byte TransSeq, zAddrType_t *SrcAddr, byte *SrcAddress,
// 1972                         byte SrcEndPoint, cId_t ClusterID, zAddrType_t *DstAddress,
// 1973                         byte DstEndPoint, byte SecurityUse )
// 1974 {
// 1975 #if defined ( REFLECTOR )
// 1976   zAddrType_t SourceAddr;       // Binding Source addres
// 1977   byte bindStat;
// 1978 
// 1979   SourceAddr.addrMode = Addr64Bit;
// 1980   osal_cpyExtAddr( SourceAddr.addr.extAddr, SrcAddress );
// 1981 
// 1982   // Check endpoints
// 1983   if ( SrcEndPoint == 0 || SrcEndPoint > MAX_ENDPOINTS ||
// 1984        DstEndPoint == 0 || DstEndPoint > MAX_ENDPOINTS )
// 1985   {
// 1986     bindStat = ZDP_INVALID_EP;
// 1987   }
// 1988 
// 1989   else
// 1990   {
// 1991     if ( APSME_UnBindRequest( &SourceAddr, SrcEndPoint, ClusterID,
// 1992                              DstAddress, DstEndPoint ) == ZSuccess )
// 1993     {
// 1994       bindStat = ZDP_SUCCESS;
// 1995 
// 1996       // Notify to save info into NV
// 1997       osal_start_timerEx( ZDAppTaskID, ZDO_NWK_UPDATE_NV, 250 );
// 1998     }
// 1999     else
// 2000       bindStat = ZDP_NO_ENTRY;
// 2001   }
// 2002 
// 2003   // Send back a response message
// 2004   ZDP_UnbindRsp( TransSeq, SrcAddr, bindStat, SecurityUse );
// 2005 
// 2006 #else // Must be ZDO_BIND_UNBIND_RESPONSE
// 2007 
// 2008   ZDApp_AppBindReq( TransSeq, SrcAddr, SrcAddress, SrcEndPoint, ClusterID,
// 2009                     DstAddress->addr.extAddr, DstEndPoint, SecurityUse, ZDO_UNBIND_REQUEST );
// 2010 
// 2011 #endif // ZDO_BIND_UNBIND_RESPONSE
// 2012 }
// 2013 #endif // REFLECTOR OR ZDO_BIND_UNBIND_RESPONSE
// 2014 
// 2015 /*********************************************************************
// 2016  * @fn      ZDApp_SendNewDstAddr()
// 2017  *
// 2018  * @brief
// 2019  *
// 2020  *   Used to send an OSAL message to an application that contains a
// 2021  *   new destination address
// 2022  *
// 2023  * @param  dstEP  - Destination endpoint
// 2024  * @param  dstAddr - response status
// 2025  * @param  clusterID - relavent cluster for this dst address
// 2026  * @param  removeFlag - false if add, true to remove
// 2027  * @param  task_id - What task to send it to
// 2028  * @param  endpoint - who the new address is for
// 2029  *
// 2030  * @return  none
// 2031  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2032 void ZDApp_SendNewDstAddr( byte dstEP, zAddrType_t *dstAddr,
ZDApp_SendNewDstAddr:
        CFI Block cfiBlock87 Using cfiCommon0
        CFI Function ZDApp_SendNewDstAddr
// 2033                    cId_t clusterID, byte removeFlag, byte task_id, byte endpoint )
// 2034 {
        FUNCALL ZDApp_SendNewDstAddr, osal_msg_allocate
        LOCFRAME XSTACK, 18, STACK
        ARGFRAME XSTACK, 18, STACK
        FUNCALL ZDApp_SendNewDstAddr, osal_memcpy
        LOCFRAME XSTACK, 21, STACK
        ARGFRAME XSTACK, 21, STACK
        FUNCALL ZDApp_SendNewDstAddr, osal_msg_send
        LOCFRAME XSTACK, 18, STACK
        ARGFRAME XSTACK, 18, STACK
        MOV	A,#-0x10
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 2
        MOV	A,#-0x2
        LCALL	?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 18)
        MOV	DPL,?XSP + 0
        MOV	DPH,?XSP + 1
        MOV	A,R2
        MOVX	@DPTR,A
        INC	DPTR
        MOV	A,R3
        MOVX	@DPTR,A
        MOV	?V0 + 2,R1
        MOV	A,R4
        MOV	R6,A
        MOV	A,R5
        MOV	R7,A
        MOV	A,#0x12
        LCALL	?XSTACK_DISP0_8
        MOVX	A,@DPTR
        MOV	?V0 + 7,A
        MOV	A,#0x13
        LCALL	?XSTACK_DISP0_8
        MOVX	A,@DPTR
        MOV	?V0 + 3,A
        MOV	A,#0x14
        LCALL	?XSTACK_DISP0_8
        MOVX	A,@DPTR
        MOV	?V0 + 6,A
// 2035   byte bufLen;
// 2036   ZDO_NewDstAddr_t *msgPtr;
// 2037 
// 2038   // Send the address to the task
// 2039   bufLen = sizeof(ZDO_NewDstAddr_t);
// 2040 
// 2041   msgPtr = (ZDO_NewDstAddr_t *)osal_msg_allocate( bufLen );
        ; Setup parameters for call to function osal_msg_allocate
        MOV	R2,#0x10
        MOV	R3,#0x0
        MOV	DPTR,#(osal_msg_allocate & 0xffff)
        MOV	A,#((osal_msg_allocate >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	?V0 + 4,R2
        MOV	?V0 + 5,R3
// 2042   if ( msgPtr )
        MOV	A,R2
        JNZ	??ZDApp_SendNewDstAddr_0
        MOV	A,R3
??ZDApp_SendNewDstAddr_0:
        JZ	??ZDApp_SendNewDstAddr_1
// 2043   {
// 2044     msgPtr->hdr.event = ZDO_NEW_DSTADDR;
        MOV	A,#-0x30
        MOV	DPL,R2
        MOV	DPH,R3
        MOVX	@DPTR,A
// 2045     msgPtr->dstAddrDstEP = dstEP;
        INC	DPTR
        INC	DPTR
        MOV	A,?V0 + 2
        LCALL	?Subroutine1 & 0xFFFF
// 2046     osal_memcpy(&msgPtr->dstAddr, dstAddr, sizeof( zAddrType_t ) );
??CrossCallReturnLabel_2:
        MOVX	A,@DPTR
        MOV	?V0 + 0,A
        INC	DPTR
        MOVX	A,@DPTR
        MOV	?V0 + 1,A
        MOV	?V0 + 2,#0x0
        MOV	R0,#?V0 + 0
        LCALL	?PUSH_XSTACK_I_THREE
        CFI CFA_XSP16 add(XSP16, 21)
        MOV	R4,#0x9
        MOV	R5,#0x0
        MOV	A,R2
        ADD	A,#0x3
        INC	R2
        INC	R2
        INC	R2
        MOV	A,R3
        LCALL	?Subroutine17 & 0xFFFF
??CrossCallReturnLabel_40:
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,#0x3
        LCALL	?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 18)
// 2047     msgPtr->dstAddrClusterIDLSB = LO_UINT16( clusterID );
        MOV	A,?V0 + 4
        ADD	A,#0xc
        LCALL	?Subroutine16 & 0xFFFF
??CrossCallReturnLabel_33:
        MOV	A,R6
        MOVX	@DPTR,A
// 2048     msgPtr->dstAddrClusterIDMSB = HI_UINT16( clusterID );
        MOV	A,?V0 + 4
        ADD	A,#0xd
        LCALL	?Subroutine16 & 0xFFFF
??CrossCallReturnLabel_34:
        MOV	A,R7
        MOVX	@DPTR,A
// 2049     msgPtr->dstAddrRemove = removeFlag;
        MOV	A,?V0 + 4
        ADD	A,#0xe
        LCALL	?Subroutine16 & 0xFFFF
??CrossCallReturnLabel_35:
        MOV	A,?V0 + 7
        MOVX	@DPTR,A
// 2050     msgPtr->dstAddrEP = endpoint;
        MOV	A,?V0 + 4
        ADD	A,#0xf
        LCALL	?Subroutine16 & 0xFFFF
??CrossCallReturnLabel_36:
        MOV	A,?V0 + 6
        MOVX	@DPTR,A
// 2051 
// 2052     osal_msg_send( task_id, (uint8 *)msgPtr );
        ; Setup parameters for call to function osal_msg_send
        MOV	R2,?V0 + 4
        MOV	R3,?V0 + 5
        MOV	R1,?V0 + 3
        MOV	DPTR,#(osal_msg_send & 0xffff)
        MOV	A,#((osal_msg_send >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
// 2053   }
// 2054 }
??ZDApp_SendNewDstAddr_1:
        MOV	A,#0x2
        LCALL	?DEALLOC_XSTACK8
        CFI EndBlock cfiBlock87
        REQUIRE ?Subroutine28
        ; // Fall through to label ?Subroutine28

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine28:
        CFI Block cfiBlock88 Using cfiCommon0
        CFI NoFunction
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 16)
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        MOV	R7,#0x8
        LJMP	?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock88

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine1:
        CFI Block cfiCond89 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_2
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 18)
        CFI Block cfiCond90 Using cfiCommon0
        CFI (cfiCond90) NoFunction
        CFI (cfiCond90) Conditional ??CrossCallReturnLabel_1
        CFI (cfiCond90) R6 load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI (cfiCond90) VB load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI (cfiCond90) V0 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond90) V1 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond90) V2 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond90) V3 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond90) V4 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond90) V5 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond90) V6 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond90) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond90) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond90) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond90) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond90) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond90) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond90) CFA_SP SP+0
        CFI (cfiCond90) CFA_XSP16 add(XSP16, 24)
        CFI Block cfiCond91 Using cfiCommon0
        CFI (cfiCond91) NoFunction
        CFI (cfiCond91) Conditional ??CrossCallReturnLabel_0
        CFI (cfiCond91) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond91) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond91) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond91) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond91) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond91) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond91) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond91) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond91) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond91) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond91) CFA_SP SP+0
        CFI (cfiCond91) CFA_XSP16 add(XSP16, 12)
        CFI Block cfiCond92 Using cfiCommon0
        CFI (cfiCond92) NoFunction
        CFI (cfiCond92) Conditional ??CrossCallReturnLabel_3
        CFI (cfiCond92) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond92) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond92) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond92) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond92) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond92) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond92) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond92) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond92) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond92) CFA_SP SP+0
        CFI (cfiCond92) CFA_XSP16 add(XSP16, 24)
        CFI Block cfiPicker93 Using cfiCommon1
        CFI (cfiPicker93) NoFunction
        CFI (cfiPicker93) Picker
        MOVX	@DPTR,A
        ; Setup parameters for call to function ZMacSetReq
        ; Setup parameters for call to function osal_memcpy
        ; Setup parameters for call to function ZDApp_SendMsg
        MOV	DPL,?XSP + 0
        MOV	DPH,?XSP + 1
        RET
        CFI EndBlock cfiCond89
        CFI EndBlock cfiCond90
        CFI EndBlock cfiCond91
        CFI EndBlock cfiCond92
        CFI EndBlock cfiPicker93
// 2055 
// 2056 /*********************************************************************
// 2057  * @fn      ZDApp_SendEventMsg()
// 2058  *
// 2059  * @brief
// 2060  *
// 2061  *   Sends a Network Join message
// 2062  *
// 2063  * @param  cmd - command ID
// 2064  * @param  len - length (in bytes) of the buf field
// 2065  * @param  buf - buffer for the rest of the message.
// 2066  *
// 2067  * @return  none
// 2068  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2069 void ZDApp_SendEventMsg( byte cmd, byte len, byte *buf )
ZDApp_SendEventMsg:
        CFI Block cfiBlock94 Using cfiCommon0
        CFI Function ZDApp_SendEventMsg
// 2070 {
        FUNCALL ZDApp_SendEventMsg, ZDApp_SendMsg
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        PUSH	DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH	DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 2071   ZDApp_SendMsg( ZDAppTaskID, cmd, len, buf );
        ; Setup parameters for call to function ZDApp_SendMsg
        MOV	A,R2
        MOV	R3,A
        MOV	A,R1
        MOV	R2,A
        LJMP	?Subroutine29 & 0xFFFF
        CFI EndBlock cfiBlock94
// 2072 }
// 2073 
// 2074 /*********************************************************************
// 2075  * @fn      ZDApp_SendMsg()
// 2076  *
// 2077  * @brief   Sends a OSAL message
// 2078  *
// 2079  * @param  taskID - Where to send the message
// 2080  * @param  cmd - command ID
// 2081  * @param  len - length (in bytes) of the buf field
// 2082  * @param  buf - buffer for the rest of the message.
// 2083  *
// 2084  * @return  none
// 2085  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2086 void ZDApp_SendMsg( byte taskID, byte cmd, byte len, byte *buf )
ZDApp_SendMsg:
        CFI Block cfiBlock95 Using cfiCommon0
        CFI Function ZDApp_SendMsg
// 2087 {
        FUNCALL ZDApp_SendMsg, osal_msg_allocate
        LOCFRAME XSTACK, 16, STACK
        ARGFRAME XSTACK, 16, STACK
        FUNCALL ZDApp_SendMsg, osal_memcpy
        LOCFRAME XSTACK, 19, STACK
        ARGFRAME XSTACK, 19, STACK
        FUNCALL ZDApp_SendMsg, osal_msg_send
        LOCFRAME XSTACK, 16, STACK
        ARGFRAME XSTACK, 16, STACK
        MOV	A,#-0x10
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 0
        MOV	A,R1
        MOV	R6,A
        MOV	?V0 + 3,R2
        MOV	A,R3
        MOV	R7,A
        MOV	?V0 + 6,R4
        MOV	?V0 + 7,R5
// 2088   osal_event_hdr_t *msgPtr;
// 2089 
// 2090   // Send the address to the task
// 2091   msgPtr = (osal_event_hdr_t *)osal_msg_allocate( len );
        ; Setup parameters for call to function osal_msg_allocate
        MOV	R2,A
        MOV	R3,#0x0
        MOV	DPTR,#(osal_msg_allocate & 0xffff)
        MOV	A,#((osal_msg_allocate >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	?V0 + 4,R2
        MOV	?V0 + 5,R3
// 2092   if ( msgPtr )
        MOV	A,R2
        JNZ	??ZDApp_SendMsg_0
        MOV	A,R3
??ZDApp_SendMsg_0:
        JZ	??ZDApp_SendMsg_1
// 2093   {
// 2094     if ( (len > 0) && (buf != NULL) )
        MOV	A,R7
        JZ	??ZDApp_SendMsg_2
        MOV	A,?V0 + 6
        JNZ	??ZDApp_SendMsg_3
        MOV	A,?V0 + 7
??ZDApp_SendMsg_3:
        JZ	??ZDApp_SendMsg_2
// 2095       osal_memcpy( msgPtr, buf, len );
        ; Setup parameters for call to function osal_memcpy
        MOV	?V0 + 0,?V0 + 6
        MOV	?V0 + 1,?V0 + 7
        MOV	?V0 + 2,#0x0
        MOV	R0,#?V0 + 0
        LCALL	?PUSH_XSTACK_I_THREE
        CFI CFA_XSP16 add(XSP16, 19)
        MOV	A,R7
        MOV	R4,A
        MOV	R5,#0x0
        MOV	DPTR,#(osal_memcpy & 0xffff)
        MOV	A,#((osal_memcpy >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,#0x3
        LCALL	?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 16)
// 2096 
// 2097     msgPtr->event = cmd;
??ZDApp_SendMsg_2:
        MOV	DPL,?V0 + 4
        MOV	DPH,?V0 + 5
        MOV	A,?V0 + 3
        MOVX	@DPTR,A
// 2098     osal_msg_send( taskID, (byte *)msgPtr );
        ; Setup parameters for call to function osal_msg_send
        MOV	R2,?V0 + 4
        MOV	R3,?V0 + 5
        MOV	A,R6
        MOV	R1,A
        MOV	DPTR,#(osal_msg_send & 0xffff)
        MOV	A,#((osal_msg_send >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
// 2099   }
// 2100 }
??ZDApp_SendMsg_1:
        SJMP	?Subroutine28
        CFI EndBlock cfiBlock95
// 2101 
// 2102 #if defined ( ZDO_NWKADDR_REQUEST )
// 2103 /*********************************************************************
// 2104  * @fn      ZDApp_NwkAddrRspCB()
// 2105  *
// 2106  * @brief
// 2107  *
// 2108  *   Called by ZDO when a NWK_addr_rsp message is received.
// 2109  *
// 2110  * @param  SrcAddr  - Source address
// 2111  * @param  Status - response status
// 2112  * @param  IEEEAddr - 64 bit IEEE address of device
// 2113  * @param  aoi - 16 bit network address of interest.
// 2114  * @param  NumAssocDev - number of associated devices to reporting device
// 2115  * @param  AssocDevList - array short addresses of associated devices
// 2116  *
// 2117  * @return  none
// 2118  */
// 2119 void ZDApp_NwkAddrRspCB( zAddrType_t *SrcAddr, byte Status, byte *IEEEAddr,
// 2120                          uint16 nwkAddr, byte NumAssocDev,
// 2121                          byte StartIndex, uint16 *AssocDevList )
// 2122 {
// 2123   uint8 bufLen;
// 2124   ZDO_NwkAddrResp_t *pNwkAddrRsp;
// 2125 
// 2126 #if defined ( MT_ZDO_FUNC )
// 2127   /* First check if MT has subscribed for this callback. If so , pass it as
// 2128   a event to MonitorTest and return control to calling function after that */
// 2129   if ( _zdoCallbackSub & CB_ID_ZDO_NWK_ADDR_RSP )
// 2130   {
// 2131     zdo_MTCB_NwkIEEEAddrRspCB( SPI_CB_ZDO_NWK_ADDR_RSP, SrcAddr, Status,
// 2132                   IEEEAddr, nwkAddr, NumAssocDev, StartIndex, AssocDevList );
// 2133     return;
// 2134   }
// 2135 #endif  //MT_ZDO_FUNC
// 2136 
// 2137   if ( ZDApp_NwkAddrRsp_TaskID )
// 2138   {
// 2139     // Send the NWK Address response structure to the registered task
// 2140     bufLen = sizeof( ZDO_NwkAddrResp_t ) + sizeof( uint16 ) * NumAssocDev;
// 2141 
// 2142     pNwkAddrRsp = (ZDO_NwkAddrResp_t *)osal_msg_allocate( bufLen );
// 2143 
// 2144     if ( pNwkAddrRsp )
// 2145     {
// 2146       pNwkAddrRsp->hdr.event = ZDO_NWK_ADDR_RESP;
// 2147 
// 2148       // Build the structure
// 2149       pNwkAddrRsp->nwkAddr = nwkAddr;
// 2150       osal_cpyExtAddr( pNwkAddrRsp->extAddr, IEEEAddr );
// 2151       pNwkAddrRsp->numAssocDevs = NumAssocDev;
// 2152       pNwkAddrRsp->startIndex = StartIndex;
// 2153       osal_memcpy( pNwkAddrRsp->devList, AssocDevList, (sizeof( uint16 ) * NumAssocDev) );
// 2154 
// 2155       osal_msg_send( ZDApp_NwkAddrRsp_TaskID, (uint8 *)pNwkAddrRsp );
// 2156     }
// 2157   }
// 2158 }
// 2159 #endif // ZDO_NWKADDR_REQUEST
// 2160 
// 2161 #if defined ( ZDO_IEEEADDR_REQUEST )
// 2162 /*********************************************************************
// 2163  * @fn      ZDApp_IEEEAddrRspCB()
// 2164  *
// 2165  * @brief
// 2166  *
// 2167  *   Called by ZDO when a NWK_addr_rsp message is received.
// 2168  *
// 2169  * @param  SrcAddr  - Source address
// 2170  * @param  Status - response status
// 2171  * @param  IEEEAddr - 64 bit IEEE address of device
// 2172  * @param  aoi - 16 bit network address of interest.
// 2173  * @param  NumAssocDev - number of associated devices to reporting device
// 2174  * @param  AssocDevList - array short addresses of associated devices
// 2175  *
// 2176  * @return  none
// 2177  */
// 2178 void ZDApp_IEEEAddrRspCB( zAddrType_t *SrcAddr, byte Status, byte *IEEEAddr,
// 2179                           uint16 aoi, byte NumAssocDev,
// 2180                           byte StartIndex, uint16 *AssocDevList )
// 2181 {
// 2182   uint8 bufLen;
// 2183   ZDO_IEEEAddrResp_t *pIEEEAddrRsp;
// 2184 
// 2185 #if defined ( MT_ZDO_FUNC )
// 2186   /* First check if MT has subscribed for this callback. If so , pass it as
// 2187   a event to MonitorTest and return control to calling function after that */
// 2188   if ( _zdoCallbackSub & CB_ID_ZDO_IEEE_ADDR_RSP )
// 2189   {
// 2190     zdo_MTCB_NwkIEEEAddrRspCB( SPI_CB_ZDO_IEEE_ADDR_RSP, SrcAddr, Status,
// 2191                   IEEEAddr, 0, NumAssocDev, StartIndex, AssocDevList );
// 2192     return;
// 2193   }
// 2194 #endif  //MT_ZDO_FUNC
// 2195 
// 2196   if ( ZDApp_IEEEAddrRsp_TaskID )
// 2197   {
// 2198     // Send the IEEE Address response structure to the registered task
// 2199     bufLen = sizeof( ZDO_IEEEAddrResp_t ) + sizeof( uint16 ) * NumAssocDev;
// 2200 
// 2201     pIEEEAddrRsp = (ZDO_IEEEAddrResp_t *)osal_msg_allocate( bufLen );
// 2202     if ( pIEEEAddrRsp )
// 2203     {
// 2204       pIEEEAddrRsp->hdr.event = ZDO_IEEE_ADDR_RESP;
// 2205 
// 2206       // Build the structure
// 2207       pIEEEAddrRsp->nwkAddr = aoi;
// 2208       osal_cpyExtAddr( pIEEEAddrRsp->extAddr, IEEEAddr );
// 2209       pIEEEAddrRsp->numAssocDevs = NumAssocDev;
// 2210       pIEEEAddrRsp->startIndex = StartIndex;
// 2211       osal_memcpy( pIEEEAddrRsp->devList, AssocDevList, (sizeof( uint16 ) * NumAssocDev) );
// 2212 
// 2213       osal_msg_send( ZDApp_IEEEAddrRsp_TaskID, (uint8 *)pIEEEAddrRsp );
// 2214     }
// 2215   }
// 2216 }
// 2217 #endif // ZDO_IEEEADDR_REQUEST
// 2218 
// 2219 #if defined ( ZDO_NODEDESC_REQUEST )
// 2220 /*********************************************************************
// 2221  * @fn      ZDApp_NodeDescRspCB()
// 2222  *
// 2223  * @brief
// 2224  *
// 2225  *   Called by ZDO when a Node_Desc_rsp message is received.
// 2226  *
// 2227  * @param  SrcAddr  - Source address
// 2228  * @param  Status - response status
// 2229  * @param  aoi - 16 bit network address of interest.
// 2230  * @param  pNodeDesc - pointer to the devices Node Descriptor
// 2231  *                     NULL if Status != ZDP_SUCCESS
// 2232  *
// 2233  * @return  none
// 2234  */
// 2235 void ZDApp_NodeDescRspCB( zAddrType_t *SrcAddr, byte Status, uint16 aoi,
// 2236                           NodeDescriptorFormat_t *pNodeDesc )
// 2237 {
// 2238 #if defined ( MT_ZDO_FUNC )
// 2239   /* First check if MT has subscribed for this callback. If so , pass it as
// 2240   a event to MonitorTest and return control to calling function after that */
// 2241   if ( _zdoCallbackSub & CB_ID_ZDO_NODE_DESC_RSP )
// 2242   {
// 2243     zdo_MTCB_NodeDescRspCB( SrcAddr, Status, aoi, pNodeDesc );
// 2244     return;
// 2245   }
// 2246 #endif  //MT_ZDO_FUNC
// 2247 }
// 2248 #endif
// 2249 
// 2250 #if defined ( ZDO_POWERDESC_REQUEST )
// 2251 /*********************************************************************
// 2252  * @fn      ZDApp_PowerDescRspCB()
// 2253  *
// 2254  * @brief
// 2255  *
// 2256  *   Called by ZDO when a Power_Desc_rsp message is received.
// 2257  *
// 2258  * @param  SrcAddr  - Source address
// 2259  * @param  Status - response status
// 2260  * @param  aoi - 16 bit network address of interest.
// 2261  * @param  pPwrDesc - pointer to the devices Power Descriptor
// 2262  *                     NULL if Status != ZDP_SUCCESS
// 2263  *
// 2264  * @return  none
// 2265  */
// 2266 void ZDApp_PowerDescRspCB( zAddrType_t *SrcAddr, byte Status,
// 2267                             uint16 aoi, NodePowerDescriptorFormat_t *pPwrDesc )
// 2268 {
// 2269 #if defined ( MT_ZDO_FUNC )
// 2270   /* First check if MT has subscribed for this callback. If so , pass it as
// 2271   a event to MonitorTest and return control to calling function after that */
// 2272   if ( _zdoCallbackSub & CB_ID_ZDO_POWER_DESC_RSP )
// 2273   {
// 2274     zdo_MTCB_PowerDescRspCB( SrcAddr, Status, aoi, pPwrDesc );
// 2275     return;
// 2276   }
// 2277 #endif  //MT_ZDO_FUNC
// 2278 }
// 2279 #endif // ZDO_POWERDESC_REQUEST
// 2280 
// 2281 #if defined ( ZDO_SIMPLEDESC_REQUEST )
// 2282 /*********************************************************************
// 2283  * @fn      ZDApp_SimpleDescRspCB()
// 2284  *
// 2285  * @brief
// 2286  *
// 2287  *   Called by ZDO when a Simple_Desc_rsp message is received.
// 2288  *
// 2289  * @param  SrcAddr  - Source address
// 2290  * @param  Status - response status
// 2291  * @param  aoi - 16 bit network address of interest.
// 2292  * @param  endPoint - Endpoint for description
// 2293  * @param  pSimpleDesc - pointer to the devices Simple Descriptor
// 2294  *                     NULL if Status != ZDP_SUCCESS
// 2295  *
// 2296  * @return  none
// 2297  */
// 2298 void ZDApp_SimpleDescRspCB( zAddrType_t *SrcAddr, byte Status,
// 2299                             uint16 aoi, byte endPoint,
// 2300                             SimpleDescriptionFormat_t *pSimpleDesc )
// 2301 {
// 2302 #if defined ( MT_ZDO_FUNC )
// 2303   /* First check if MT has subscribed for this callback. If so , pass it as
// 2304   a event to MonitorTest and return control to calling function after that */
// 2305   if ( _zdoCallbackSub & CB_ID_ZDO_SIMPLE_DESC_RSP )
// 2306   {
// 2307     zdo_MTCB_SimpleDescRspCB( SrcAddr, Status, aoi, endPoint, pSimpleDesc );
// 2308     return;
// 2309   }
// 2310 #endif  //MT_ZDO_FUNC
// 2311 }
// 2312 #endif // ZDO_SIMPLEDESC_REQUEST
// 2313 
// 2314 #if defined ( ZDO_ACTIVEEP_REQUEST )
// 2315 /*********************************************************************
// 2316  * @fn      ZDApp_ActiveEPRspCB()
// 2317  *
// 2318  * @brief
// 2319  *
// 2320  *   Called by ZDO when a Active_EP_rsp message is received.
// 2321  *
// 2322  * @param  src    - Device's short address that this response describes
// 2323  * @param  Status - response status
// 2324  * @param  epCnt  - number of epList items
// 2325  * @param  epList - array of active endpoint.
// 2326  *
// 2327  * @return  none
// 2328  */
// 2329 void ZDApp_ActiveEPRspCB( zAddrType_t *src, byte Status,
// 2330                                                      byte epCnt, byte *epList )
// 2331 {
// 2332 #if defined ( MT_ZDO_FUNC )
// 2333   /* First check if MT has subscribed for this callback. If so , pass it as
// 2334   a event to MonitorTest and return control to calling function after that */
// 2335   if ( _zdoCallbackSub & CB_ID_ZDO_ACTIVE_EPINT_RSP )
// 2336   {
// 2337     zdo_MTCB_MatchActiveEPRspCB( SPI_CB_ZDO_ACTIVE_EPINT_RSP, src,
// 2338                                   src->addr.shortAddr, Status, epCnt, epList );
// 2339     return;
// 2340   }
// 2341 #endif  //MT_ZDO_FUNC
// 2342 }
// 2343 #endif // ZDO_ACTIVEEP_REQUEST
// 2344 
// 2345 #if defined ( ZDO_MATCH_REQUEST )
// 2346 /*********************************************************************
// 2347  * @fn      ZDApp_MatchDescRspCB()
// 2348  *
// 2349  * @brief
// 2350  *
// 2351  *   Called by ZDO when a Match_Desc_rsp message is received.
// 2352  *
// 2353  * NOTE:  Currently, this function accepts any responding device as THE
// 2354  *        match and updates the endpoint (requested) destination's
// 2355  *        address.  So, the last response received is the application's
// 2356  *        match.
// 2357  *
// 2358  *        This function could be changed to do further device discovery
// 2359  *        and/or accept multiple responses.
// 2360  *
// 2361  * @param  src     - Device's short address that this response describes
// 2362  * @param  Status  - response status
// 2363  * @param  epCnt   - number of epList items
// 2364  * @param  epList  - array of active endpoint
// 2365  *
// 2366  * @return  none
// 2367  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2368 void ZDApp_MatchDescRspCB( zAddrType_t *src, byte Status,
ZDApp_MatchDescRspCB:
        CFI Block cfiBlock96 Using cfiCommon0
        CFI Function ZDApp_MatchDescRspCB
// 2369                                                      byte epCnt, byte *epList )
// 2370 {
        FUNCALL ZDApp_MatchDescRspCB, osal_msg_allocate
        LOCFRAME XSTACK, 16, STACK
        ARGFRAME XSTACK, 16, STACK
        FUNCALL ZDApp_MatchDescRspCB, osal_memcpy
        LOCFRAME XSTACK, 19, STACK
        ARGFRAME XSTACK, 19, STACK
        FUNCALL ZDApp_MatchDescRspCB, osal_msg_send
        LOCFRAME XSTACK, 16, STACK
        ARGFRAME XSTACK, 16, STACK
        FUNCALL ZDApp_MatchDescRspCB, ZDApp_SendNewDstAddr
        LOCFRAME XSTACK, 19, STACK
        ARGFRAME XSTACK, 19, STACK
        FUNCALL ZDApp_MatchDescRspCB, HalLedSet
        LOCFRAME XSTACK, 16, STACK
        ARGFRAME XSTACK, 16, STACK
        MOV	A,#-0x10
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 0
        MOV	?V0 + 6,R2
        MOV	?V0 + 7,R3
        MOV	?V0 + 3,R4
        MOV	A,#0x10
        LCALL	?XSTACK_DISP0_8
        MOVX	A,@DPTR
        MOV	?V0 + 4,A
        INC	DPTR
        MOVX	A,@DPTR
        MOV	?V0 + 5,A
// 2371 #if defined ( MT_ZDO_FUNC )
// 2372   /* First check if MT has subscribed for this callback. If so , pass it as
// 2373   a event to MonitorTest and return control to calling function after that */
// 2374   if ( _zdoCallbackSub & CB_ID_ZDO_MATCH_DESC_RSP )
// 2375   {
// 2376     zdo_MTCB_MatchActiveEPRspCB( SPI_CB_ZDO_MATCH_DESC_RSP, src,
// 2377                                   src->addr.shortAddr, Status, epCnt, epList );
// 2378     return;
// 2379   }
// 2380 #endif  //MT_ZDO_FUNC
// 2381 
// 2382   if ( (Status != ZDP_SUCCESS) || (epCnt == 0) )
        MOV	A,R1
        JZ	$+5
        LJMP	??ZDApp_MatchDescRspCB_0 & 0xFFFF
        MOV	A,R4
        JNZ	$+5
        LJMP	??ZDApp_MatchDescRspCB_0 & 0xFFFF
// 2383   {
// 2384 #if defined( LCD_SUPPORTED )
// 2385     HalLcdWriteScreen( "Auto Find Rsp", "Unsuccessful" );
// 2386 #endif
// 2387     return;
// 2388   }
// 2389 
// 2390   if ( ZDApp_MatchDescRsp_TaskID )
        MOV	DPTR,#??ZDApp_MatchDescRsp_TaskID
        MOVX	A,@DPTR
        JZ	??ZDApp_MatchDescRspCB_1
// 2391   {
// 2392     // Send the IEEE Address response structure to the registered task.
// 2393     uint8 bufLen = sizeof( ZDO_MatchDescResp_t ) + epCnt;
// 2394     ZDO_MatchDescResp_t *pMatchDescRsp = (ZDO_MatchDescResp_t *)osal_msg_allocate( bufLen );
        ; Setup parameters for call to function osal_msg_allocate
        MOV	A,#0x5
        ADD	A,?V0 + 3
        MOV	R2,A
        MOV	R3,#0x0
        MOV	DPTR,#(osal_msg_allocate & 0xffff)
        MOV	A,#((osal_msg_allocate >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	?V0 + 0,R2
        MOV	?V0 + 1,R3
        MOV	R6,?V0 + 0
        MOV	R7,?V0 + 1
// 2395 
// 2396     if ( pMatchDescRsp )
        MOV	A,R6
        JNZ	??ZDApp_MatchDescRspCB_2
        MOV	A,R7
??ZDApp_MatchDescRspCB_2:
        JZ	??ZDApp_MatchDescRspCB_1
// 2397     {
// 2398       pMatchDescRsp->hdr.event = ZDO_MATCH_DESC_RESP;
        MOV	A,#-0x2c
        MOV	DPL,R6
        MOV	DPH,R7
        MOVX	@DPTR,A
// 2399 
// 2400       // Build the structure.
// 2401       pMatchDescRsp->nwkAddr = src->addr.shortAddr;
        MOV	DPL,?V0 + 6
        MOV	DPH,?V0 + 7
        MOVX	A,@DPTR
        MOV	R0,A
        LCALL	?Subroutine12 & 0xFFFF
??CrossCallReturnLabel_28:
        MOV	A,R0
        MOVX	@DPTR,A
        INC	DPTR
        MOV	A,R1
        LCALL	?Subroutine4 & 0xFFFF
// 2402       pMatchDescRsp->epCnt = epCnt;
??CrossCallReturnLabel_6:
        MOV	A,?V0 + 3
        MOVX	@DPTR,A
// 2403       osal_memcpy( pMatchDescRsp->epList, epList, epCnt );
        ; Setup parameters for call to function osal_memcpy
        MOV	?V0 + 0,?V0 + 4
        MOV	?V0 + 1,?V0 + 5
        MOV	?V0 + 2,#0x0
        MOV	R0,#?V0 + 0
        LCALL	?PUSH_XSTACK_I_THREE
        CFI CFA_XSP16 add(XSP16, 19)
        MOV	R4,?V0 + 3
        MOV	R5,#0x0
        MOV	A,R6
        ADD	A,#0x5
        MOV	R2,A
        MOV	A,R7
        LCALL	?Subroutine17 & 0xFFFF
??CrossCallReturnLabel_41:
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,#0x3
        LCALL	?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 16)
// 2404 
// 2405       osal_msg_send( ZDApp_MatchDescRsp_TaskID, (uint8 *)pMatchDescRsp );
        ; Setup parameters for call to function osal_msg_send
        MOV	A,R6
        MOV	R2,A
        MOV	A,R7
        MOV	R3,A
        MOV	DPTR,#??ZDApp_MatchDescRsp_TaskID
        MOVX	A,@DPTR
        MOV	R1,A
        MOV	DPTR,#(osal_msg_send & 0xffff)
        MOV	A,#((osal_msg_send >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
// 2406     }
// 2407   }
// 2408 
// 2409   if ( ZDApp_AutoFindMode_epDesc )
??ZDApp_MatchDescRspCB_1:
        MOV	DPTR,#ZDApp_AutoFindMode_epDesc
        MOVX	A,@DPTR
        JNZ	??ZDApp_MatchDescRspCB_3
        INC	DPTR
        MOVX	A,@DPTR
??ZDApp_MatchDescRspCB_3:
        JZ	??ZDApp_MatchDescRspCB_0
// 2410   {
// 2411     ZDApp_SendNewDstAddr( *epList, src, 0, false,
// 2412                           *(ZDApp_AutoFindMode_epDesc->task_id),
// 2413                             ZDApp_AutoFindMode_epDesc->endPoint );
        ; Setup parameters for call to function ZDApp_SendNewDstAddr
        MOV	DPTR,#ZDApp_AutoFindMode_epDesc
        LCALL	?Subroutine10 & 0xFFFF
??CrossCallReturnLabel_25:
        LCALL	?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 17)
        LCALL	?Subroutine9 & 0xFFFF
??CrossCallReturnLabel_20:
        LCALL	?Subroutine10 & 0xFFFF
??CrossCallReturnLabel_26:
        LCALL	?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 18)
        MOV	?V0 + 0,#0x0
        MOV	R0,#?V0 + 0
        LCALL	?PUSH_XSTACK_I_ONE
        CFI CFA_XSP16 add(XSP16, 19)
        MOV	R4,#0x0
        MOV	R5,#0x0
        MOV	R2,?V0 + 6
        MOV	R3,?V0 + 7
        MOV	DPL,?V0 + 4
        MOV	DPH,?V0 + 5
        MOVX	A,@DPTR
        MOV	R1,A
        MOV	DPTR,#(ZDApp_SendNewDstAddr & 0xffff)
        MOV	A,#((ZDApp_SendNewDstAddr >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,#0x3
        LCALL	?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 16)
// 2414 
// 2415     HalLedSet( HAL_LED_4, HAL_LED_MODE_ON );
        ; Setup parameters for call to function HalLedSet
        MOV	R2,#0x1
        MOV	R1,#0x8
        MOV	DPTR,#(HalLedSet & 0xffff)
        MOV	A,#((HalLedSet >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
??ZDApp_MatchDescRspCB_0:
        LJMP	?Subroutine28 & 0xFFFF
        CFI EndBlock cfiBlock96
// 2416 
// 2417 #if defined( LCD_SUPPORTED )
// 2418     MatchRsps++;
// 2419     HalLcdWriteString( "Auto Find Rsp", HAL_LCD_LINE_1 );
// 2420     HalLcdWriteStringValue( "dstAddr Rcvd", MatchRsps, 10, HAL_LCD_LINE_2 );
// 2421 #endif
// 2422   }
// 2423 }

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine17:
        CFI Block cfiCond97 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_41
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 19)
        CFI Block cfiCond98 Using cfiCommon0
        CFI (cfiCond98) NoFunction
        CFI (cfiCond98) Conditional ??CrossCallReturnLabel_40
        CFI (cfiCond98) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI (cfiCond98) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI (cfiCond98) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI (cfiCond98) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond98) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond98) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond98) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond98) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond98) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond98) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond98) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond98) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond98) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond98) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond98) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond98) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond98) CFA_SP SP+0
        CFI (cfiCond98) CFA_XSP16 add(XSP16, 21)
        CFI Block cfiPicker99 Using cfiCommon1
        CFI (cfiPicker99) NoFunction
        CFI (cfiPicker99) Picker
        ADDC	A,#0x0
        MOV	R3,A
        MOV	DPTR,#(osal_memcpy & 0xffff)
        MOV	A,#((osal_memcpy >> 16) & 0xff)
        RET
        CFI EndBlock cfiCond97
        CFI EndBlock cfiCond98
        CFI EndBlock cfiPicker99

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine12:
        CFI Block cfiCond100 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_28
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 16)
        CFI Block cfiCond101 Using cfiCommon0
        CFI (cfiCond101) NoFunction
        CFI (cfiCond101) Conditional ??CrossCallReturnLabel_27
        CFI (cfiCond101) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond101) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond101) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond101) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond101) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond101) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond101) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond101) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond101) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond101) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond101) CFA_SP SP+0
        CFI (cfiCond101) CFA_XSP16 add(XSP16, 11)
        CFI Block cfiPicker102 Using cfiCommon1
        CFI (cfiPicker102) NoFunction
        CFI (cfiPicker102) Picker
        INC	DPTR
        MOVX	A,@DPTR
        MOV	R1,A
        MOV	DPL,R6
        MOV	DPH,R7
        INC	DPTR
        INC	DPTR
        RET
        CFI EndBlock cfiCond100
        CFI EndBlock cfiCond101
        CFI EndBlock cfiPicker102
// 2424 #endif // ZDO_MATCH_REQUEST
// 2425 
// 2426 #if defined ( ZDO_ENDDEVICEBIND_REQUEST )
// 2427 /*********************************************************************
// 2428  * @fn      ZDApp_EndDeviceBindRsp()
// 2429  *
// 2430  * @brief
// 2431  *
// 2432  *   Called by ZDO when a End_Device_Bind_rsp message is received.
// 2433  *
// 2434  * @param  SrcAddr  - Source address
// 2435  * @param  Status - response status
// 2436  *
// 2437  * @return  none
// 2438  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2439 void ZDApp_EndDeviceBindRsp( zAddrType_t *SrcAddr, byte Status )
ZDApp_EndDeviceBindRsp:
        CFI Block cfiBlock103 Using cfiCommon0
        CFI Function ZDApp_EndDeviceBindRsp
// 2440 {
        FUNCALL ZDApp_EndDeviceBindRsp, HalLedSet
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        FUNCALL ZDApp_EndDeviceBindRsp, HalLedSet
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        PUSH	DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH	DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 2441 #if defined ( MT_ZDO_FUNC )
// 2442   /* First check if MT has subscribed for this callback. If so , pass it as
// 2443   a event to MonitorTest and return control to calling function after that */
// 2444   if ( _zdoCallbackSub & CB_ID_ZDO_END_DEVICE_BIND_RSP )
// 2445   {
// 2446     zdo_MTCB_BindRspCB( SPI_CB_ZDO_END_DEVICE_BIND_RSP, SrcAddr, Status );
// 2447     return;
// 2448   }
// 2449 #endif  //MT_ZDO_FUNC
// 2450 
// 2451   if ( Status == ZDP_SUCCESS )
        MOV	A,R1
        JNZ	??ZDApp_EndDeviceBindRsp_0
// 2452     HalLedSet ( HAL_LED_4, HAL_LED_MODE_ON );
        ; Setup parameters for call to function HalLedSet
        MOV	R2,#0x1
        SJMP	??ZDApp_EndDeviceBindRsp_1
// 2453 #if defined(BLINK_LEDS)
// 2454   else
// 2455     // Flash LED to show failure
// 2456     HalLedSet ( HAL_LED_4, HAL_LED_MODE_FLASH );
??ZDApp_EndDeviceBindRsp_0:
        ; Setup parameters for call to function HalLedSet
        MOV	R2,#0x4
??ZDApp_EndDeviceBindRsp_1:
        MOV	R1,#0x8
        MOV	DPTR,#(HalLedSet & 0xffff)
        MOV	A,#((HalLedSet >> 16) & 0xff)
        LJMP	??Subroutine29_0 & 0xFFFF
        CFI EndBlock cfiBlock103
// 2457 #endif
// 2458 
// 2459 #if defined( LCD_SUPPORTED )
// 2460   HalLcdWriteString( "End Device Bind", HAL_LCD_LINE_1 );
// 2461   if ( Status == ZDP_SUCCESS )
// 2462     HalLcdWriteString( "Rsp SUCCESS", HAL_LCD_LINE_2 );
// 2463   else if ( Status == ZDP_TIMEOUT )
// 2464     HalLcdWriteString( "Rsp Timeout", HAL_LCD_LINE_2 );
// 2465   else if ( Status == ZDP_NO_MATCH )
// 2466     HalLcdWriteString( "Rsp No Match", HAL_LCD_LINE_2 );
// 2467   else
// 2468     HalLcdWriteString( "Rsp Not Supported", HAL_LCD_LINE_2 );
// 2469 #endif  // LCD_SUPPORTED
// 2470 }

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine23:
        CFI Block cfiBlock104 Using cfiCommon0
        CFI NoFunction
        CFI CFA_SP SP+-5
        CFI CFA_XSP16 add(XSP16, 1)
        CFI DPL0 Frame(CFA_SP, 4)
        CFI DPH0 Frame(CFA_SP, 5)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,#0x1
        LCALL	?DEALLOC_XSTACK8
        CFI CFA_XSP16 XSP16+0
??Subroutine23_0:
        POP	DPH
        CFI CFA_SP SP+-4
        CFI DPH0 SameValue
        POP	DPL
        CFI CFA_SP SP+-3
        CFI DPL0 SameValue
        LJMP	?BRET
        CFI EndBlock cfiBlock104
// 2471 #endif // ZDO_ENDDEVICEBIND_REQUEST
// 2472 
// 2473 #if defined ( ZDO_BIND_UNBIND_REQUEST )
// 2474 /*********************************************************************
// 2475  * @fn      ZDApp_BindRsp()
// 2476  *
// 2477  * @brief
// 2478  *
// 2479  *   Called by ZDO when a Bind_rsp message is received.
// 2480  *
// 2481  * @param  SrcAddr  - Source address
// 2482  * @param  Status - response status
// 2483  *
// 2484  * @return  none
// 2485  */
// 2486 void ZDApp_BindRsp( zAddrType_t *SrcAddr, byte Status )
// 2487 {
// 2488   ZDO_BindRsp_t bindRsp;
// 2489 
// 2490 #if defined ( MT_ZDO_FUNC )
// 2491   /* First check if MT has subscribed for this callback. If so , pass it as
// 2492   a event to MonitorTest and return control to calling function after that */
// 2493   if ( _zdoCallbackSub & CB_ID_ZDO_BIND_RSP )
// 2494   {
// 2495     zdo_MTCB_BindRspCB( SPI_CB_ZDO_BIND_RSP, SrcAddr, Status );
// 2496     return;
// 2497   }
// 2498 #endif  //MT_ZDO_FUNC
// 2499 
// 2500   if ( ZDApp_BindUnbindRsp_TaskID != TASK_NO_TASK )
// 2501   {
// 2502     // Send the response structure to the registered task
// 2503     bindRsp.nwkAddr = SrcAddr->addr.shortAddr;
// 2504     bindRsp.status  = Status;
// 2505 
// 2506     ZDApp_SendMsg( ZDApp_BindUnbindRsp_TaskID,
// 2507                    ZDO_BIND_RESP,
// 2508                    sizeof(ZDO_BindRsp_t),
// 2509                    (byte*)(&bindRsp) );
// 2510   }
// 2511 }
// 2512 #endif // ZDO_BIND_UNBIND_REQUEST
// 2513 
// 2514 #if defined ( ZDO_BIND_UNBIND_REQUEST )
// 2515 /*********************************************************************
// 2516  * @fn      ZDApp_UnbindRsp()
// 2517  *
// 2518  * @brief
// 2519  *
// 2520  *   Called by ZDO when a Unbind_rsp message is received.
// 2521  *
// 2522  * @param  SrcAddr  - Source address
// 2523  * @param  Status - response status
// 2524  *
// 2525  * @return  none
// 2526  */
// 2527 void ZDApp_UnbindRsp( zAddrType_t *SrcAddr, byte Status )
// 2528 {
// 2529   ZDO_UnbindRsp_t unbindRsp;
// 2530 
// 2531 #if defined ( MT_ZDO_FUNC )
// 2532   /* First check if MT has subscribed for this callback. If so , pass it as
// 2533   a event to MonitorTest and return control to calling function after that */
// 2534   if ( _zdoCallbackSub & CB_ID_ZDO_UNBIND_RSP )
// 2535   {
// 2536     zdo_MTCB_BindRspCB( SPI_CB_ZDO_UNBIND_RSP, SrcAddr, Status );
// 2537     return;
// 2538   }
// 2539 #endif  //MT_ZDO_FUNC
// 2540 
// 2541   if ( ZDApp_BindUnbindRsp_TaskID != TASK_NO_TASK )
// 2542   {
// 2543     // Send the response structure to the registered task
// 2544     unbindRsp.nwkAddr = SrcAddr->addr.shortAddr;
// 2545     unbindRsp.status  = Status;
// 2546 
// 2547     ZDApp_SendMsg( ZDApp_BindUnbindRsp_TaskID,
// 2548                    ZDO_UNBIND_RESP,
// 2549                    sizeof(ZDO_UnbindRsp_t),
// 2550                    (byte*)(&unbindRsp) );
// 2551   }
// 2552 }
// 2553 #endif // ZDO_BIND_UNBIND_REQUEST
// 2554 
// 2555 /*********************************************************************
// 2556  * Call Back Functions from NWK  - API
// 2557  */
// 2558 
// 2559 /*********************************************************************
// 2560  * @fn          ZDO_NetworkDiscoveryConfirmCB
// 2561  *
// 2562  * @brief       This function returns a choice of PAN to join.
// 2563  *
// 2564  * @param       ResultCount - Number of routers discovered
// 2565  * @param               NetworkList - Pointer to list of network descriptors
// 2566  *
// 2567  * @return      ZStatus_t
// 2568  */
// 2569 #define STACK_PROFILE_MAX 2

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2570 ZStatus_t ZDO_NetworkDiscoveryConfirmCB( byte ResultCount,
ZDO_NetworkDiscoveryConfirmCB:
        CFI Block cfiBlock105 Using cfiCommon0
        CFI Function ZDO_NetworkDiscoveryConfirmCB
// 2571                                          networkDesc_t *NetworkList )
// 2572 {
        FUNCALL ZDO_NetworkDiscoveryConfirmCB, NLME_GetProtocolVersion
        LOCFRAME XSTACK, 27, STACK
        ARGFRAME XSTACK, 27, STACK
        FUNCALL ZDO_NetworkDiscoveryConfirmCB, NLME_SetRequest
        LOCFRAME XSTACK, 27, STACK
        ARGFRAME XSTACK, 27, STACK
        FUNCALL ZDO_NetworkDiscoveryConfirmCB, osal_start_timerEx
        LOCFRAME XSTACK, 27, STACK
        ARGFRAME XSTACK, 27, STACK
        FUNCALL ZDO_NetworkDiscoveryConfirmCB, osal_cpyExtAddr
        LOCFRAME XSTACK, 27, STACK
        ARGFRAME XSTACK, 27, STACK
        FUNCALL ZDO_NetworkDiscoveryConfirmCB, ZDApp_SendMsg
        LOCFRAME XSTACK, 27, STACK
        ARGFRAME XSTACK, 27, STACK
        MOV	A,#-0xd
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 13)
        ; Saved register size: 13
        ; Auto size: 14
        MOV	A,#-0xe
        LCALL	?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 27)
        MOV	A,R1
        MOV	R4,A
// 2573   networkDesc_t *pNwkDesc;
// 2574   ZDO_NetworkDiscoveryCfm_t msg;
// 2575   byte  i, j;
// 2576   uint8 stackProfile;
// 2577   uint8 stackProfilePro;
// 2578   uint8 selected;
// 2579 
// 2580 #if defined ( ZDO_MGMT_NWKDISC_RESPONSE )
// 2581   if ( zdappMgmtNwkDiscReqInProgress )
// 2582   {
// 2583     zdappMgmtNwkDiscReqInProgress = false;
// 2584     ZDO_FinishProcessingMgmtNwkDiscReq( ResultCount, NetworkList );
// 2585     return ( ZSuccess );
// 2586   }
// 2587 #endif
// 2588 
// 2589   // process discovery results
// 2590   stackProfilePro = FALSE;
        MOV	?V0 + 1,#0x0
// 2591   selected = FALSE;
// 2592 
// 2593   for ( stackProfile = 0; stackProfile < STACK_PROFILE_MAX; stackProfile++ )
        MOV	R5,#0x0
// 2594   {
// 2595     for ( j = 0; j < (sizeof(sPVerList)/sizeof(sPVerList[0])); ++j )
??ZDO_NetworkDiscoveryConfirmCB_0:
        MOV	?V0 + 0,#0x0
// 2596     {
// 2597       pNwkDesc = NetworkList;
??ZDO_NetworkDiscoveryConfirmCB_1:
        MOV	A,R2
        MOV	R6,A
        MOV	A,R3
        MOV	R7,A
// 2598       for ( i = 0; i < ResultCount; i++, pNwkDesc = pNwkDesc->nextDesc )
        MOV	?V0 + 4,#0x0
        LJMP	??ZDO_NetworkDiscoveryConfirmCB_2 & 0xFFFF
// 2599       {
// 2600         if ( zgConfigPANID != 0xFFFF )
??ZDO_NetworkDiscoveryConfirmCB_3:
        MOV	DPTR,#zgConfigPANID
        MOVX	A,@DPTR
        XRL	A,#0xff
        JNZ	??ZDO_NetworkDiscoveryConfirmCB_4
        INC	DPTR
        MOVX	A,@DPTR
        XRL	A,#0xff
??ZDO_NetworkDiscoveryConfirmCB_4:
        JZ	??ZDO_NetworkDiscoveryConfirmCB_5
// 2601         {
// 2602           // PAN Id is preconfigured. check if it matches
// 2603           // only 14 bits of pan id is used
// 2604           if ( pNwkDesc->panId != ( zgConfigPANID & 0x3FFF ) )
        MOV	DPTR,#zgConfigPANID
        MOVX	A,@DPTR
        MOV	R0,A
        INC	DPTR
        MOVX	A,@DPTR
        ANL	A,#0x3f
        MOV	R1,A
        MOV	DPH,R7
        MOV	DPL,R6
        MOVX	A,@DPTR
        XRL	A,R0
        JNZ	??ZDO_NetworkDiscoveryConfirmCB_6
        INC	DPTR
        MOVX	A,@DPTR
        XRL	A,R1
??ZDO_NetworkDiscoveryConfirmCB_6:
        JNZ	??ZDO_NetworkDiscoveryConfirmCB_7
// 2605             continue;
// 2606           #if !defined ( DEF_PROTO_VERS )
// 2607           // If the macro was not defined ensure we join the version supported by
// 2608           // this PAN by forcing a match below. We need this statement because we
// 2609           // want to (possibly) override the NV value if the PAN was pre-defined.
// 2610           // See App Note 026.
// 2611           sPVerList[j] = pNwkDesc->version;
        MOV	DPL,R6
        MOV	DPH,R7
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        MOVX	A,@DPTR
        PUSH	A
        CFI CFA_SP SP+-1
        LCALL	?Subroutine21 & 0xFFFF
??CrossCallReturnLabel_48:
        POP	A
        CFI CFA_SP SP+0
        MOVX	@DPTR,A
// 2612           #endif
// 2613         }
// 2614 
// 2615         // check that network is allowing joining
// 2616         //------------------------------------------------------------
// 2617         #if defined( RTR_NWK )
// 2618         //------------------------------------------------------------
// 2619         if ( stackProfilePro == FALSE )
// 2620         {
// 2621           if ( !pNwkDesc->routerCapacity )
// 2622           {
// 2623             continue;
// 2624           }
// 2625         }
// 2626         else
// 2627         {
// 2628           if ( !pNwkDesc->deviceCapacity )
// 2629           {
// 2630             continue;
// 2631           }
// 2632         }
// 2633         //------------------------------------------------------------
// 2634         #else
// 2635         //------------------------------------------------------------
// 2636         if ( !pNwkDesc->deviceCapacity )
??ZDO_NetworkDiscoveryConfirmCB_5:
        MOV	DPL,R6
        MOV	DPH,R7
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        MOVX	A,@DPTR
        JZ	??ZDO_NetworkDiscoveryConfirmCB_7
// 2637         {
// 2638           continue;
// 2639         }
// 2640         //------------------------------------------------------------
// 2641         #endif
// 2642         //------------------------------------------------------------
// 2643 
// 2644         // check version of zigbee protocol
// 2645         if ( pNwkDesc->version != sPVerList[j] )
        MOV	DPL,R6
        MOV	DPH,R7
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        MOVX	A,@DPTR
        MOV	R0,A
        LCALL	?Subroutine15 & 0xFFFF
??CrossCallReturnLabel_31:
        XRL	A,R0
        JNZ	??ZDO_NetworkDiscoveryConfirmCB_7
// 2646           continue;
// 2647 
// 2648         // check version of stack profile
// 2649         if ( pNwkDesc->stackProfile != zgStackProfile )
        MOV	DPL,R6
        MOV	DPH,R7
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        MOVX	A,@DPTR
        MOV	R0,A
        MOV	DPTR,#zgStackProfile
        MOVX	A,@DPTR
        XRL	A,R0
        JZ	??ZDO_NetworkDiscoveryConfirmCB_8
// 2650         {
// 2651           stackProfilePro = TRUE;
        MOV	?V0 + 1,#0x1
// 2652 
// 2653           if ( stackProfile == 0 )
        MOV	A,R5
        JNZ	??ZDO_NetworkDiscoveryConfirmCB_8
// 2654           {
// 2655             continue;
// 2656           }
// 2657         }
// 2658 
// 2659         // check if beacon order is the right value..
// 2660     //  if ( pNwkDesc->beaconOrder < ZDO_CONFIG_MAX_BO )
// 2661     //    continue;
// 2662 
// 2663         // choose this pan for joining
// 2664         break;
// 2665       }
??ZDO_NetworkDiscoveryConfirmCB_7:
        INC	?V0 + 4
        MOV	A,R6
        ADD	A,#0x14
        MOV	DPL,A
        MOV	A,R7
        LCALL	??Subroutine16_0 & 0xFFFF
??CrossCallReturnLabel_37:
        MOVX	A,@DPTR
        MOV	R6,A
        INC	DPTR
        MOVX	A,@DPTR
        MOV	R7,A
??ZDO_NetworkDiscoveryConfirmCB_2:
        MOV	A,?V0 + 4
        CLR	C
        SUBB	A,R4
        JNC	$+5
        LJMP	??ZDO_NetworkDiscoveryConfirmCB_3 & 0xFFFF
// 2666       if (i < ResultCount)
// 2667       {
// 2668         selected = TRUE;
// 2669         break;
// 2670       }
// 2671     }
        INC	?V0 + 0
        MOV	A,?V0 + 0
        CLR	C
        SUBB	A,#0x2
        JNC	$+5
        LJMP	??ZDO_NetworkDiscoveryConfirmCB_1 & 0xFFFF
// 2672 
// 2673     // break if selected or stack profile pro wasn't found
// 2674     if ( (selected == TRUE) || (stackProfilePro == FALSE) )
        MOV	A,?V0 + 1
        JZ	??ZDO_NetworkDiscoveryConfirmCB_9
// 2675     {
// 2676       break;
// 2677     }
// 2678   }
        INC	R5
        MOV	A,R5
        CLR	C
        SUBB	A,#0x2
        JNC	$+5
        LJMP	??ZDO_NetworkDiscoveryConfirmCB_0 & 0xFFFF
// 2679 
// 2680   if ( i == ResultCount )
??ZDO_NetworkDiscoveryConfirmCB_9:
        MOV	A,R4
        XRL	A,?V0 + 4
        JNZ	??ZDO_NetworkDiscoveryConfirmCB_8
// 2681   {
// 2682     msg.hdr.status = ZDO_FAIL;   // couldn't find appropriate PAN to join !
        MOV	A,#0x1
        LCALL	?XSTACK_DISP0_8
        MOV	A,#0x1
        MOVX	@DPTR,A
        LJMP	??ZDO_NetworkDiscoveryConfirmCB_10 & 0xFFFF
// 2683   }
// 2684   else
// 2685   {
// 2686     // (possibly) reset NV network version we're running under.
// 2687     if (NLME_GetProtocolVersion() != sPVerList[j])
??ZDO_NetworkDiscoveryConfirmCB_8:
        ; Setup parameters for call to function NLME_GetProtocolVersion
        MOV	DPTR,#(NLME_GetProtocolVersion & 0xffff)
        MOV	A,#((NLME_GetProtocolVersion >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,R1
        MOV	R2,A
        LCALL	?Subroutine15 & 0xFFFF
??CrossCallReturnLabel_32:
        XRL	A,R2
        JZ	??ZDO_NetworkDiscoveryConfirmCB_11
// 2688     {
// 2689       NLME_SetRequest(nwkProtocolVersion, 0, &sPVerList[j]);
        ; Setup parameters for call to function NLME_SetRequest
        MOV	A,?V0 + 0
        ADD	A,#(??sPVerList & 0xff)
        MOV	R4,A
        CLR	A
        ADDC	A,#((??sPVerList >> 8) & 0xff)
        MOV	R5,A
        MOV	R2,#0x0
        MOV	R3,#0x0
        MOV	R1,#-0x68
        MOV	DPTR,#(NLME_SetRequest & 0xffff)
        MOV	A,#((NLME_SetRequest >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
// 2690       // make sure we update NV
// 2691       osal_start_timerEx( ZDAppTaskID, ZDO_NWK_UPDATE_NV, 1000 );
        ; Setup parameters for call to function osal_start_timerEx
        MOV	R4,#-0x18
        MOV	R5,#0x3
        LCALL	??Subroutine5_0 & 0xFFFF
??CrossCallReturnLabel_10:
        LCALL	?BCALL               ; Banked call to: DPTR()
// 2692     }
// 2693 
// 2694     msg.hdr.status = ZDO_SUCCESS;
??ZDO_NetworkDiscoveryConfirmCB_11:
        MOV	A,#0x1
        LCALL	?XSTACK_DISP0_8
        CLR	A
        MOVX	@DPTR,A
// 2695     msg.panIdLSB = LO_UINT16( pNwkDesc->panId );
        MOV	DPL,R6
        MOV	DPH,R7
        MOVX	A,@DPTR
        PUSH	A
        CFI CFA_SP SP+-1
        MOV	A,#0x2
        LCALL	?XSTACK_DISP0_8
        POP	A
        CFI CFA_SP SP+0
        LCALL	?Subroutine18 & 0xFFFF
// 2696     msg.panIdMSB = HI_UINT16( pNwkDesc->panId );
??CrossCallReturnLabel_42:
        MOVX	A,@DPTR
        PUSH	A
        CFI CFA_SP SP+-1
        MOV	A,#0x3
        LCALL	?XSTACK_DISP0_8
        POP	A
        CFI CFA_SP SP+0
        LCALL	?Subroutine18 & 0xFFFF
// 2697     msg.logicalChannel = pNwkDesc->logicalChannel;
??CrossCallReturnLabel_43:
        INC	DPTR
        MOVX	A,@DPTR
        PUSH	A
        CFI CFA_SP SP+-1
        MOV	A,#0x4
        LCALL	?XSTACK_DISP0_8
        POP	A
        CFI CFA_SP SP+0
        LCALL	?Subroutine4 & 0xFFFF
// 2698     msg.version = pNwkDesc->version;
??CrossCallReturnLabel_7:
        INC	DPTR
        INC	DPTR
        INC	DPTR
        MOVX	A,@DPTR
        PUSH	A
        CFI CFA_SP SP+-1
        MOV	A,#0x5
        LCALL	?XSTACK_DISP0_8
        POP	A
        CFI CFA_SP SP+0
        MOVX	@DPTR,A
// 2699     osal_cpyExtAddr( msg.extendedPANID, pNwkDesc->extendedPANID );
        ; Setup parameters for call to function osal_cpyExtAddr
        MOV	A,R6
        ADD	A,#0xc
        MOV	R4,A
        MOV	A,R7
        ADDC	A,#0x0
        MOV	R5,A
        MOV	A,#0x6
        LCALL	?XSTACK_DISP0_8
        MOV	R2,DPL
        MOV	R3,DPH
        MOV	DPTR,#(osal_cpyExtAddr & 0xffff)
        MOV	A,#((osal_cpyExtAddr >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
// 2700   }
// 2701 
// 2702   ZDApp_SendMsg( ZDAppTaskID, ZDO_NWK_DISC_CNF, sizeof(ZDO_NetworkDiscoveryCfm_t), (byte *)&msg );
??ZDO_NetworkDiscoveryConfirmCB_10:
        ; Setup parameters for call to function ZDApp_SendMsg
        MOV	DPL,?XSP + 0
        MOV	DPH,?XSP + 1
        MOV	R4,DPL
        MOV	R5,DPH
        MOV	R3,#0xe
        MOV	R2,#0x1
        LCALL	?Subroutine6 & 0xFFFF
??CrossCallReturnLabel_61:
        LCALL	?BCALL               ; Banked call to: DPTR()
// 2703 
// 2704   return (ZSuccess);
        MOV	R1,#0x0
        MOV	A,#0xe
        LCALL	?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 13)
        MOV	R7,#0x5
        LJMP	?BANKED_LEAVE_XDATA
        CFI EndBlock cfiBlock105
// 2705 }  // ZDO_NetworkDiscoveryConfirmCB

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine15:
        CFI Block cfiCond106 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_31
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 27)
        CFI Block cfiCond107 Using cfiCommon0
        CFI (cfiCond107) NoFunction
        CFI (cfiCond107) Conditional ??CrossCallReturnLabel_32
        CFI (cfiCond107) R6 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond107) VB load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond107) V0 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond107) V1 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond107) V2 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond107) V3 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond107) V4 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond107) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond107) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond107) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond107) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond107) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond107) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond107) CFA_SP SP+0
        CFI (cfiCond107) CFA_XSP16 add(XSP16, 27)
        CFI Block cfiPicker108 Using cfiCommon1
        CFI (cfiPicker108) NoFunction
        CFI (cfiPicker108) Picker
        LCALL	?Subroutine21 & 0xFFFF
??CrossCallReturnLabel_49:
        MOVX	A,@DPTR
        RET
        CFI EndBlock cfiCond106
        CFI EndBlock cfiCond107
        CFI EndBlock cfiPicker108

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine21:
        CFI Block cfiCond109 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_49, ??CrossCallReturnLabel_32
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 27)
        CFI Block cfiCond110 Using cfiCommon0
        CFI (cfiCond110) NoFunction
        CFI (cfiCond110) Conditional ??CrossCallReturnLabel_48
        CFI (cfiCond110) R6 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond110) VB load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond110) V0 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond110) V1 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond110) V2 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond110) V3 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond110) V4 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond110) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond110) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond110) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond110) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond110) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond110) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond110) CFA_SP SP+-1
        CFI (cfiCond110) CFA_XSP16 add(XSP16, 27)
        CFI Block cfiCond111 Using cfiCommon0
        CFI (cfiCond111) NoFunction
        CFI (cfiCond111) Conditional ??CrossCallReturnLabel_49, ??CrossCallReturnLabel_31
        CFI (cfiCond111) R6 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond111) VB load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond111) V0 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond111) V1 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond111) V2 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond111) V3 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond111) V4 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond111) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond111) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond111) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond111) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond111) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond111) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond111) CFA_SP SP+0
        CFI (cfiCond111) CFA_XSP16 add(XSP16, 27)
        CFI Block cfiPicker112 Using cfiCommon1
        CFI (cfiPicker112) NoFunction
        CFI (cfiPicker112) Picker
        MOV	?V0 + 2,?V0 + 0
        MOV	A,?V0 + 2
        ADD	A,#(??sPVerList & 0xff)
        MOV	DPL,A
        CLR	A
        ADDC	A,#((??sPVerList >> 8) & 0xff)
        MOV	DPH,A
        RET
        CFI EndBlock cfiCond109
        CFI EndBlock cfiCond110
        CFI EndBlock cfiCond111
        CFI EndBlock cfiPicker112

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine6:
        CFI Block cfiCond113 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??Subroutine29_0
        CFI DPL0 Frame(CFA_SP, 4)
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        CFI Block cfiCond114 Using cfiCommon0
        CFI (cfiCond114) NoFunction
        CFI (cfiCond114) Conditional ??Subroutine29_0
        CFI (cfiCond114) DPL0 Frame(CFA_SP, 4)
        CFI (cfiCond114) DPH0 Frame(CFA_SP, 5)
        CFI (cfiCond114) CFA_SP SP+-5
        CFI Block cfiCond115 Using cfiCommon0
        CFI (cfiCond115) NoFunction
        CFI (cfiCond115) Conditional ??CrossCallReturnLabel_62
        CFI (cfiCond115) DPL0 Frame(CFA_SP, 4)
        CFI (cfiCond115) DPH0 Frame(CFA_SP, 5)
        CFI (cfiCond115) CFA_SP SP+-5
        CFI Block cfiCond116 Using cfiCommon0
        CFI (cfiCond116) NoFunction
        CFI (cfiCond116) Conditional ??CrossCallReturnLabel_61
        CFI (cfiCond116) R6 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond116) VB load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond116) V0 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond116) V1 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond116) V2 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond116) V3 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond116) V4 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond116) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond116) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond116) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond116) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond116) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond116) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond116) CFA_SP SP+0
        CFI (cfiCond116) CFA_XSP16 add(XSP16, 27)
        CFI Block cfiPicker117 Using cfiCommon1
        CFI (cfiPicker117) NoFunction
        CFI (cfiPicker117) Picker
        MOV	DPTR,#ZDAppTaskID
        CFI Block cfiCond118 Using cfiCommon0
        CFI (cfiCond118) NoFunction
        CFI (cfiCond118) Conditional ??CrossCallReturnLabel_63
        CFI (cfiCond118) R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond118) VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond118) V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond118) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond118) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond118) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond118) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond118) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond118) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond118) CFA_SP SP+0
        CFI (cfiCond118) CFA_XSP16 add(XSP16, 24)
??Subroutine6_0:
        MOVX	A,@DPTR
        MOV	R1,A
        MOV	DPTR,#(ZDApp_SendMsg & 0xffff)
        MOV	A,#((ZDApp_SendMsg >> 16) & 0xff)
        RET
        CFI EndBlock cfiCond113
        CFI EndBlock cfiCond114
        CFI EndBlock cfiCond115
        CFI EndBlock cfiCond116
        CFI EndBlock cfiPicker117
        CFI EndBlock cfiCond118

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine5:
        CFI Block cfiCond119 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_8
        CFI DPL0 Frame(CFA_SP, 4)
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        CFI Block cfiCond120 Using cfiCommon0
        CFI (cfiCond120) NoFunction
        CFI (cfiCond120) Conditional ??CrossCallReturnLabel_9
        CFI (cfiCond120) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond120) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond120) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond120) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond120) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond120) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond120) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond120) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond120) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond120) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond120) CFA_SP SP+0
        CFI (cfiCond120) CFA_XSP16 add(XSP16, 10)
        CFI Block cfiPicker121 Using cfiCommon1
        CFI (cfiPicker121) NoFunction
        CFI (cfiPicker121) Picker
        MOV	R4,#0x64
        MOV	R5,#0x0
        CFI Block cfiCond122 Using cfiCommon0
        CFI (cfiCond122) NoFunction
        CFI (cfiCond122) Conditional ??CrossCallReturnLabel_10
        CFI (cfiCond122) R6 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond122) VB load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond122) V0 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond122) V1 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond122) V2 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond122) V3 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond122) V4 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond122) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond122) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond122) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond122) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond122) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond122) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond122) CFA_SP SP+0
        CFI (cfiCond122) CFA_XSP16 add(XSP16, 27)
??Subroutine5_0:
        MOV	R2,#0x0
        MOV	R3,#0x2
        CFI Block cfiCond123 Using cfiCommon0
        CFI (cfiCond123) NoFunction
        CFI (cfiCond123) Conditional ??CrossCallReturnLabel_12
        CFI (cfiCond123) DPL0 Frame(CFA_SP, 4)
        CFI (cfiCond123) DPH0 Frame(CFA_SP, 5)
        CFI (cfiCond123) CFA_SP SP+-5
        CFI Block cfiCond124 Using cfiCommon0
        CFI (cfiCond124) NoFunction
        CFI (cfiCond124) Conditional ??CrossCallReturnLabel_11
        CFI (cfiCond124) DPL0 Frame(CFA_SP, 4)
        CFI (cfiCond124) DPH0 Frame(CFA_SP, 5)
        CFI (cfiCond124) CFA_SP SP+-5
??Subroutine5_1:
        MOV	DPTR,#ZDAppTaskID
        MOVX	A,@DPTR
        MOV	R1,A
        MOV	DPTR,#(osal_start_timerEx & 0xffff)
        MOV	A,#((osal_start_timerEx >> 16) & 0xff)
        RET
        CFI EndBlock cfiCond119
        CFI EndBlock cfiCond120
        CFI EndBlock cfiPicker121
        CFI EndBlock cfiCond122
        CFI EndBlock cfiCond123
        CFI EndBlock cfiCond124

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine4:
        CFI Block cfiCond125 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_6
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 16)
        CFI Block cfiCond126 Using cfiCommon0
        CFI (cfiCond126) NoFunction
        CFI (cfiCond126) Conditional ??CrossCallReturnLabel_7
        CFI (cfiCond126) R6 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond126) VB load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond126) V0 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond126) V1 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond126) V2 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond126) V3 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond126) V4 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond126) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond126) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond126) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond126) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond126) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond126) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond126) CFA_SP SP+0
        CFI (cfiCond126) CFA_XSP16 add(XSP16, 27)
        CFI Block cfiPicker127 Using cfiCommon1
        CFI (cfiPicker127) NoFunction
        CFI (cfiPicker127) Picker
        LCALL	?Subroutine18 & 0xFFFF
??CrossCallReturnLabel_44:
        INC	DPTR
        INC	DPTR
        INC	DPTR
        RET
        CFI EndBlock cfiCond125
        CFI EndBlock cfiCond126
        CFI EndBlock cfiPicker127

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine18:
        CFI Block cfiCond128 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_44, ??CrossCallReturnLabel_6
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 16)
        CFI Block cfiCond129 Using cfiCommon0
        CFI (cfiCond129) NoFunction
        CFI (cfiCond129) Conditional ??CrossCallReturnLabel_44, ??CrossCallReturnLabel_7
        CFI (cfiCond129) R6 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond129) VB load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond129) V0 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond129) V1 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond129) V2 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond129) V3 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond129) V4 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond129) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond129) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond129) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond129) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond129) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond129) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond129) CFA_SP SP+0
        CFI (cfiCond129) CFA_XSP16 add(XSP16, 27)
        CFI Block cfiCond130 Using cfiCommon0
        CFI (cfiCond130) NoFunction
        CFI (cfiCond130) Conditional ??CrossCallReturnLabel_42
        CFI (cfiCond130) R6 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond130) VB load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond130) V0 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond130) V1 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond130) V2 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond130) V3 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond130) V4 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond130) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond130) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond130) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond130) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond130) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond130) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond130) CFA_SP SP+0
        CFI (cfiCond130) CFA_XSP16 add(XSP16, 27)
        CFI Block cfiCond131 Using cfiCommon0
        CFI (cfiCond131) NoFunction
        CFI (cfiCond131) Conditional ??CrossCallReturnLabel_43
        CFI (cfiCond131) R6 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond131) VB load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond131) V0 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond131) V1 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond131) V2 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond131) V3 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond131) V4 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond131) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond131) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond131) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond131) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond131) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond131) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond131) CFA_SP SP+0
        CFI (cfiCond131) CFA_XSP16 add(XSP16, 27)
        CFI Block cfiPicker132 Using cfiCommon1
        CFI (cfiPicker132) NoFunction
        CFI (cfiPicker132) Picker
        MOVX	@DPTR,A
        MOV	DPL,R6
        MOV	DPH,R7
        INC	DPTR
        RET
        CFI EndBlock cfiCond128
        CFI EndBlock cfiCond129
        CFI EndBlock cfiCond130
        CFI EndBlock cfiCond131
        CFI EndBlock cfiPicker132
// 2706 
// 2707 /*********************************************************************
// 2708  * @fn          ZDO_NetworkFormationConfirmCB
// 2709  *
// 2710  * @brief       This function reports the results of the request to
// 2711  *              initialize a coordinator in a network.
// 2712  *
// 2713  * @param       Status - Result of NLME_NetworkFormationRequest()
// 2714  *
// 2715  * @return      none
// 2716  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2717 void ZDO_NetworkFormationConfirmCB( ZStatus_t Status )
ZDO_NetworkFormationConfirmCB:
        CFI Block cfiBlock133 Using cfiCommon0
        CFI Function ZDO_NetworkFormationConfirmCB
// 2718 {
        ; Saved register size: 0
        ; Auto size: 0
// 2719 #if defined(ZDO_COORDINATOR)
// 2720   nwkStatus = (byte)Status;
// 2721 
// 2722   if ( Status == ZSUCCESS )
// 2723   {
// 2724     // LED on shows Coordinator started
// 2725     HalLedSet ( HAL_LED_3, HAL_LED_MODE_ON );
// 2726 
// 2727     // LED off forgets HOLD_AUTO_START
// 2728     HalLedSet (HAL_LED_4, HAL_LED_MODE_OFF);
// 2729 
// 2730 #if defined ( ZBIT )
// 2731     SIM_SetColor(0xd0ffd0);
// 2732 #endif
// 2733 
// 2734     if ( devState == DEV_HOLD )
// 2735     {
// 2736       // Began with HOLD_AUTO_START
// 2737       devState = DEV_COORD_STARTING;
// 2738     }
// 2739   }
// 2740 #if defined(BLINK_LEDS)
// 2741   else
// 2742     HalLedSet ( HAL_LED_3, HAL_LED_MODE_FLASH );  // Flash LED to show failure
// 2743 #endif
// 2744 
// 2745   osal_set_event( ZDAppTaskID, ZDO_NETWORK_START );
// 2746 #endif  //ZDO_COORDINATOR
// 2747 }
        LJMP	?BRET
        CFI EndBlock cfiBlock133
// 2748 
// 2749 #if defined(RTR_NWK)
// 2750 /*********************************************************************
// 2751  * @fn          ZDO_StartRouterConfirmCB
// 2752  *
// 2753  * @brief       This function reports the results of the request to
// 2754  *              start functioning as a router in a network.
// 2755  *
// 2756  * @param       Status - Result of NLME_StartRouterRequest()
// 2757  *
// 2758  * @return      none
// 2759  */
// 2760 void ZDO_StartRouterConfirmCB( ZStatus_t Status )
// 2761 {
// 2762   nwkStatus = (byte)Status;
// 2763 
// 2764   if ( Status == ZSUCCESS )
// 2765   {
// 2766     // LED on shows Router started
// 2767     HalLedSet ( HAL_LED_3, HAL_LED_MODE_ON );
// 2768     // LED off forgets HOLD_AUTO_START
// 2769     HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF);
// 2770     if ( devState == DEV_HOLD )
// 2771     {
// 2772       // Began with HOLD_AUTO_START
// 2773       devState = DEV_END_DEVICE;
// 2774     }
// 2775   }
// 2776 #if defined(BLINK_LEDS)
// 2777   else
// 2778     HalLedSet( HAL_LED_3, HAL_LED_MODE_FLASH );  // Flash LED to show failure
// 2779 #endif
// 2780 
// 2781   osal_set_event( ZDAppTaskID, ZDO_ROUTER_START );
// 2782 }
// 2783 #endif  //RTR_NWK
// 2784 
// 2785 /*********************************************************************
// 2786  * @fn          ZDO_JoinConfirmCB
// 2787  *
// 2788  * @brief       This function allows the next hight layer to be notified
// 2789  *              of the results of its request to join itself or another
// 2790  *              device to a network.
// 2791  *
// 2792  * @param       Status - Result of NLME_JoinRequest()
// 2793  *
// 2794  * @return      none
// 2795  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2796 void ZDO_JoinConfirmCB( uint16 PanId, ZStatus_t Status )
ZDO_JoinConfirmCB:
        CFI Block cfiBlock134 Using cfiCommon0
        CFI Function ZDO_JoinConfirmCB
// 2797 {
        FUNCALL ZDO_JoinConfirmCB, HalLedSet
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        FUNCALL ZDO_JoinConfirmCB, HalLedSet
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        FUNCALL ZDO_JoinConfirmCB, osal_start_timerEx
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        FUNCALL ZDO_JoinConfirmCB, HalLedSet
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        FUNCALL ZDO_JoinConfirmCB, ZDApp_SendMsg
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        PUSH	DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH	DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 2798   nwkStatus = (byte)Status;
        MOV	A,R1
        MOV	DPTR,#nwkStatus
        MOVX	@DPTR,A
// 2799 
// 2800   if ( Status == ZSUCCESS )
        JNZ	??ZDO_JoinConfirmCB_0
// 2801   {
// 2802     // LED on shows device joined
// 2803     HalLedSet ( HAL_LED_3, HAL_LED_MODE_ON );
        ; Setup parameters for call to function HalLedSet
        MOV	R2,#0x1
        MOV	R1,#0x4
        MOV	DPTR,#(HalLedSet & 0xffff)
        MOV	A,#((HalLedSet >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
// 2804     // LED off forgets HOLD_AUTO_START
// 2805     HalLedSet ( HAL_LED_4, HAL_LED_MODE_OFF);
        ; Setup parameters for call to function HalLedSet
        MOV	R2,#0x0
        MOV	R1,#0x8
        MOV	A,#((HalLedSet >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
// 2806     if ( (devState == DEV_HOLD) )
        MOV	DPTR,#devState
        MOVX	A,@DPTR
        JNZ	??ZDO_JoinConfirmCB_1
// 2807     {
// 2808       // Began with HOLD_AUTO_START
// 2809       devState = DEV_NWK_JOINING;
        MOV	A,#0x3
        MOVX	@DPTR,A
// 2810     }
// 2811 #if !  ( SECURE != 0  )
// 2812     // Notify to save info into NV
// 2813     osal_start_timerEx( ZDAppTaskID, ZDO_NWK_UPDATE_NV, 100 );
??ZDO_JoinConfirmCB_1:
        ; Setup parameters for call to function osal_start_timerEx
        LCALL	?Subroutine5 & 0xFFFF
??CrossCallReturnLabel_8:
        SJMP	??ZDO_JoinConfirmCB_2
// 2814 #endif
// 2815   }
// 2816 #if defined(BLINK_LEDS)
// 2817   else
// 2818     HalLedSet ( HAL_LED_3, HAL_LED_MODE_FLASH );  // Flash LED to show failure
??ZDO_JoinConfirmCB_0:
        ; Setup parameters for call to function HalLedSet
        MOV	R2,#0x4
        MOV	R1,#0x4
        MOV	DPTR,#(HalLedSet & 0xffff)
        MOV	A,#((HalLedSet >> 16) & 0xff)
??ZDO_JoinConfirmCB_2:
        LCALL	?BCALL               ; Banked call to: DPTR()
// 2819 #endif
// 2820 
// 2821   // Notify ZDApp
// 2822   ZDApp_SendMsg( ZDAppTaskID, ZDO_NWK_JOIN_IND, sizeof(osal_event_hdr_t), (byte*)NULL );
        ; Setup parameters for call to function ZDApp_SendMsg
        MOV	R4,#0x0
        MOV	R5,#0x0
        MOV	R3,#0x2
        MOV	R2,#0x2
        LJMP	?Subroutine29 & 0xFFFF
        CFI EndBlock cfiBlock134
// 2823 }
// 2824 
// 2825 /*********************************************************************
// 2826  * @fn          ZDO_JoinIndicationCB
// 2827  *
// 2828  * @brief       This function allows the next higher layer of a
// 2829  *              coordinator to be notified of a remote join request.
// 2830  *
// 2831  * @param       ShortAddress - 16-bit address
// 2832  * @param       ExtendedAddress - IEEE (64-bit) address
// 2833  * @param       CapabilityInformation - Association Capability Information
// 2834  *
// 2835  * @return      ZStatus_t
// 2836  */
// 2837 #if defined(RTR_NWK)
// 2838 ZStatus_t ZDO_JoinIndicationCB( uint16 ShortAddress, byte *ExtendedAddress,
// 2839                                          byte CapabilityInformation )
// 2840 {
// 2841 #if defined (AUTO_SOFT_START)
// 2842     ZDX_PostCoordinatorIEEE(ShortAddress);
// 2843 #endif
// 2844 
// 2845   // Notify to save info into NV
// 2846   osal_start_timerEx( ZDAppTaskID, ZDO_NWK_UPDATE_NV, 1000 );
// 2847 
// 2848 #if   ( SECURE != 0  )
// 2849   // send notification to TC of new device..
// 2850   if ( _NIB.SecurityLevel )
// 2851     osal_start_timerEx( ZDAppTaskID, ZDO_NEW_DEVICE, 600 );
// 2852 #endif  // SECURE
// 2853 
// 2854   return ( ZSuccess );
// 2855 }
// 2856 #endif  //RTR_NWK
// 2857 
// 2858 /*********************************************************************
// 2859  * @fn          ZDO_LeaveCnf
// 2860  *
// 2861  * @brief       This function allows the next higher layer to be
// 2862  *              notified of the results of its request for this or
// 2863  *              a child device to leave the network.
// 2864  *
// 2865  * @param       cnf - NLME_LeaveCnf_t
// 2866  *
// 2867  * @return      none
// 2868  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2869 void ZDO_LeaveCnf( NLME_LeaveCnf_t* cnf )
ZDO_LeaveCnf:
        CFI Block cfiBlock135 Using cfiCommon0
        CFI Function ZDO_LeaveCnf
// 2870 {
        FUNCALL ZDO_LeaveCnf, NLME_GetExtAddr
        LOCFRAME XSTACK, 9, STACK
        ARGFRAME XSTACK, 9, STACK
        FUNCALL ZDO_LeaveCnf, osal_ExtAddrEqual
        LOCFRAME XSTACK, 9, STACK
        ARGFRAME XSTACK, 9, STACK
        FUNCALL ZDO_LeaveCnf, ZDApp_LeaveReset
        LOCFRAME XSTACK, 9, STACK
        ARGFRAME XSTACK, 9, STACK
        MOV	A,#-0x9
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 0
        MOV	A,R2
        MOV	R6,A
        MOV	A,R3
        MOV	R7,A
// 2871   // Check for this device
// 2872   if ( osal_ExtAddrEqual( cnf->extAddr,
// 2873                           NLME_GetExtAddr() ) == TRUE )
        ; Setup parameters for call to function osal_ExtAddrEqual
        ; Setup parameters for call to function NLME_GetExtAddr
        MOV	DPTR,#(NLME_GetExtAddr & 0xffff)
        MOV	A,#((NLME_GetExtAddr >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,R2
        MOV	R4,A
        MOV	A,R3
        MOV	R5,A
        MOV	A,R6
        ADD	A,#0x2
        MOV	R2,A
        MOV	A,R7
        ADDC	A,#0x0
        MOV	R3,A
        MOV	DPTR,#(osal_ExtAddrEqual & 0xffff)
        MOV	A,#((osal_ExtAddrEqual >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,R1
        XRL	A,#0x1
        JNZ	??ZDO_LeaveCnf_0
// 2874   {
// 2875     // Prepare to leave with reset
// 2876     ZDApp_LeaveReset( cnf->rejoin );
        ; Setup parameters for call to function ZDApp_LeaveReset
        MOV	A,R6
        ADD	A,#0xb
        LCALL	?Subroutine14 & 0xFFFF
??CrossCallReturnLabel_29:
        LCALL	?BCALL               ; Banked call to: DPTR()
// 2877   }
// 2878   //------------------------------------------------------------------
// 2879   #if defined( RTR_NWK )
// 2880   //------------------------------------------------------------------
// 2881   else
// 2882   {
// 2883     // Remove device address(optionally descendents) from data
// 2884     ZDApp_LeaveUpdate( cnf->dstAddr,
// 2885                        cnf->extAddr,
// 2886                        cnf->removeChildren );
// 2887   }
// 2888   //------------------------------------------------------------------
// 2889   #endif
// 2890   //------------------------------------------------------------------
// 2891 }
??ZDO_LeaveCnf_0:
        LJMP	??Subroutine25_0 & 0xFFFF
        CFI EndBlock cfiBlock135
// 2892 
// 2893 /*********************************************************************
// 2894  * @fn          ZDO_LeaveInd
// 2895  *
// 2896  * @brief       This function allows the next higher layer of a
// 2897  *              device to be notified of a remote leave request or
// 2898  *              indication.
// 2899  *
// 2900  * @param       ind - NLME_LeaveInd_t
// 2901  *
// 2902  * @return      none
// 2903  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2904 void ZDO_LeaveInd( NLME_LeaveInd_t* ind )
ZDO_LeaveInd:
        CFI Block cfiBlock136 Using cfiCommon0
        CFI Function ZDO_LeaveInd
// 2905 {
        FUNCALL ZDO_LeaveInd, ZDApp_LeaveReset
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL ZDO_LeaveInd, NLME_GetCoordShortAddr
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL ZDO_LeaveInd, NLME_RemoveChild
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        MOV	A,#-0xa
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 0
        MOV	A,R2
        MOV	R6,A
        MOV	A,R3
        MOV	R7,A
// 2906   uint8 leave;
// 2907 
// 2908 
// 2909   // Parent is requesting the leave - NWK layer filters out illegal
// 2910   // requests
// 2911   if ( ind->request == TRUE )
        MOV	DPL,R6
        MOV	DPH,R7
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        MOVX	A,@DPTR
        XRL	A,#0x1
        JNZ	??ZDO_LeaveInd_0
// 2912   {
// 2913     // Notify network of leave
// 2914     //----------------------------------------------------------------
// 2915     #if defined( RTR_NWK )
// 2916     //----------------------------------------------------------------
// 2917     NLME_LeaveRsp_t rsp;
// 2918     rsp.rejoin         = ind->rejoin;
// 2919     rsp.removeChildren = ind->removeChildren;
// 2920     NLME_LeaveRsp( &rsp );
// 2921     //----------------------------------------------------------------
// 2922     #endif
// 2923     //----------------------------------------------------------------
// 2924 
// 2925     // Prepare to leave with reset
// 2926     ZDApp_LeaveReset( ind->rejoin );
??ZDO_LeaveInd_1:
        ; Setup parameters for call to function ZDApp_LeaveReset
        MOV	A,R6
        ADD	A,#0xc
        LCALL	?Subroutine14 & 0xFFFF
??CrossCallReturnLabel_30:
        SJMP	??ZDO_LeaveInd_2
// 2927   }
// 2928   else
// 2929   {
// 2930     leave = FALSE;
// 2931 
// 2932     // Check if this device needs to leave as a child or descendent
// 2933     if ( ind->srcAddr == NLME_GetCoordShortAddr() )
??ZDO_LeaveInd_0:
        MOV	DPL,R6
        MOV	DPH,R7
        PUSH	DPL
        CFI CFA_SP SP+-1
        PUSH	DPH
        CFI CFA_SP SP+-2
        ; Setup parameters for call to function NLME_GetCoordShortAddr
        MOV	DPTR,#(NLME_GetCoordShortAddr & 0xffff)
        MOV	A,#((NLME_GetCoordShortAddr >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	?V0 + 0,R2
        MOV	?V0 + 1,R3
        POP	DPH
        CFI CFA_SP SP+-1
        POP	DPL
        CFI CFA_SP SP+0
        MOVX	A,@DPTR
        XRL	A,?V0 + 0
        JNZ	??ZDO_LeaveInd_3
        INC	DPTR
        MOVX	A,@DPTR
        XRL	A,?V0 + 1
??ZDO_LeaveInd_3:
        JNZ	??ZDO_LeaveInd_4
// 2934     {
// 2935       if ( ( ind->removeChildren == TRUE               ) ||
// 2936            ( ZDO_Config_Node_Descriptor.LogicalType ==
// 2937              NODETYPE_DEVICE                           )    )
        MOV	A,R6
        ADD	A,#0xb
        MOV	DPL,A
        MOV	A,R7
        LCALL	??Subroutine16_0 & 0xFFFF
??CrossCallReturnLabel_38:
        MOVX	A,@DPTR
        XRL	A,#0x1
        JZ	??ZDO_LeaveInd_1
        MOV	DPTR,#ZDO_Config_Node_Descriptor
        MOVX	A,@DPTR
        ANL	A,#0x7
        XRL	A,#0x2
        JZ	??ZDO_LeaveInd_1
// 2938       {
// 2939         leave = TRUE;
// 2940       }
// 2941     }
// 2942     else if ( ind->removeChildren == TRUE )
// 2943     {
// 2944       // Check NWK address allocation algorithm
// 2945       //leave = RTG_ANCESTOR(nwkAddr,thisAddr);
// 2946     }
// 2947 
// 2948     if ( leave == TRUE )
// 2949     {
// 2950       // Prepare to leave with reset
// 2951       ZDApp_LeaveReset( ind->rejoin );
// 2952     }
// 2953     else
// 2954     {
// 2955       // Remove device address(optionally descendents) from data
// 2956       ZDApp_LeaveUpdate( ind->srcAddr,
// 2957                          ind->extAddr,
// 2958                          ind->removeChildren );
??ZDO_LeaveInd_4:
        ; Setup parameters for call to function NLME_RemoveChild
        MOV	A,R6
        ADD	A,#0xb
        MOV	DPL,A
        MOV	A,R7
        LCALL	??Subroutine16_0 & 0xFFFF
??CrossCallReturnLabel_39:
        MOVX	A,@DPTR
        MOV	R1,A
        MOV	A,R6
        ADD	A,#0x2
        MOV	R2,A
        MOV	A,R7
        ADDC	A,#0x0
        MOV	R3,A
        MOV	DPTR,#(NLME_RemoveChild & 0xffff)
        MOV	A,#((NLME_RemoveChild >> 16) & 0xff)
??ZDO_LeaveInd_2:
        LCALL	?BCALL               ; Banked call to: DPTR()
// 2959     }
// 2960   }
// 2961 }
        LJMP	??Subroutine24_1 & 0xFFFF
        CFI EndBlock cfiBlock136

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine16:
        CFI Block cfiCond137 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_34
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 18)
        CFI Block cfiCond138 Using cfiCommon0
        CFI (cfiCond138) NoFunction
        CFI (cfiCond138) Conditional ??CrossCallReturnLabel_35
        CFI (cfiCond138) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI (cfiCond138) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI (cfiCond138) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI (cfiCond138) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond138) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond138) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond138) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond138) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond138) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond138) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond138) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond138) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond138) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond138) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond138) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond138) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond138) CFA_SP SP+0
        CFI (cfiCond138) CFA_XSP16 add(XSP16, 18)
        CFI Block cfiCond139 Using cfiCommon0
        CFI (cfiCond139) NoFunction
        CFI (cfiCond139) Conditional ??CrossCallReturnLabel_36
        CFI (cfiCond139) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI (cfiCond139) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI (cfiCond139) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI (cfiCond139) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond139) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond139) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond139) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond139) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond139) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond139) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond139) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond139) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond139) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond139) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond139) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond139) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond139) CFA_SP SP+0
        CFI (cfiCond139) CFA_XSP16 add(XSP16, 18)
        CFI Block cfiCond140 Using cfiCommon0
        CFI (cfiCond140) NoFunction
        CFI (cfiCond140) Conditional ??CrossCallReturnLabel_33
        CFI (cfiCond140) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
        CFI (cfiCond140) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
        CFI (cfiCond140) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
        CFI (cfiCond140) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond140) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond140) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond140) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond140) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond140) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond140) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond140) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond140) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond140) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond140) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond140) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond140) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond140) CFA_SP SP+0
        CFI (cfiCond140) CFA_XSP16 add(XSP16, 18)
        CFI Block cfiPicker141 Using cfiCommon1
        CFI (cfiPicker141) NoFunction
        CFI (cfiPicker141) Picker
        MOV	DPL,A
        MOV	A,?V0 + 5
        CFI Block cfiCond142 Using cfiCommon0
        CFI (cfiCond142) NoFunction
        CFI (cfiCond142) Conditional ??CrossCallReturnLabel_37
        CFI (cfiCond142) R6 load(1, XDATA, add(CFA_XSP16, literal(-13)))
        CFI (cfiCond142) VB load(1, XDATA, add(CFA_XSP16, literal(-12)))
        CFI (cfiCond142) V0 load(1, XDATA, add(CFA_XSP16, literal(-11)))
        CFI (cfiCond142) V1 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond142) V2 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond142) V3 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond142) V4 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond142) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond142) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond142) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond142) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond142) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond142) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond142) CFA_SP SP+0
        CFI (cfiCond142) CFA_XSP16 add(XSP16, 27)
        CFI Block cfiCond143 Using cfiCommon0
        CFI (cfiCond143) NoFunction
        CFI (cfiCond143) Conditional ??CrossCallReturnLabel_38
        CFI (cfiCond143) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond143) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond143) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond143) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond143) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond143) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond143) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond143) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond143) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond143) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond143) CFA_SP SP+0
        CFI (cfiCond143) CFA_XSP16 add(XSP16, 10)
        CFI Block cfiCond144 Using cfiCommon0
        CFI (cfiCond144) NoFunction
        CFI (cfiCond144) Conditional ??CrossCallReturnLabel_39
        CFI (cfiCond144) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond144) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond144) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond144) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond144) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond144) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond144) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond144) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond144) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond144) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond144) CFA_SP SP+0
        CFI (cfiCond144) CFA_XSP16 add(XSP16, 10)
??Subroutine16_0:
        ADDC	A,#0x0
        MOV	DPH,A
        RET
        CFI EndBlock cfiCond137
        CFI EndBlock cfiCond138
        CFI EndBlock cfiCond139
        CFI EndBlock cfiCond140
        CFI EndBlock cfiPicker141
        CFI EndBlock cfiCond142
        CFI EndBlock cfiCond143
        CFI EndBlock cfiCond144

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine14:
        CFI Block cfiCond145 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_29
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        CFI Block cfiCond146 Using cfiCommon0
        CFI (cfiCond146) NoFunction
        CFI (cfiCond146) Conditional ??CrossCallReturnLabel_30
        CFI (cfiCond146) R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI (cfiCond146) VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI (cfiCond146) V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI (cfiCond146) V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI (cfiCond146) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI (cfiCond146) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI (cfiCond146) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI (cfiCond146) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI (cfiCond146) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI (cfiCond146) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI (cfiCond146) CFA_SP SP+0
        CFI (cfiCond146) CFA_XSP16 add(XSP16, 10)
        CFI Block cfiPicker147 Using cfiCommon1
        CFI (cfiPicker147) NoFunction
        CFI (cfiPicker147) Picker
        MOV	DPL,A
        MOV	A,R7
        ADDC	A,#0x0
        MOV	DPH,A
        MOVX	A,@DPTR
        MOV	R1,A
        MOV	DPTR,#(ZDApp_LeaveReset & 0xffff)
        MOV	A,#((ZDApp_LeaveReset >> 16) & 0xff)
        RET
        CFI EndBlock cfiCond145
        CFI EndBlock cfiCond146
        CFI EndBlock cfiPicker147
// 2962 
// 2963 /*********************************************************************
// 2964  * @fn          ZDO_SyncIndicationCB
// 2965  *
// 2966  * @brief       This function allows the next higher layer of a
// 2967  *              coordinator to be notified of a loss of synchronization
// 2968  *                          with the parent/child device.
// 2969  *
// 2970  * @param       type: 0 - child; 1 - parent
// 2971  *
// 2972  *
// 2973  * @return      none
// 2974  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2975 void ZDO_SyncIndicationCB( byte type, uint16 shortAddr )
ZDO_SyncIndicationCB:
        CFI Block cfiBlock148 Using cfiCommon0
        CFI Function ZDO_SyncIndicationCB
// 2976 {
        FUNCALL ZDO_SyncIndicationCB, ZDApp_SendMsg
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        PUSH	DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH	DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 2977 
// 2978 #if !defined ( RTR_NWK )
// 2979     if ( type == 1 )
        MOV	A,#0x1
        XRL	A,R1
        JNZ	??ZDO_SyncIndicationCB_0
// 2980     {
// 2981       ZDApp_SendMsg( ZDAppTaskID, ZDO_NWK_JOIN_REQ, sizeof(osal_event_hdr_t), NULL );
        ; Setup parameters for call to function ZDApp_SendMsg
        MOV	R4,#0x0
        MOV	R5,#0x0
        MOV	R3,#0x2
        MOV	R2,#0x3
        LCALL	?Subroutine6 & 0xFFFF
??CrossCallReturnLabel_62:
        LCALL	?BCALL               ; Banked call to: DPTR()
// 2982     }
// 2983 #endif
// 2984   return;
??ZDO_SyncIndicationCB_0:
        LJMP	??Subroutine23_0 & 0xFFFF
        CFI EndBlock cfiBlock148
// 2985 }
// 2986 
// 2987 /*********************************************************************
// 2988  * @fn          ZDO_PollConfirmCB
// 2989  *
// 2990  * @brief       This function allows the next higher layer to be
// 2991  *              notified of a Poll Confirm.
// 2992  *
// 2993  * @param       none
// 2994  *
// 2995  * @return      none
// 2996  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 2997 void ZDO_PollConfirmCB( byte status )
ZDO_PollConfirmCB:
        CFI Block cfiBlock149 Using cfiCommon0
        CFI Function ZDO_PollConfirmCB
// 2998 {
        ; Saved register size: 0
        ; Auto size: 0
// 2999   return;
        LJMP	?BRET
        CFI EndBlock cfiBlock149
// 3000 }
// 3001 
// 3002 /******************************************************************************
// 3003  * @fn          ZDApp_NwkWriteNVRequest (stubs AddrMgrWriteNVRequest)
// 3004  *
// 3005  * @brief       Stub routine implemented by NHLE. NHLE should call
// 3006  *              <AddrMgrWriteNV> when appropriate.
// 3007  *
// 3008  * @param       none
// 3009  *
// 3010  * @return      none
// 3011  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 3012 void ZDApp_NwkWriteNVRequest( void )
AddrMgrWriteNVRequest:
        CFI Block cfiBlock150 Using cfiCommon0
        CFI Function AddrMgrWriteNVRequest
// 3013 {
        FUNCALL AddrMgrWriteNVRequest, osal_get_timeoutEx
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        FUNCALL AddrMgrWriteNVRequest, osal_start_timerEx
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        MOV	A,#-0xa
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 0
// 3014   if ( !osal_get_timeoutEx( ZDAppTaskID, ZDO_NWK_UPDATE_NV ) )
        ; Setup parameters for call to function osal_get_timeoutEx
        MOV	R2,#0x0
        MOV	R3,#0x2
        MOV	DPTR,#ZDAppTaskID
        MOVX	A,@DPTR
        MOV	R1,A
        MOV	DPTR,#(osal_get_timeoutEx & 0xffff)
        MOV	A,#((osal_get_timeoutEx >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,R2
        JNZ	??AddrMgrWriteNVRequest_0
        MOV	A,R3
??AddrMgrWriteNVRequest_0:
        JNZ	??AddrMgrWriteNVRequest_1
// 3015   {
// 3016     // Trigger to save info into NV
// 3017     osal_start_timerEx( ZDAppTaskID,
// 3018                         ZDO_NWK_UPDATE_NV,
// 3019                         ZDAPP_UPDATE_NWK_NV_TIME );
        ; Setup parameters for call to function osal_start_timerEx
        LCALL	?Subroutine5 & 0xFFFF
??CrossCallReturnLabel_9:
        LCALL	?BCALL               ; Banked call to: DPTR()
// 3020   }
// 3021 }
??AddrMgrWriteNVRequest_1:
        LJMP	??Subroutine24_1 & 0xFFFF
        CFI EndBlock cfiBlock150
// 3022 
// 3023 /*********************************************************************
// 3024  * Call Back Functions from Security  - API
// 3025  */
// 3026 
// 3027 #if defined( ZDO_COORDINATOR )
// 3028  /*********************************************************************
// 3029  * @fn          ZDO_UpdateDeviceIndication
// 3030  *
// 3031  * @brief       This function notifies the "Trust Center" of a
// 3032  *              network when a device joins or leaves the network.
// 3033  *
// 3034  * @param       extAddr - pointer to 64 bit address of new device
// 3035  * @param       status  - 0 if a new device joined securely
// 3036  *                      - 1 if a new device joined un-securely
// 3037  *                      - 2 if a device left the network
// 3038  *
// 3039  * @return      true if newly joined device should be allowed to
// 3040  *                                              remain on network
// 3041  */
// 3042 ZStatus_t ZDO_UpdateDeviceIndication( byte *extAddr, byte status )
// 3043 {
// 3044 
// 3045 #if   ( SECURE != 0  )
// 3046   // can implement a network access policy based on the
// 3047   // IEEE address of newly joining devices...
// 3048 #endif  // Trust Center
// 3049 
// 3050   return ZSuccess;
// 3051 }
// 3052 #endif // ZDO
// 3053 
// 3054 /*********************************************************************
// 3055  * @fn          ZDApp_InMsgCB
// 3056  *
// 3057  * @brief       This function is called to pass up any message that is
// 3058  *              not yet supported.  This allows for the developer to
// 3059  *              support features themselves..
// 3060  *
// 3061  * @return      none
// 3062  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 3063 void ZDApp_InMsgCB( byte TransSeq, zAddrType_t *srcAddr, byte wasBroadcast,
ZDApp_InMsgCB:
        CFI Block cfiBlock151 Using cfiCommon0
        CFI Function ZDApp_InMsgCB
// 3064                   cId_t clusterID, byte asduLen, byte *asdu, byte SecurityUse )
// 3065 {
        FUNCALL ZDApp_InMsgCB, ZDP_GenericRsp
        LOCFRAME XSTACK, 14, STACK
        ARGFRAME XSTACK, 14, STACK
        MOV	A,#-0xa
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 0
        MOV	A,#0xa
        LCALL	?XSTACK_DISP0_8
        MOVX	A,@DPTR
        MOV	R6,A
        INC	DPTR
        MOVX	A,@DPTR
        MOV	R7,A
        MOV	A,#0xe
        LCALL	?XSTACK_DISP0_8
        MOVX	A,@DPTR
        MOV	R5,A
// 3066   if ( clusterID & ZDO_RESPONSE_BIT )
        MOV	A,#-0x80
        ANL	A,R7
        MOV	?V0 + 1,A
        CLR	A
        JNZ	??ZDApp_InMsgCB_0
        MOV	A,?V0 + 1
??ZDApp_InMsgCB_0:
        JNZ	??ZDApp_InMsgCB_1
// 3067   {
// 3068     // Handle the response message
// 3069   }
// 3070   else
// 3071   {
// 3072     // Handle the request message by sending a generic "not supported".
// 3073     // End Device Announce doesn't have a response.
// 3074     if ( !wasBroadcast && clusterID != End_Device_annce )
        MOV	A,R4
        JNZ	??ZDApp_InMsgCB_1
        MOV	A,#0x13
        XRL	A,R6
        JNZ	??ZDApp_InMsgCB_2
        MOV	A,R7
??ZDApp_InMsgCB_2:
        JZ	??ZDApp_InMsgCB_1
// 3075     {
// 3076       ZDP_GenericRsp( TransSeq, srcAddr, ZDP_NOT_SUPPORTED, 0,
// 3077                       (uint16)(clusterID | ZDO_RESPONSE_BIT), SecurityUse );
        ; Setup parameters for call to function ZDP_GenericRsp
        MOV	A,R6
        MOV	?V0 + 0,A
        MOV	A,#-0x80
        ORL	A,R7
        MOV	?V0 + 1,A
        MOV	R0,#?V0 + 0
        LCALL	?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 12)
        MOV	?V0 + 0,#0x0
        MOV	?V0 + 1,#0x0
        MOV	R0,#?V0 + 0
        LCALL	?PUSH_XSTACK_I_TWO
        CFI CFA_XSP16 add(XSP16, 14)
        MOV	R4,#-0x7c
        MOV	DPTR,#(ZDP_GenericRsp & 0xffff)
        MOV	A,#((ZDP_GenericRsp >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	A,#0x4
        LCALL	?DEALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 10)
// 3078     }
// 3079   }
// 3080 }
??ZDApp_InMsgCB_1:
        LJMP	??Subroutine24_1 & 0xFFFF
        CFI EndBlock cfiBlock151
// 3081 
// 3082 #if defined ( ZDO_MGMT_LQI_REQUEST )
// 3083 /*********************************************************************
// 3084  * @fn          ZDApp_MgmtLqiRspCB
// 3085  *
// 3086  * @brief       This function handles Management LQI response for the
// 3087  *              Device Object application.
// 3088  *
// 3089  * @param       Status - ZSuccess or other for failure
// 3090  * @param       NeighborLqiEntries - number of possible entries on
// 3091  *                       the device
// 3092  * @param       StartIndex - where this list start in possible entries
// 3093  * @param       NeighborLqiCount - number of entries in this list
// 3094  * @param       pList - pointer to the list of LQI items.
// 3095  * @param       SecurityUse -
// 3096  *
// 3097  * @return      none
// 3098  */
// 3099 void ZDApp_MgmtLqiRspCB( uint16 SrcAddr, byte Status, byte NeighborLqiEntries,
// 3100                          byte StartIndex, byte NeighborLqiCount,
// 3101                          neighborLqiItem_t *pList )
// 3102 {
// 3103   byte x;
// 3104 
// 3105 #if defined ( MT_ZDO_FUNC )
// 3106   /* First check if MT has subscribed for this callback. If so , pass it as
// 3107   a event to MonitorTest and return control to calling function after that */
// 3108   if ( _zdoCallbackSub & CB_ID_ZDO_MGMT_LQI_RSP )
// 3109   {
// 3110     zdo_MTCB_MgmtLqiRspCB( SrcAddr, Status, NeighborLqiEntries, StartIndex,
// 3111                                         NeighborLqiCount, pList );
// 3112     return;
// 3113   }
// 3114 #endif  //MT_ZDO_FUNC
// 3115 
// 3116   if ( Status == ZSuccess )
// 3117   {
// 3118     for ( x = 0; x < NeighborLqiCount; x++, pList++ )
// 3119     {
// 3120       // Do something with the results
// 3121     }
// 3122   }
// 3123   else
// 3124   {
// 3125     // Error
// 3126   }
// 3127 }
// 3128 #endif // ZDO_MGMT_LQI_REQUEST
// 3129 
// 3130 #if defined ( ZDO_MGMT_NWKDISC_REQUEST )
// 3131 /*********************************************************************
// 3132  * @fn          ZDApp_MgmtNwkDiscRspCB
// 3133  *
// 3134  * @brief       This function handles Management Network Discovery
// 3135  *              response for the Device Object application.
// 3136  *
// 3137  * @param       SrcAddr - source of the message
// 3138  * @param       Status - ZSuccess or other for failure
// 3139  * @param       NetworkCount - number of possible entries on
// 3140  *                       the device
// 3141  * @param       StartIndex - where this list start in possible entries
// 3142  * @param       networkListCount - number of entries in this list
// 3143  * @param       pList - pointer to the list of Network Discover items.
// 3144  * @param       SecurityUse -
// 3145  *
// 3146  * @return      none
// 3147  */
// 3148 void ZDApp_MgmtNwkDiscRspCB( uint16 SrcAddr, byte Status, byte NetworkCount,
// 3149                              byte StartIndex, byte networkListCount,
// 3150                              mgmtNwkDiscItem_t *pList )
// 3151 {
// 3152   byte x;
// 3153 
// 3154 #if defined ( MT_ZDO_FUNC )
// 3155   /* First check if MT has subscribed for this callback. If so , pass it as
// 3156   a event to MonitorTest and return control to calling function after that */
// 3157   if ( _zdoCallbackSub & CB_ID_ZDO_MGMT_NWKDISC_RSP )
// 3158   {
// 3159     zdo_MTCB_MgmtNwkDiscRspCB( SrcAddr, Status, NetworkCount, StartIndex,
// 3160                                         networkListCount, pList );
// 3161     return;
// 3162   }
// 3163 #endif  //MT_ZDO_FUNC
// 3164 
// 3165   if ( Status == ZSuccess )
// 3166   {
// 3167     for ( x = 0; x < networkListCount; x++, pList++ )
// 3168     {
// 3169       // Do something with the results
// 3170     }
// 3171   }
// 3172   else
// 3173   {
// 3174     // Error
// 3175   }
// 3176 }
// 3177 #endif // ZDO_MGMT_NWKDISC_REQUEST
// 3178 
// 3179 #if defined ( ZDO_MGMT_RTG_REQUEST )
// 3180 /*********************************************************************
// 3181  * @fn          ZDApp_MgmtRtgRspCB
// 3182  *
// 3183  * @brief       This function handles Management Routing response for the
// 3184  *              Device Object application.
// 3185  *
// 3186  * @param       SrcAddr - source of the message
// 3187  * @param       Status - ZSuccess or other for failure
// 3188  * @param       rtgCount - number of possible entries on
// 3189  *                       the device
// 3190  * @param       StartIndex - where this list start in possible entries
// 3191  * @param       rtgCount - number of entries in this list
// 3192  * @param       pList - pointer to the list of Network Discover items.
// 3193  * @param       SecurityUse -
// 3194  *
// 3195  * @return      none
// 3196  */
// 3197 void ZDApp_MgmtRtgRspCB( uint16 SrcAddr, byte Status, byte rtgCount,
// 3198                          byte StartIndex, byte rtgListCount,
// 3199                          rtgItem_t *pList )
// 3200 {
// 3201   byte x;
// 3202 
// 3203 #if defined ( MT_ZDO_FUNC )
// 3204   /* First check if MT has subscribed for this callback. If so , pass it as
// 3205   a event to MonitorTest and return control to calling function after that */
// 3206   if ( _zdoCallbackSub & CB_ID_ZDO_MGMT_RTG_RSP )
// 3207   {
// 3208     zdo_MTCB_MgmtRtgRspCB( SrcAddr, Status, rtgCount, StartIndex,
// 3209                                                         rtgListCount, pList );
// 3210     return;
// 3211   }
// 3212 #endif  //MT_ZDO_FUNC
// 3213 
// 3214   if ( Status == ZSuccess )
// 3215   {
// 3216     for ( x = 0; x < rtgListCount; x++, pList++ )
// 3217     {
// 3218       // Do something with the results
// 3219     }
// 3220   }
// 3221   else
// 3222   {
// 3223     // Error
// 3224   }
// 3225 }
// 3226 #endif // ZDO_MGMT_RTG_REQUEST
// 3227 
// 3228 #if defined ( ZDO_MGMT_BIND_REQUEST )
// 3229 /*********************************************************************
// 3230  * @fn          ZDApp_MgmtBindRspCB
// 3231  *
// 3232  * @brief       This function handles Management Binding response for the
// 3233  *              Device Object application.
// 3234  *
// 3235  * @param       SrcAddr - source of the message
// 3236  * @param       Status - ZSuccess or other for failure
// 3237  * @param       BindingCount - number of possible entries on
// 3238  *                       the device
// 3239  * @param       StartIndex - where this list start in possible entries
// 3240  * @param       BindingListCount - number of entries in this list
// 3241  * @param       pList - pointer to the list of Network Discover items.
// 3242  * @param       SecurityUse -
// 3243  *
// 3244  * @return      none
// 3245  */
// 3246 void ZDApp_MgmtBindRspCB( uint16 SrcAddr, byte Status, byte BindingCount,
// 3247                          byte StartIndex, byte BindingListCount,
// 3248                          apsBindingItem_t *pList )
// 3249 {
// 3250   byte x;
// 3251 
// 3252 #if defined ( MT_ZDO_FUNC )
// 3253   /* First check if MT has subscribed for this callback. If so , pass it as
// 3254   a event to MonitorTest and return control to calling function after that */
// 3255   if ( _zdoCallbackSub & CB_ID_ZDO_MGMT_BIND_RSP )
// 3256   {
// 3257     zdo_MTCB_MgmtBindRspCB( SrcAddr, Status, BindingCount, StartIndex,
// 3258                                                   BindingListCount, pList );
// 3259     return;
// 3260   }
// 3261 #endif  //MT_ZDO_FUNC
// 3262 
// 3263   if ( Status == ZSuccess )
// 3264   {
// 3265     for ( x = 0; x < BindingListCount; x++, pList++ )
// 3266     {
// 3267       // Do something with the results
// 3268     }
// 3269   }
// 3270   else
// 3271   {
// 3272     // Error
// 3273   }
// 3274 }
// 3275 #endif // ZDO_MGMT_BIND_REQUEST
// 3276 
// 3277 #if defined ( ZDO_MGMT_JOINDIRECT_REQUEST )
// 3278 /*********************************************************************
// 3279  * @fn          ZDApp_MgmtDirectJoinRspCB
// 3280  *
// 3281  * @brief       This function handles Management Direct Join response for the
// 3282  *              Device Object application.
// 3283  *
// 3284  * @param       SrcAddr - source of the message
// 3285  * @param       Status - ZSuccess or other for failure
// 3286  * @param       SecurityUse -
// 3287  *
// 3288  * @return      none
// 3289  */
// 3290 void ZDApp_MgmtDirectJoinRspCB( uint16 SrcAddr, byte Status, byte SecurityUse )
// 3291 {
// 3292 #if defined ( MT_ZDO_FUNC )
// 3293   /* First check if MT has subscribed for this callback. If so , pass it as
// 3294   a event to MonitorTest and return control to calling function after that */
// 3295   if ( _zdoCallbackSub & CB_ID_ZDO_MGMT_DIRECT_JOIN_RSP )
// 3296   {
// 3297     zdo_MTCB_MgmtDirectJoinRspCB( SrcAddr, Status, SecurityUse );
// 3298     return;
// 3299   }
// 3300 #endif  //MT_ZDO_FUNC
// 3301 
// 3302   if ( Status == ZSuccess )
// 3303   {
// 3304     // Do something with the results
// 3305   }
// 3306   else
// 3307   {
// 3308     // Error
// 3309   }
// 3310 }
// 3311 #endif // ZDO_MGMT_JOINDIRECT_REQUEST
// 3312 
// 3313 #if defined ( ZDO_MGMT_LEAVE_REQUEST )
// 3314 /*********************************************************************
// 3315  * @fn          ZDApp_MgmtLeaveRspCB
// 3316  *
// 3317  * @brief       This function handles Management Leave response for the
// 3318  *              Device Object application.
// 3319  *
// 3320  * @param       SrcAddr - source of the message
// 3321  * @param       Status - ZSuccess or other for failure
// 3322  * @param       SecurityUse -
// 3323  *
// 3324  * @return      none
// 3325  */
// 3326 void ZDApp_MgmtLeaveRspCB( uint16 SrcAddr, byte Status, byte SecurityUse )
// 3327 {
// 3328 #if defined ( MT_ZDO_FUNC )
// 3329   /* First check if MT has subscribed for this callback. If so , pass it as
// 3330   a event to MonitorTest and return control to calling function after that */
// 3331   if ( _zdoCallbackSub & CB_ID_ZDO_MGMT_LEAVE_RSP )
// 3332   {
// 3333     zdo_MTCB_MgmtLeaveRspCB( SrcAddr, Status, SecurityUse );
// 3334     return;
// 3335   }
// 3336 #endif  //MT_ZDO_FUNC
// 3337 
// 3338   if ( Status == ZSuccess )
// 3339   {
// 3340     // Do something with the results
// 3341   }
// 3342   else
// 3343   {
// 3344     // Error
// 3345   }
// 3346 }
// 3347 #endif // ZDO_MGMT_LEAVE_REQUEST
// 3348 
// 3349 #if defined ( ZDO_MGMT_BIND_RESPONSE ) && !defined( REFLECTOR )
// 3350 /*********************************************************************
// 3351  * @fn          ZDApp_MgmtBindReqCB
// 3352  *
// 3353  * @brief       This function finishes the processing of the Management
// 3354  *              Bind Request and generates the response.
// 3355  *
// 3356  * @param       none
// 3357  *
// 3358  * @return      none
// 3359  */
// 3360 void ZDApp_MgmtBindReqCB( byte TransSeq, zAddrType_t *SrcAddr, byte StartIndex, byte SecurityUse )
// 3361 {
// 3362   ZDO_MgmtBindReq_t *pBindReq;
// 3363   osal_event_hdr_t *msgPtr;
// 3364 
// 3365   if ( ZDApp_MgmtBindReq_TaskID )
// 3366   {
// 3367     // Send the IEEE Address response structure to the registered task
// 3368     msgPtr = (osal_event_hdr_t *)osal_msg_allocate( sizeof(osal_event_hdr_t) + sizeof( ZDO_MgmtBindReq_t ) );
// 3369     if ( msgPtr )
// 3370     {
// 3371       msgPtr->event = ZDO_MGMT_BIND_REQ;
// 3372       pBindReq = (ZDO_MgmtBindReq_t *)(msgPtr + 1);
// 3373 
// 3374       // Build the structure
// 3375       pBindReq->hdr.srcAddr = SrcAddr->addr.shortAddr;
// 3376       pBindReq->hdr.transSeq = TransSeq;
// 3377       pBindReq->hdr.SecurityUse = SecurityUse;
// 3378 
// 3379       pBindReq->startIndex = StartIndex;
// 3380       osal_msg_send( ZDApp_MgmtBindReq_TaskID, (uint8 *)msgPtr );
// 3381     }
// 3382   }
// 3383 }
// 3384 #endif // ZDO_MGMT_BIND_RESPONSE && !REFLECTOR
// 3385 
// 3386 #if defined ( ZDO_MGMT_PERMIT_JOIN_REQUEST )
// 3387 
// 3388 /*********************************************************************
// 3389  * @fn          ZDApp_MgmtPermitJoinRspCB
// 3390  *
// 3391  * @brief       This function handles Management permit join response
// 3392  *              for the Device Object application.
// 3393  *
// 3394  * @param       SrcAddr - source of the message
// 3395  * @param       Status - ZSuccess or other for failure
// 3396  * @param       SecurityUse -
// 3397  *
// 3398  * @return      none
// 3399  */
// 3400 void ZDApp_MgmtPermitJoinRspCB( uint16 SrcAddr, byte Status,
// 3401                                 byte SecurityUse )
// 3402 {
// 3403 #if defined ( MT_ZDO_FUNC )
// 3404   /* First check if MT has subscribed for this callback. If so , pass it as
// 3405   a event to MonitorTest and return control to calling function after that */
// 3406   if ( _zdoCallbackSub & CB_ID_ZDO_MGMT_PERMIT_JOIN_RSP )
// 3407   {
// 3408     zdo_MTCB_MgmtPermitJoinRspCB( SrcAddr, Status, SecurityUse );
// 3409     return;
// 3410   }
// 3411 #endif  //MT_ZDO_FUNC
// 3412 
// 3413   if ( Status == ZSuccess )
// 3414   {
// 3415     // Do something with the results
// 3416   }
// 3417   else
// 3418   {
// 3419     // Error
// 3420   }
// 3421 }
// 3422 #endif // ZDO_MGMT_LEAVE_REQUEST
// 3423 
// 3424 #if defined ( ZDO_USERDESC_REQUEST )
// 3425 /*********************************************************************
// 3426  * @fn          ZDApp_UserDescRspCB
// 3427  *
// 3428  * @brief       This function handles User Descriptor response for the
// 3429  *              Device Object application.
// 3430  *
// 3431  * @param       SrcAddr - source of the message
// 3432  * @param       Status - ZSuccess or other for failure
// 3433  * @param       nwkAddrOfInterest - network address of remote device
// 3434  * @param       userDescLen - length of user descriptor
// 3435  * @param       userDesc - user descriptor byte string
// 3436  * @param       SecurityUse -
// 3437  *
// 3438  * @return      none
// 3439  */
// 3440 void ZDApp_UserDescRspCB( uint16 SrcAddr, byte status, uint16 nwkAddrOfInterest,
// 3441                           byte userDescLen, byte *userDesc, byte SecurityUse )
// 3442 {
// 3443 #if defined ( MT_ZDO_FUNC )
// 3444   /* First check if MT has subscribed for this callback. If so , pass it as
// 3445   a event to MonitorTest and return control to calling function after that */
// 3446   if ( _zdoCallbackSub & CB_ID_ZDO_USER_DESC_RSP )
// 3447   {
// 3448     zdo_MTCB_UserDescRspCB( SrcAddr, status, nwkAddrOfInterest,
// 3449                             userDescLen, userDesc, SecurityUse );
// 3450     return;
// 3451   }
// 3452 #endif  //MT_ZDO_FUNC
// 3453 
// 3454   if ( status == ZSuccess )
// 3455   {
// 3456     // Do something with the results
// 3457   }
// 3458   else
// 3459   {
// 3460     // Error
// 3461   }
// 3462 }
// 3463 #endif
// 3464 
// 3465 #if defined ( ZDO_USERDESCSET_REQUEST )
// 3466 /*********************************************************************
// 3467  * @fn          ZDApp_UserDescConfCB
// 3468  *
// 3469  * @brief       This function handles Management Direct Join response for the
// 3470  *              Device Object application.
// 3471  *
// 3472  * @param       SrcAddr - source of the message
// 3473  * @param       Status - ZSuccess or other for failure
// 3474  * @param       SecurityUse -
// 3475  *
// 3476  * @return      none
// 3477  */
// 3478 void ZDApp_UserDescConfCB( uint16 SrcAddr, byte status, byte SecurityUse )
// 3479 {
// 3480 #if defined ( MT_ZDO_FUNC )
// 3481   /* First check if MT has subscribed for this callback. If so , pass it as
// 3482   a event to MonitorTest and return control to calling function after that */
// 3483   if ( _zdoCallbackSub & CB_ID_ZDO_USER_DESC_CONF )
// 3484   {
// 3485     zdo_MTCB_UserDescConfCB( SrcAddr, status, SecurityUse );
// 3486     return;
// 3487   }
// 3488 #endif  //MT_ZDO_FUNC
// 3489 
// 3490   if ( status == ZSuccess )
// 3491   {
// 3492     // Do something with the results
// 3493   }
// 3494   else
// 3495   {
// 3496     // Error
// 3497   }
// 3498 }
// 3499 #endif
// 3500 
// 3501 #if defined ( ZDO_SERVERDISC_REQUEST )
// 3502 /*********************************************************************
// 3503  * @fn          ZDApp_ServerDiscRspCB
// 3504  *
// 3505  * @brief       Handle the Server_Discovery_rsp response.
// 3506  *
// 3507  * @param       srcAddr     - Source Address of the message.
// 3508  * @param       status      - ZSuccess.
// 3509  * @param       serverMask  - Bit mask of services matching the req serverMask.
// 3510  * @param       securityUse -
// 3511  *
// 3512  * @return      none
// 3513  */
// 3514 void ZDApp_ServerDiscRspCB( uint16 srcAddr, byte status,
// 3515                             uint16 serverMask, byte securityUse )
// 3516 {
// 3517 #if defined ( MT_ZDO_FUNC )
// 3518   if ( _zdoCallbackSub & CB_ID_ZDO_SERVERDISC_RSP )
// 3519   {
// 3520     zdo_MTCB_ServerDiscRspCB( srcAddr, status, serverMask, securityUse );
// 3521     return;
// 3522   }
// 3523 #endif
// 3524 
// 3525   if ( status == ZSuccess )
// 3526   {
// 3527     // Do something with the results.
// 3528   }
// 3529   else
// 3530   {
// 3531     // Error
// 3532   }
// 3533 }
// 3534 #endif
// 3535 
// 3536 /*********************************************************************
// 3537  * @fn      ZDApp_EndDeviceAnnounceCB()
// 3538  *
// 3539  * @brief   Received an End Device Announce.
// 3540  *
// 3541  * @param   SrcAddr - Source of the message
// 3542  * @param   nwkAddr - short address of the new device
// 3543  * @param   extAddr - IEEE address of the new device
// 3544  * @param   capabilities - device capabilities.  This field is only
// 3545  *             populated in a v1.1 network so use the following before
// 3546  *             using it:
// 3547  *                  if ( NLME_GetProtocolVersion() != ZB_PROT_V1_0 )
// 3548  *
// 3549  * @return  none
// 3550  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 3551 void ZDApp_EndDeviceAnnounceCB( uint16 SrcAddr, uint16 nwkAddr, uint8 *extAddr,
ZDApp_EndDeviceAnnounceCB:
        CFI Block cfiBlock152 Using cfiCommon0
        CFI Function ZDApp_EndDeviceAnnounceCB
// 3552                                uint8 capabilities )
// 3553 {
        FUNCALL ZDApp_EndDeviceAnnounceCB, osal_cpyExtAddr
        LOCFRAME XSTACK, 24, STACK
        ARGFRAME XSTACK, 24, STACK
        FUNCALL ZDApp_EndDeviceAnnounceCB, ZDApp_SendMsg
        LOCFRAME XSTACK, 24, STACK
        ARGFRAME XSTACK, 24, STACK
        MOV	A,#-0x9
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 9)
        ; Saved register size: 9
        ; Auto size: 15
        MOV	A,#-0xf
        LCALL	?ALLOC_XSTACK8
        CFI CFA_XSP16 add(XSP16, 24)
        MOV	A,R1
        MOV	R6,A
        MOV	A,#0x18
        LCALL	?XSTACK_DISP0_8
        MOVX	A,@DPTR
        MOV	R0,A
        INC	DPTR
        MOVX	A,@DPTR
        MOV	R1,A
// 3554   ZDO_EndDeviceAnnounce_t Announce;
// 3555 
// 3556   // If it interests you - put your own code here.
// 3557 
// 3558   if ( ZDApp_EndDeviceAnnounce_TaskID )
        MOV	DPTR,#??ZDApp_EndDeviceAnnounce_TaskID
        MOVX	A,@DPTR
        JZ	??ZDApp_EndDeviceAnnounceCB_0
// 3559   {
// 3560     // Build the structure
// 3561     Announce.srcAddr = SrcAddr;
        MOV	A,#0x2
        LCALL	?XSTACK_DISP0_8
        MOV	A,R2
        MOVX	@DPTR,A
        INC	DPTR
        MOV	A,R3
        MOVX	@DPTR,A
// 3562     Announce.nwkAddr = nwkAddr;
        MOV	A,#0x4
        LCALL	?XSTACK_DISP0_8
        MOV	A,R4
        MOVX	@DPTR,A
        INC	DPTR
        MOV	A,R5
        MOVX	@DPTR,A
// 3563     osal_cpyExtAddr( Announce.extAddr, extAddr );
        ; Setup parameters for call to function osal_cpyExtAddr
        MOV	A,R0
        MOV	R4,A
        MOV	A,R1
        MOV	R5,A
        MOV	A,#0x6
        LCALL	?XSTACK_DISP0_8
        MOV	R2,DPL
        MOV	R3,DPH
        MOV	DPTR,#(osal_cpyExtAddr & 0xffff)
        MOV	A,#((osal_cpyExtAddr >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
// 3564     Announce.capabilities = capabilities;
        MOV	A,#0xe
        LCALL	?XSTACK_DISP0_8
        MOV	A,R6
        LCALL	?Subroutine1 & 0xFFFF
// 3565 
// 3566     ZDApp_SendMsg( ZDApp_EndDeviceAnnounce_TaskID, ZDO_END_DEVICE_ANNOUNCE,
// 3567                   sizeof( ZDO_EndDeviceAnnounce_t ), (uint8 *)&Announce );
??CrossCallReturnLabel_3:
        MOV	R4,DPL
        MOV	R5,DPH
        MOV	R3,#0xf
        MOV	R2,#-0x2b
        MOV	DPTR,#??ZDApp_EndDeviceAnnounce_TaskID
        LCALL	??Subroutine6_0 & 0xFFFF
??CrossCallReturnLabel_63:
        LCALL	?BCALL               ; Banked call to: DPTR()
// 3568   }
// 3569 }
??ZDApp_EndDeviceAnnounceCB_0:
        MOV	A,#0xf
        LJMP	?Subroutine25 & 0xFFFF
        CFI EndBlock cfiBlock152
// 3570 
// 3571 /*********************************************************************
// 3572  * @fn      ZDApp_ChangeMatchDescRespPermission()
// 3573  *
// 3574  * @brief   Changes the Match Descriptor Response permission.
// 3575  *
// 3576  * @param   endpoint - endpoint to allow responses
// 3577  * @param   action - true to allow responses, false to not
// 3578  *
// 3579  * @return  none
// 3580  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 3581 void ZDApp_ChangeMatchDescRespPermission( uint8 endpoint, uint8 action )
ZDApp_ChangeMatchDescRespPermission:
        CFI Block cfiBlock153 Using cfiCommon0
        CFI Function ZDApp_ChangeMatchDescRespPermission
// 3582 {
        FUNCALL ZDApp_ChangeMatchDescRespPermission, afSetMatch
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        PUSH	DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH	DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 3583   // Store the action
// 3584   afSetMatch( endpoint, action );
        ; Setup parameters for call to function afSetMatch
        MOV	DPTR,#(afSetMatch & 0xffff)
        MOV	A,#((afSetMatch >> 16) & 0xff)
        LJMP	??Subroutine29_0 & 0xFFFF
        CFI EndBlock cfiBlock153
// 3585 }
// 3586 
// 3587 /*********************************************************************
// 3588  * @fn      ZDApp_NetworkInit()
// 3589  *
// 3590  * @brief   Used to start the network joining process
// 3591  *
// 3592  * @param   delay - mSec delay to wait before starting
// 3593  *
// 3594  * @return  none
// 3595  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 3596 void ZDApp_NetworkInit( uint16 delay )
ZDApp_NetworkInit:
        CFI Block cfiBlock154 Using cfiCommon0
        CFI Function ZDApp_NetworkInit
// 3597 {
        FUNCALL ZDApp_NetworkInit, osal_start_timerEx
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        FUNCALL ZDApp_NetworkInit, osal_set_event
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        PUSH	DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH	DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 3598   if ( delay )
        MOV	A,R2
        JNZ	??ZDApp_NetworkInit_0
        MOV	A,R3
??ZDApp_NetworkInit_0:
        JZ	??ZDApp_NetworkInit_1
// 3599   {
// 3600     // Wait awhile before starting the device
// 3601     osal_start_timerEx( ZDAppTaskID, ZDO_NETWORK_INIT, delay );
        ; Setup parameters for call to function osal_start_timerEx
        MOV	A,R2
        MOV	R4,A
        MOV	A,R3
        MOV	R5,A
        MOV	R2,#0x1
        MOV	R3,#0x0
        LCALL	??Subroutine5_1 & 0xFFFF
??CrossCallReturnLabel_12:
        SJMP	??CrossCallReturnLabel_56
// 3602   }
// 3603   else
// 3604   {
// 3605     osal_set_event( ZDAppTaskID, ZDO_NETWORK_INIT );
??ZDApp_NetworkInit_1:
        ; Setup parameters for call to function osal_set_event
        MOV	R2,#0x1
        LCALL	?Subroutine26 & 0xFFFF
??CrossCallReturnLabel_56:
        LJMP	??Subroutine29_0 & 0xFFFF
        CFI EndBlock cfiBlock154
// 3606   }
// 3607 }
// 3608 
// 3609 #if defined ( ZDO_IEEEADDR_REQUEST )
// 3610 /*********************************************************************
// 3611  * @fn      ZDApp_RegisterForIEEEAddrRsp()
// 3612  *
// 3613  * @brief   Register to receive IEEE Addr Response messages
// 3614  *
// 3615  * @param   TaskID - ID of task to send message
// 3616  *
// 3617  * @return  none
// 3618  */
// 3619 void ZDApp_RegisterForIEEEAddrRsp( byte TaskID )
// 3620 {
// 3621   ZDApp_IEEEAddrRsp_TaskID = TaskID;    // Only 1 task at a time
// 3622 }
// 3623 #endif // defined ( ZDO_IEEEADDR_REQUEST )
// 3624 
// 3625 #if defined ( ZDO_NWKADDR_REQUEST )
// 3626 /*********************************************************************
// 3627  * @fn      ZDApp_RegisterForNwkAddrRsp()
// 3628  *
// 3629  * @brief   Register to receive NWK Addr Response messages
// 3630  *
// 3631  * @param   TaskID - ID of task to send message
// 3632  *
// 3633  * @return  none
// 3634  */
// 3635 void ZDApp_RegisterForNwkAddrRsp( byte TaskID )
// 3636 {
// 3637   ZDApp_NwkAddrRsp_TaskID = TaskID;    // Only 1 task at a time
// 3638 }
// 3639 #endif // defined ( ZDO_NWKADDR_REQUEST )
// 3640 
// 3641 /*********************************************************************
// 3642  * @fn      ZDApp_RegisterForMatchDescRsp()
// 3643  *
// 3644  * @brief   Register to receive Match Descriptor Response messages
// 3645  *
// 3646  * @param   TaskID - ID of task to send message
// 3647  *
// 3648  * @return  none
// 3649  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 3650 void ZDApp_RegisterForMatchDescRsp( byte TaskID )
ZDApp_RegisterForMatchDescRsp:
        CFI Block cfiBlock155 Using cfiCommon0
        CFI Function ZDApp_RegisterForMatchDescRsp
// 3651 {
        PUSH	DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH	DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 3652   ZDApp_MatchDescRsp_TaskID = TaskID;    // Only 1 task at a time
        MOV	A,R1
        MOV	DPTR,#??ZDApp_MatchDescRsp_TaskID
        MOVX	@DPTR,A
// 3653 }
        LJMP	??Subroutine23_0 & 0xFFFF
        CFI EndBlock cfiBlock155
// 3654 
// 3655 /*********************************************************************
// 3656  * @fn      ZDApp_RegisterForEndDeviceAnnounce()
// 3657  *
// 3658  * @brief   Register to receive End Device Announce messages
// 3659  *
// 3660  * @param   TaskID - ID of task to send message
// 3661  *
// 3662  * @return  none
// 3663  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 3664 void ZDApp_RegisterForEndDeviceAnnounce( byte TaskID )
ZDApp_RegisterForEndDeviceAnnounce:
        CFI Block cfiBlock156 Using cfiCommon0
        CFI Function ZDApp_RegisterForEndDeviceAnnounce
// 3665 {
        PUSH	DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH	DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 3666   ZDApp_EndDeviceAnnounce_TaskID = TaskID;    // Only 1 task at a time
        MOV	A,R1
        MOV	DPTR,#??ZDApp_EndDeviceAnnounce_TaskID
        MOVX	@DPTR,A
// 3667 }
        LJMP	??Subroutine23_0 & 0xFFFF
        CFI EndBlock cfiBlock156
// 3668 
// 3669 #if defined ( ZDO_BIND_UNBIND_REQUEST )
// 3670 /*********************************************************************
// 3671  * @fn      ZDApp_RegisterForBindRsp()
// 3672  *
// 3673  * @brief   Register to receive Bind_rsp and Unbind_rsp messages
// 3674  *
// 3675  * @param   TaskID - ID of task to send message
// 3676  *
// 3677  * @return  none
// 3678  */
// 3679 void ZDApp_RegisterForBindRsp( byte TaskID )
// 3680 {
// 3681   ZDApp_BindUnbindRsp_TaskID = TaskID;    // Only 1 task at a time
// 3682 }
// 3683 #endif // ZDO_BIND_UNBIND_REQUEST
// 3684 
// 3685 #if defined ( ZDO_BIND_UNBIND_RESPONSE ) && !defined ( REFLECTOR )
// 3686 /*********************************************************************
// 3687  * @fn      ZDApp_RegisterForBindReq()
// 3688  *
// 3689  * @brief   Register to receive Bind and Unbind Request messages
// 3690  *
// 3691  * @param   TaskID - ID of task to send message
// 3692  *
// 3693  * @return  none
// 3694  */
// 3695 void ZDApp_RegisterForBindReq( byte TaskID )
// 3696 {
// 3697   ZDApp_BindReq_TaskID = TaskID;
// 3698 }
// 3699 #endif
// 3700 
// 3701 #if defined ( ZDO_MGMT_BIND_RESPONSE ) && !defined ( REFLECTOR )
// 3702 /*********************************************************************
// 3703  * @fn      ZDApp_RegisterForMgmtBindReq()
// 3704  *
// 3705  * @brief   Register to receive Mgmt Bind Request messages
// 3706  *
// 3707  * @param   TaskID - ID of task to send message
// 3708  *
// 3709  * @return  none
// 3710  */
// 3711 void ZDApp_RegisterForMgmtBindReq( byte TaskID )
// 3712 {
// 3713   ZDApp_MgmtBindReq_TaskID = TaskID;
// 3714 }
// 3715 #endif
// 3716 
// 3717 /*********************************************************************
// 3718  * @fn      ZDApp_StartUpFromApp()
// 3719  *
// 3720  * @brief   Start the device.  This function will only start a device
// 3721  *          that is in the Holding state.
// 3722  *
// 3723  * @param   mode - ZDAPP_STARTUP_COORD - Start up as coordinator only
// 3724  *                 ZDAPP_STARTUP_ROUTER - Start up as router only
// 3725  *                 ZDAPP_STARTUP_AUTO - Startup in auto, look for coord,
// 3726  *                                       if not found, become coord.
// 3727  *
// 3728  * @return  TRUE if started, FALSE if in the wrong mode
// 3729  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 3730 ZStatus_t ZDApp_StartUpFromApp( uint8 mode )
ZDApp_StartUpFromApp:
        CFI Block cfiBlock157 Using cfiCommon0
        CFI Function ZDApp_StartUpFromApp
// 3731 {
        FUNCALL ZDApp_StartUpFromApp, ZDOInitDevice
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        PUSH	DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH	DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 3732   ZStatus_t ret = ZFailure;
        MOV	R1,#0x1
// 3733 
// 3734   if ( devState == DEV_HOLD )
        MOV	DPTR,#devState
        MOVX	A,@DPTR
        JNZ	??ZDApp_StartUpFromApp_0
// 3735   {
// 3736     // Start the device's joining process
// 3737     if ( ZDOInitDevice( 0 ) == ZDO_INITDEV_NEW_NETWORK_STATE )
        ; Setup parameters for call to function ZDOInitDevice
        MOV	R2,#0x0
        MOV	R3,#0x0
        MOV	DPTR,#(ZDOInitDevice & 0xffff)
        MOV	A,#((ZDOInitDevice >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
// 3738     {
// 3739 #if defined( SOFT_START )
// 3740       if ( mode == ZDAPP_STARTUP_COORD )
// 3741       {
// 3742         devStartMode = MODE_HARD;     // Start as a coordinator
// 3743         ZDO_Config_Node_Descriptor.LogicalType = NODETYPE_COORDINATOR;
// 3744       }
// 3745       else
// 3746       {
// 3747         if ( mode == ZDAPP_STARTUP_ROUTER )
// 3748         {
// 3749           softStartAllowCoord = FALSE;  // Don't allow coord to start
// 3750           continueJoining = TRUE;
// 3751         }
// 3752         devStartMode = MODE_JOIN;     // Assume joining
// 3753       }
// 3754 #endif  // SOFT_START
// 3755     }
// 3756     ret = ZSuccess;
        MOV	R1,#0x0
// 3757   }
// 3758 
// 3759   return ( ret );
??ZDApp_StartUpFromApp_0:
        LJMP	??Subroutine23_0 & 0xFFFF
        CFI EndBlock cfiBlock157
// 3760 }
// 3761 
// 3762 /*********************************************************************
// 3763  * @fn      ZDApp_StopStartUp()
// 3764  *
// 3765  * @brief   Stops the joining process of a router.  This will only
// 3766  *          work if the router is in the scanning process and
// 3767  *          the SOFT_START feature is enabled.
// 3768  *
// 3769  * @param   none
// 3770  *
// 3771  * @return  TRUE if SOFT_START is enabled, FALSE if not possible
// 3772  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 3773 uint8 ZDApp_StopStartUp( void )
ZDApp_StopStartUp:
        CFI Block cfiBlock158 Using cfiCommon0
        CFI Function ZDApp_StopStartUp
// 3774 {
        ; Saved register size: 0
        ; Auto size: 0
// 3775   uint8 ret = FALSE;
// 3776 
// 3777 #if defined( SOFT_START )
// 3778   continueJoining = FALSE;
// 3779   ret = TRUE;
// 3780 #endif  // SOFT_START
// 3781 
// 3782   return ( ret );
        MOV	R1,#0x0
        LJMP	?BRET
        CFI EndBlock cfiBlock158
// 3783 }
// 3784 
// 3785 /*********************************************************************
// 3786  * @fn      ZDApp_StartJoiningCycle()
// 3787  *
// 3788  * @brief   Starts the joining cycle of a device.  This will only
// 3789  *          continue an already started (or stopped) joining cycle.
// 3790  *
// 3791  * @param   none
// 3792  *
// 3793  * @return  TRUE if joining stopped, FALSE if joining or rejoining
// 3794  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 3795 uint8 ZDApp_StartJoiningCycle( void )
ZDApp_StartJoiningCycle:
        CFI Block cfiBlock159 Using cfiCommon0
        CFI Function ZDApp_StartJoiningCycle
// 3796 {
        FUNCALL ZDApp_StartJoiningCycle, ZDApp_NetworkInit
        LOCFRAME ISTACK, 2, STACK
        ARGFRAME ISTACK, 2, STACK
        PUSH	DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH	DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 3797   if ( devState == DEV_INIT || devState == DEV_NWK_DISC )
        MOV	DPTR,#devState
        MOVX	A,@DPTR
        XRL	A,#0x1
        JZ	??ZDApp_StartJoiningCycle_0
        MOVX	A,@DPTR
        XRL	A,#0x2
        JNZ	??ZDApp_StartJoiningCycle_1
// 3798   {
// 3799     continueJoining = TRUE;
??ZDApp_StartJoiningCycle_0:
        MOV	A,#0x1
        MOV	DPTR,#continueJoining
        LCALL	?Subroutine2 & 0xFFFF
// 3800     ZDApp_NetworkInit( 0 );
??CrossCallReturnLabel_58:
        LCALL	?BCALL               ; Banked call to: DPTR()
// 3801 
// 3802     return ( TRUE );
        MOV	R1,#0x1
        SJMP	??ZDApp_StartJoiningCycle_2
// 3803   }
// 3804   else
// 3805     return ( FALSE );
??ZDApp_StartJoiningCycle_1:
        MOV	R1,#0x0
??ZDApp_StartJoiningCycle_2:
        LJMP	??Subroutine23_0 & 0xFFFF
        CFI EndBlock cfiBlock159
// 3806 }

        RSEG BANKED_CODE:CODE:NOROOT(0)
?Subroutine2:
        CFI Block cfiCond160 Using cfiCommon0
        CFI NoFunction
        CFI Conditional ??CrossCallReturnLabel_57
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        CFI Block cfiCond161 Using cfiCommon0
        CFI (cfiCond161) NoFunction
        CFI (cfiCond161) Conditional ??CrossCallReturnLabel_58
        CFI (cfiCond161) DPL0 Frame(CFA_SP, 4)
        CFI (cfiCond161) DPH0 Frame(CFA_SP, 5)
        CFI (cfiCond161) CFA_SP SP+-5
        CFI Block cfiPicker162 Using cfiCommon1
        CFI (cfiPicker162) NoFunction
        CFI (cfiPicker162) Picker
        MOVX	@DPTR,A
        ; Setup parameters for call to function ZDApp_NetworkInit
        ; Setup parameters for call to function ZDApp_NetworkInit
        MOV	R2,#0x0
        LJMP	?Subroutine27 & 0xFFFF
        CFI EndBlock cfiCond160
        CFI EndBlock cfiCond161
        CFI EndBlock cfiPicker162
// 3807 
// 3808 /*********************************************************************
// 3809  * @fn      ZDApp_StopJoiningCycle()
// 3810  *
// 3811  * @brief   Stops the joining or rejoining process of a device.
// 3812  *
// 3813  * @param   none
// 3814  *
// 3815  * @return  TRUE if joining stopped, FALSE if joining or rejoining
// 3816  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 3817 uint8 ZDApp_StopJoiningCycle( void )
ZDApp_StopJoiningCycle:
        CFI Block cfiBlock163 Using cfiCommon0
        CFI Function ZDApp_StopJoiningCycle
// 3818 {
        PUSH	DPL
        CFI DPL0 Frame(CFA_SP, 4)
        CFI CFA_SP SP+-4
        PUSH	DPH
        CFI DPH0 Frame(CFA_SP, 5)
        CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
// 3819   if ( devState == DEV_INIT || devState == DEV_NWK_DISC )
        MOV	DPTR,#devState
        MOVX	A,@DPTR
        XRL	A,#0x1
        JZ	??ZDApp_StopJoiningCycle_0
        MOVX	A,@DPTR
        XRL	A,#0x2
        JNZ	??ZDApp_StopJoiningCycle_1
// 3820   {
// 3821     continueJoining = FALSE;
??ZDApp_StopJoiningCycle_0:
        CLR	A
        MOV	DPTR,#continueJoining
        MOVX	@DPTR,A
// 3822     return ( TRUE );
        MOV	R1,#0x1
        SJMP	??ZDApp_StopJoiningCycle_2
// 3823   }
// 3824   else
// 3825     return ( FALSE );
??ZDApp_StopJoiningCycle_1:
        MOV	R1,#0x0
??ZDApp_StopJoiningCycle_2:
        LJMP	??Subroutine23_0 & 0xFFFF
        CFI EndBlock cfiBlock163
// 3826 }
// 3827 
// 3828 #if !defined ( ZDO_COORDINATOR ) || defined ( SOFT_START )
// 3829 /*********************************************************************
// 3830  * @fn      ZDApp_NodeProfileSync()
// 3831  *
// 3832  * @brief   Sync node with stack profile.
// 3833  *
// 3834  * @param   cfm - ZDO_NetworkDiscoveryCfm_t
// 3835  *
// 3836  * @return  none
// 3837  */

        RSEG BANKED_CODE:CODE:NOROOT(0)
// 3838 void ZDApp_NodeProfileSync( ZDO_NetworkDiscoveryCfm_t* cfm )
ZDApp_NodeProfileSync:
        CFI Block cfiBlock164 Using cfiCommon0
        CFI Function ZDApp_NodeProfileSync
// 3839 {
        FUNCALL ZDApp_NodeProfileSync, nwk_getNetworkDesc
        LOCFRAME XSTACK, 10, STACK
        ARGFRAME XSTACK, 10, STACK
        MOV	A,#-0xa
        LCALL	?BANKED_ENTER_XDATA
        CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
        CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
        CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
        CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
        CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
        CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
        CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
        CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
        CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
        CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
        CFI CFA_SP SP+0
        CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 0
// 3840   networkDesc_t* desc;
// 3841   uint16         panID;
// 3842 
// 3843   if ( ZDO_Config_Node_Descriptor.CapabilityFlags & CAPINFO_DEVICETYPE_FFD  )
        MOV	DPTR,#(ZDO_Config_Node_Descriptor + 2)
        MOVX	A,@DPTR
        MOV	C,0xE0 /* A   */.1
        JNC	??ZDApp_NodeProfileSync_0
// 3844   {
// 3845     panID = BUILD_UINT16( cfm->panIdLSB, cfm->panIdMSB );
// 3846 
// 3847     desc = nwk_getNetworkDesc( cfm->extendedPANID, panID, cfm->logicalChannel );
        ; Setup parameters for call to function nwk_getNetworkDesc
        MOV	DPL,R2
        MOV	DPH,R3
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        MOVX	A,@DPTR
        MOV	R1,A
        MOV	DPL,R2
        MOV	DPH,R3
        INC	DPTR
        INC	DPTR
        MOVX	A,@DPTR
        MOV	R6,A
        MOV	DPL,R2
        MOV	DPH,R3
        INC	DPTR
        INC	DPTR
        INC	DPTR
        MOVX	A,@DPTR
        MOV	R5,A
        CLR	A
        ADD	A,R6
        MOV	R4,A
        MOV	A,R5
        ADDC	A,#0x0
        MOV	R5,A
        MOV	A,R2
        ADD	A,#0x6
        MOV	R2,A
        MOV	A,R3
        ADDC	A,#0x0
        MOV	R3,A
        MOV	DPTR,#(nwk_getNetworkDesc & 0xffff)
        MOV	A,#((nwk_getNetworkDesc >> 16) & 0xff)
        LCALL	?BCALL               ; Banked call to: DPTR()
        MOV	DPL,R2
        MOV	DPH,R3
// 3848 
// 3849     if (desc != NULL)
        MOV	A,DPL
        JNZ	??ZDApp_NodeProfileSync_1
        MOV	A,DPH
??ZDApp_NodeProfileSync_1:
        JZ	??ZDApp_NodeProfileSync_0
// 3850     {
// 3851       if ( desc->stackProfile != zgStackProfile )
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        INC	DPTR
        MOVX	A,@DPTR
        MOV	R2,A
        MOV	DPTR,#zgStackProfile
        MOVX	A,@DPTR
        XRL	A,R2
        JZ	??ZDApp_NodeProfileSync_0
// 3852       {
// 3853         ZDO_Config_Node_Descriptor.LogicalType = NODETYPE_DEVICE;
        MOV	DPTR,#ZDO_Config_Node_Descriptor
        MOVX	A,@DPTR
        ANL	A,#0xf8
        ORL	A,#0x2
        MOVX	@DPTR,A
// 3854         ZDO_Config_Node_Descriptor.CapabilityFlags = CAPINFO_DEVICETYPE_RFD | CAPINFO_POWER_AC | CAPINFO_RCVR_ON_IDLE;
        MOV	A,#0xc
        MOV	DPTR,#(ZDO_Config_Node_Descriptor + 2)
        MOVX	@DPTR,A
// 3855       }
// 3856     }
// 3857   }
// 3858 }
??ZDApp_NodeProfileSync_0:
        LJMP	??Subroutine24_1 & 0xFFFF
        CFI EndBlock cfiBlock164

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for zdoDiscCounter>`:
        DB 1

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for continueJoining>`:
        DB 1

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for devState>`:
        DB 1

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for sPVerList>`:
        DB 2, 1

        RSEG XDATA_ID:CODE:NOROOT(0)
`?<Initializer for ZDApp_epDesc>`:
        DB 0
        DW ZDAppTaskID, 0H
        DB 0

        ASEGN SFR_AN:DATA:NOROOT,0a8H
// union <unnamed> volatile __sfr _A_IEN0
_A_IEN0:
        DS 1

        END
// 3859 #endif
// 3860 
// 3861 /*********************************************************************
// 3862 *********************************************************************/
// 
// 4 370 bytes in segment BANKED_CODE
//     2 bytes in segment SFR_AN
//    11 bytes in segment XDATA_I
//    11 bytes in segment XDATA_ID
//    19 bytes in segment XDATA_Z
// 
// 4 381 bytes of CODE  memory
//     0 bytes of DATA  memory (+ 2 bytes shared)
//    30 bytes of XDATA memory
//
//Errors: none
//Warnings: none
